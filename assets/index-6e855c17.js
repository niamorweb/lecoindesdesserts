(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G1={exports:{}},uc={},Q1={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ka=Symbol.for("react.element"),xT=Symbol.for("react.portal"),NT=Symbol.for("react.fragment"),CT=Symbol.for("react.strict_mode"),RT=Symbol.for("react.profiler"),PT=Symbol.for("react.provider"),DT=Symbol.for("react.context"),LT=Symbol.for("react.forward_ref"),MT=Symbol.for("react.suspense"),$T=Symbol.for("react.memo"),UT=Symbol.for("react.lazy"),Om=Symbol.iterator;function jT(t){return t===null||typeof t!="object"?null:(t=Om&&t[Om]||t["@@iterator"],typeof t=="function"?t:null)}var Y1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X1=Object.assign,J1={};function Mo(t,e,n){this.props=t,this.context=e,this.refs=J1,this.updater=n||Y1}Mo.prototype.isReactComponent={};Mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z1(){}Z1.prototype=Mo.prototype;function ip(t,e,n){this.props=t,this.context=e,this.refs=J1,this.updater=n||Y1}var op=ip.prototype=new Z1;op.constructor=ip;X1(op,Mo.prototype);op.isPureReactComponent=!0;var Im=Array.isArray,e0=Object.prototype.hasOwnProperty,sp={current:null},t0={key:!0,ref:!0,__self:!0,__source:!0};function n0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)e0.call(e,r)&&!t0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ka,type:t,key:o,ref:s,props:i,_owner:sp.current}}function FT(t,e){return{$$typeof:ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ap(t){return typeof t=="object"&&t!==null&&t.$$typeof===ka}function BT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xm=/\/+/g;function Ef(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BT(""+t.key):e.toString(36)}function Rl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ka:case xT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ef(s,0):r,Im(i)?(n="",t!=null&&(n=t.replace(xm,"$&/")+"/"),Rl(i,e,n,"",function(h){return h})):i!=null&&(ap(i)&&(i=FT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Im(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ef(o,a);s+=Rl(o,e,n,l,i)}else if(l=jT(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ef(o,a++),s+=Rl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function el(t,e,n){if(t==null)return t;var r=[],i=0;return Rl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function qT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},Pl={transition:null},zT={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:Pl,ReactCurrentOwner:sp};ke.Children={map:el,forEach:function(t,e,n){el(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return el(t,function(){e++}),e},toArray:function(t){return el(t,function(e){return e})||[]},only:function(t){if(!ap(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=Mo;ke.Fragment=NT;ke.Profiler=RT;ke.PureComponent=ip;ke.StrictMode=CT;ke.Suspense=MT;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zT;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=X1({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=sp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)e0.call(e,l)&&!t0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:ka,type:t.type,key:i,ref:o,props:r,_owner:s}};ke.createContext=function(t){return t={$$typeof:DT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PT,_context:t},t.Consumer=t};ke.createElement=n0;ke.createFactory=function(t){var e=n0.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:LT,render:t}};ke.isValidElement=ap;ke.lazy=function(t){return{$$typeof:UT,_payload:{_status:-1,_result:t},_init:qT}};ke.memo=function(t,e){return{$$typeof:$T,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=Pl.transition;Pl.transition={};try{t()}finally{Pl.transition=e}};ke.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ke.useCallback=function(t,e){return $t.current.useCallback(t,e)};ke.useContext=function(t){return $t.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};ke.useEffect=function(t,e){return $t.current.useEffect(t,e)};ke.useId=function(){return $t.current.useId()};ke.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return $t.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};ke.useRef=function(t){return $t.current.useRef(t)};ke.useState=function(t){return $t.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return $t.current.useTransition()};ke.version="18.2.0";Q1.exports=ke;var X=Q1.exports;const r0=W1(X);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT=X,HT=Symbol.for("react.element"),KT=Symbol.for("react.fragment"),WT=Object.prototype.hasOwnProperty,GT=VT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QT={key:!0,ref:!0,__self:!0,__source:!0};function i0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)WT.call(e,r)&&!QT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HT,type:t,key:o,ref:s,props:i,_owner:GT.current}}uc.Fragment=KT;uc.jsx=i0;uc.jsxs=i0;G1.exports=uc;var K=G1.exports,bh={},o0={exports:{}},rn={},s0={exports:{}},a0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,M){var L=B.length;B.push(M);e:for(;0<L;){var P=L-1>>>1,$=B[P];if(0<i($,M))B[P]=M,B[L]=$,L=P;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var M=B[0],L=B.pop();if(L!==M){B[0]=L;e:for(var P=0,$=B.length,j=$>>>1;P<j;){var q=2*(P+1)-1,F=B[q],U=q+1,z=B[U];if(0>i(F,L))U<$&&0>i(z,F)?(B[P]=z,B[U]=L,P=U):(B[P]=F,B[q]=L,P=q);else if(U<$&&0>i(z,L))B[P]=z,B[U]=L,P=U;else break e}}return M}function i(B,M){var L=B.sortIndex-M.sortIndex;return L!==0?L:B.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],h=[],c=1,f=null,u=3,d=!1,v=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var M=n(h);M!==null;){if(M.callback===null)r(h);else if(M.startTime<=B)r(h),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(h)}}function m(B){if(y=!1,w(B),!v)if(n(l)!==null)v=!0,R(b);else{var M=n(h);M!==null&&C(m,M.startTime-B)}}function b(B,M){v=!1,y&&(y=!1,p(E),E=-1),d=!0;var L=u;try{for(w(M),f=n(l);f!==null&&(!(f.expirationTime>M)||B&&!S());){var P=f.callback;if(typeof P=="function"){f.callback=null,u=f.priorityLevel;var $=P(f.expirationTime<=M);M=t.unstable_now(),typeof $=="function"?f.callback=$:f===n(l)&&r(l),w(M)}else r(l);f=n(l)}if(f!==null)var j=!0;else{var q=n(h);q!==null&&C(m,q.startTime-M),j=!1}return j}finally{f=null,u=L,d=!1}}var k=!1,I=null,E=-1,O=5,T=-1;function S(){return!(t.unstable_now()-T<O)}function A(){if(I!==null){var B=t.unstable_now();T=B;var M=!0;try{M=I(!0,B)}finally{M?N():(k=!1,I=null)}}else k=!1}var N;if(typeof g=="function")N=function(){g(A)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,D=x.port2;x.port1.onmessage=A,N=function(){D.postMessage(null)}}else N=function(){_(A,0)};function R(B){I=B,k||(k=!0,N())}function C(B,M){E=_(function(){B(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||d||(v=!0,R(b))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(u){case 1:case 2:case 3:var M=3;break;default:M=u}var L=u;u=M;try{return B()}finally{u=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,M){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var L=u;u=B;try{return M()}finally{u=L}},t.unstable_scheduleCallback=function(B,M,L){var P=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?P+L:P):L=P,B){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=L+$,B={id:c++,callback:M,priorityLevel:B,startTime:L,expirationTime:$,sortIndex:-1},L>P?(B.sortIndex=L,e(h,B),n(l)===null&&B===n(h)&&(y?(p(E),E=-1):y=!0,C(m,L-P))):(B.sortIndex=$,e(l,B),v||d||(v=!0,R(b))),B},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(B){var M=u;return function(){var L=u;u=M;try{return B.apply(this,arguments)}finally{u=L}}}})(a0);s0.exports=a0;var YT=s0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0=X,tn=YT;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u0=new Set,zs={};function Ri(t,e){_o(t,e),_o(t+"Capture",e)}function _o(t,e){for(zs[t]=e,t=0;t<e.length;t++)u0.add(e[t])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=Object.prototype.hasOwnProperty,XT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nm={},Cm={};function JT(t){return Th.call(Cm,t)?!0:Th.call(Nm,t)?!1:XT.test(t)?Cm[t]=!0:(Nm[t]=!0,!1)}function ZT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eS(t,e,n,r){if(e===null||typeof e>"u"||ZT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var lp=/[\-:]([a-z])/g;function up(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lp,up);wt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lp,up);wt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lp,up);wt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function cp(t,e,n,r){var i=wt.hasOwnProperty(e)?wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eS(e,n,i,r)&&(n=null),r||i===null?JT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hr=l0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tl=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),c0=Symbol.for("react.provider"),f0=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),kh=Symbol.for("react.suspense"),Ah=Symbol.for("react.suspense_list"),dp=Symbol.for("react.memo"),yr=Symbol.for("react.lazy"),h0=Symbol.for("react.offscreen"),Rm=Symbol.iterator;function rs(t){return t===null||typeof t!="object"?null:(t=Rm&&t[Rm]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,bf;function ms(t){if(bf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bf=e&&e[1]||""}return`
`+bf+t}var Tf=!1;function Sf(t,e){if(!t||Tf)return"";Tf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Tf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ms(t):""}function tS(t){switch(t.tag){case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return t=Sf(t.type,!1),t;case 11:return t=Sf(t.type.render,!1),t;case 1:return t=Sf(t.type,!0),t;default:return""}}function Oh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wi:return"Fragment";case Ki:return"Portal";case Sh:return"Profiler";case fp:return"StrictMode";case kh:return"Suspense";case Ah:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case f0:return(t.displayName||"Context")+".Consumer";case c0:return(t._context.displayName||"Context")+".Provider";case hp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dp:return e=t.displayName||null,e!==null?e:Oh(t.type)||"Memo";case yr:e=t._payload,t=t._init;try{return Oh(t(e))}catch{}}return null}function nS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oh(e);case 8:return e===fp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rS(t){var e=d0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nl(t){t._valueTracker||(t._valueTracker=rS(t))}function p0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=d0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ih(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function g0(t,e){e=e.checked,e!=null&&cp(t,"checked",e,!1)}function xh(t,e){g0(t,e);var n=qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nh(t,e.type,qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nh(t,e,n){(e!=="number"||Zl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vs=Array.isArray;function ao(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ch(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(vs(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qr(n)}}function m0(t,e){var n=qr(e.value),r=qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Mm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function v0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?v0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rl,y0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rl=rl||document.createElement("div"),rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iS=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(t){iS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Os[e]=Os[t]})});function w0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Os.hasOwnProperty(t)&&Os[t]?(""+e).trim():e+"px"}function _0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=w0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var oS=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ph(t,e){if(e){if(oS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Dh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=null;function pp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mh=null,lo=null,uo=null;function $m(t){if(t=Ia(t)){if(typeof Mh!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=pc(e),Mh(t.stateNode,t.type,e))}}function E0(t){lo?uo?uo.push(t):uo=[t]:lo=t}function b0(){if(lo){var t=lo,e=uo;if(uo=lo=null,$m(t),e)for(t=0;t<e.length;t++)$m(e[t])}}function T0(t,e){return t(e)}function S0(){}var kf=!1;function k0(t,e,n){if(kf)return t(e,n);kf=!0;try{return T0(t,e,n)}finally{kf=!1,(lo!==null||uo!==null)&&(S0(),b0())}}function Hs(t,e){var n=t.stateNode;if(n===null)return null;var r=pc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var $h=!1;if(nr)try{var is={};Object.defineProperty(is,"passive",{get:function(){$h=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{$h=!1}function sS(t,e,n,r,i,o,s,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(c){this.onError(c)}}var Is=!1,eu=null,tu=!1,Uh=null,aS={onError:function(t){Is=!0,eu=t}};function lS(t,e,n,r,i,o,s,a,l){Is=!1,eu=null,sS.apply(aS,arguments)}function uS(t,e,n,r,i,o,s,a,l){if(lS.apply(this,arguments),Is){if(Is){var h=eu;Is=!1,eu=null}else throw Error(Z(198));tu||(tu=!0,Uh=h)}}function Pi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Um(t){if(Pi(t)!==t)throw Error(Z(188))}function cS(t){var e=t.alternate;if(!e){if(e=Pi(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Um(i),t;if(o===r)return Um(i),e;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function O0(t){return t=cS(t),t!==null?I0(t):null}function I0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=I0(t);if(e!==null)return e;t=t.sibling}return null}var x0=tn.unstable_scheduleCallback,jm=tn.unstable_cancelCallback,fS=tn.unstable_shouldYield,hS=tn.unstable_requestPaint,Xe=tn.unstable_now,dS=tn.unstable_getCurrentPriorityLevel,gp=tn.unstable_ImmediatePriority,N0=tn.unstable_UserBlockingPriority,nu=tn.unstable_NormalPriority,pS=tn.unstable_LowPriority,C0=tn.unstable_IdlePriority,cc=null,Dn=null;function gS(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(cc,t,void 0,(t.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:yS,mS=Math.log,vS=Math.LN2;function yS(t){return t>>>=0,t===0?32:31-(mS(t)/vS|0)|0}var il=64,ol=4194304;function ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ys(a):(o&=s,o!==0&&(r=ys(o)))}else s=n&~i,s!==0?r=ys(s):o!==0&&(r=ys(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wn(e),i=1<<n,r|=t[n],e&=~i;return r}function wS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _S(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-wn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=wS(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function jh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function R0(){var t=il;return il<<=1,!(il&4194240)&&(il=64),t}function Af(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Aa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wn(e),t[e]=n}function ES(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function mp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function P0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D0,vp,L0,M0,$0,Fh=!1,sl=[],Nr=null,Cr=null,Rr=null,Ks=new Map,Ws=new Map,_r=[],bS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fm(t,e){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Ks.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(e.pointerId)}}function os(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ia(e),e!==null&&vp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TS(t,e,n,r,i){switch(e){case"focusin":return Nr=os(Nr,t,e,n,r,i),!0;case"dragenter":return Cr=os(Cr,t,e,n,r,i),!0;case"mouseover":return Rr=os(Rr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ks.set(o,os(Ks.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ws.set(o,os(Ws.get(o)||null,t,e,n,r,i)),!0}return!1}function U0(t){var e=li(t.target);if(e!==null){var n=Pi(e);if(n!==null){if(e=n.tag,e===13){if(e=A0(n),e!==null){t.blockedOn=e,$0(t.priority,function(){L0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lh=r,n.target.dispatchEvent(r),Lh=null}else return e=Ia(n),e!==null&&vp(e),t.blockedOn=n,!1;e.shift()}return!0}function Bm(t,e,n){Dl(t)&&n.delete(e)}function SS(){Fh=!1,Nr!==null&&Dl(Nr)&&(Nr=null),Cr!==null&&Dl(Cr)&&(Cr=null),Rr!==null&&Dl(Rr)&&(Rr=null),Ks.forEach(Bm),Ws.forEach(Bm)}function ss(t,e){t.blockedOn===e&&(t.blockedOn=null,Fh||(Fh=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,SS)))}function Gs(t){function e(i){return ss(i,t)}if(0<sl.length){ss(sl[0],t);for(var n=1;n<sl.length;n++){var r=sl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Nr!==null&&ss(Nr,t),Cr!==null&&ss(Cr,t),Rr!==null&&ss(Rr,t),Ks.forEach(e),Ws.forEach(e),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)U0(n),n.blockedOn===null&&_r.shift()}var co=hr.ReactCurrentBatchConfig,iu=!0;function kS(t,e,n,r){var i=Ce,o=co.transition;co.transition=null;try{Ce=1,yp(t,e,n,r)}finally{Ce=i,co.transition=o}}function AS(t,e,n,r){var i=Ce,o=co.transition;co.transition=null;try{Ce=4,yp(t,e,n,r)}finally{Ce=i,co.transition=o}}function yp(t,e,n,r){if(iu){var i=Bh(t,e,n,r);if(i===null)Mf(t,e,r,ou,n),Fm(t,r);else if(TS(i,t,e,n,r))r.stopPropagation();else if(Fm(t,r),e&4&&-1<bS.indexOf(t)){for(;i!==null;){var o=Ia(i);if(o!==null&&D0(o),o=Bh(t,e,n,r),o===null&&Mf(t,e,r,ou,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Mf(t,e,r,null,n)}}var ou=null;function Bh(t,e,n,r){if(ou=null,t=pp(r),t=li(t),t!==null)if(e=Pi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ou=t,null}function j0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dS()){case gp:return 1;case N0:return 4;case nu:case pS:return 16;case C0:return 536870912;default:return 16}default:return 16}}var Ar=null,wp=null,Ll=null;function F0(){if(Ll)return Ll;var t,e=wp,n=e.length,r,i="value"in Ar?Ar.value:Ar.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ll=i.slice(t,1<r?1-r:void 0)}function Ml(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function al(){return!0}function qm(){return!1}function on(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?al:qm,this.isPropagationStopped=qm,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),e}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_p=on($o),Oa=ze({},$o,{view:0,detail:0}),OS=on(Oa),Of,If,as,fc=ze({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ep,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==as&&(as&&t.type==="mousemove"?(Of=t.screenX-as.screenX,If=t.screenY-as.screenY):If=Of=0,as=t),Of)},movementY:function(t){return"movementY"in t?t.movementY:If}}),zm=on(fc),IS=ze({},fc,{dataTransfer:0}),xS=on(IS),NS=ze({},Oa,{relatedTarget:0}),xf=on(NS),CS=ze({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),RS=on(CS),PS=ze({},$o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DS=on(PS),LS=ze({},$o,{data:0}),Vm=on(LS),MS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},US={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=US[t])?!!e[t]:!1}function Ep(){return jS}var FS=ze({},Oa,{key:function(t){if(t.key){var e=MS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ml(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$S[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ep,charCode:function(t){return t.type==="keypress"?Ml(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ml(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BS=on(FS),qS=ze({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hm=on(qS),zS=ze({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ep}),VS=on(zS),HS=ze({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),KS=on(HS),WS=ze({},fc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GS=on(WS),QS=[9,13,27,32],bp=nr&&"CompositionEvent"in window,xs=null;nr&&"documentMode"in document&&(xs=document.documentMode);var YS=nr&&"TextEvent"in window&&!xs,B0=nr&&(!bp||xs&&8<xs&&11>=xs),Km=String.fromCharCode(32),Wm=!1;function q0(t,e){switch(t){case"keyup":return QS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gi=!1;function XS(t,e){switch(t){case"compositionend":return z0(e);case"keypress":return e.which!==32?null:(Wm=!0,Km);case"textInput":return t=e.data,t===Km&&Wm?null:t;default:return null}}function JS(t,e){if(Gi)return t==="compositionend"||!bp&&q0(t,e)?(t=F0(),Ll=wp=Ar=null,Gi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B0&&e.locale!=="ko"?null:e.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZS[t.type]:e==="textarea"}function V0(t,e,n,r){E0(r),e=su(e,"onChange"),0<e.length&&(n=new _p("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ns=null,Qs=null;function ek(t){tw(t,0)}function hc(t){var e=Xi(t);if(p0(e))return t}function tk(t,e){if(t==="change")return e}var H0=!1;if(nr){var Nf;if(nr){var Cf="oninput"in document;if(!Cf){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),Cf=typeof Qm.oninput=="function"}Nf=Cf}else Nf=!1;H0=Nf&&(!document.documentMode||9<document.documentMode)}function Ym(){Ns&&(Ns.detachEvent("onpropertychange",K0),Qs=Ns=null)}function K0(t){if(t.propertyName==="value"&&hc(Qs)){var e=[];V0(e,Qs,t,pp(t)),k0(ek,e)}}function nk(t,e,n){t==="focusin"?(Ym(),Ns=e,Qs=n,Ns.attachEvent("onpropertychange",K0)):t==="focusout"&&Ym()}function rk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hc(Qs)}function ik(t,e){if(t==="click")return hc(e)}function ok(t,e){if(t==="input"||t==="change")return hc(e)}function sk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:sk;function Ys(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Th.call(e,i)||!bn(t[i],e[i]))return!1}return!0}function Xm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jm(t,e){var n=Xm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xm(n)}}function W0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function G0(){for(var t=window,e=Zl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zl(t.document)}return e}function Tp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ak(t){var e=G0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&W0(n.ownerDocument.documentElement,n)){if(r!==null&&Tp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Jm(n,o);var s=Jm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lk=nr&&"documentMode"in document&&11>=document.documentMode,Qi=null,qh=null,Cs=null,zh=!1;function Zm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zh||Qi==null||Qi!==Zl(r)||(r=Qi,"selectionStart"in r&&Tp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cs&&Ys(Cs,r)||(Cs=r,r=su(qh,"onSelect"),0<r.length&&(e=new _p("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qi)))}function ll(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yi={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},Rf={},Q0={};nr&&(Q0=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function dc(t){if(Rf[t])return Rf[t];if(!Yi[t])return t;var e=Yi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q0)return Rf[t]=e[n];return t}var Y0=dc("animationend"),X0=dc("animationiteration"),J0=dc("animationstart"),Z0=dc("transitionend"),ew=new Map,ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(t,e){ew.set(t,e),Ri(e,[t])}for(var Pf=0;Pf<ev.length;Pf++){var Df=ev[Pf],uk=Df.toLowerCase(),ck=Df[0].toUpperCase()+Df.slice(1);Gr(uk,"on"+ck)}Gr(Y0,"onAnimationEnd");Gr(X0,"onAnimationIteration");Gr(J0,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(Z0,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ws));function tv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uS(r,e,void 0,t),t.currentTarget=null}function tw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;tv(i,a,h),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,h=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;tv(i,a,h),o=l}}}if(tu)throw t=Uh,tu=!1,Uh=null,t}function De(t,e){var n=e[Gh];n===void 0&&(n=e[Gh]=new Set);var r=t+"__bubble";n.has(r)||(nw(e,t,2,!1),n.add(r))}function Lf(t,e,n){var r=0;e&&(r|=4),nw(n,t,r,e)}var ul="_reactListening"+Math.random().toString(36).slice(2);function Xs(t){if(!t[ul]){t[ul]=!0,u0.forEach(function(n){n!=="selectionchange"&&(fk.has(n)||Lf(n,!1,t),Lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ul]||(e[ul]=!0,Lf("selectionchange",!1,e))}}function nw(t,e,n,r){switch(j0(e)){case 1:var i=kS;break;case 4:i=AS;break;default:i=yp}n=i.bind(null,e,n,t),i=void 0,!$h||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mf(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=li(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}k0(function(){var h=o,c=pp(n),f=[];e:{var u=ew.get(t);if(u!==void 0){var d=_p,v=t;switch(t){case"keypress":if(Ml(n)===0)break e;case"keydown":case"keyup":d=BS;break;case"focusin":v="focus",d=xf;break;case"focusout":v="blur",d=xf;break;case"beforeblur":case"afterblur":d=xf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=xS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=VS;break;case Y0:case X0:case J0:d=RS;break;case Z0:d=KS;break;case"scroll":d=OS;break;case"wheel":d=GS;break;case"copy":case"cut":case"paste":d=DS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Hm}var y=(e&4)!==0,_=!y&&t==="scroll",p=y?u!==null?u+"Capture":null:u;y=[];for(var g=h,w;g!==null;){w=g;var m=w.stateNode;if(w.tag===5&&m!==null&&(w=m,p!==null&&(m=Hs(g,p),m!=null&&y.push(Js(g,m,w)))),_)break;g=g.return}0<y.length&&(u=new d(u,v,null,n,c),f.push({event:u,listeners:y}))}}if(!(e&7)){e:{if(u=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",u&&n!==Lh&&(v=n.relatedTarget||n.fromElement)&&(li(v)||v[rr]))break e;if((d||u)&&(u=c.window===c?c:(u=c.ownerDocument)?u.defaultView||u.parentWindow:window,d?(v=n.relatedTarget||n.toElement,d=h,v=v?li(v):null,v!==null&&(_=Pi(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(d=null,v=h),d!==v)){if(y=zm,m="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=Hm,m="onPointerLeave",p="onPointerEnter",g="pointer"),_=d==null?u:Xi(d),w=v==null?u:Xi(v),u=new y(m,g+"leave",d,n,c),u.target=_,u.relatedTarget=w,m=null,li(c)===h&&(y=new y(p,g+"enter",v,n,c),y.target=w,y.relatedTarget=_,m=y),_=m,d&&v)t:{for(y=d,p=v,g=0,w=y;w;w=Bi(w))g++;for(w=0,m=p;m;m=Bi(m))w++;for(;0<g-w;)y=Bi(y),g--;for(;0<w-g;)p=Bi(p),w--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=Bi(y),p=Bi(p)}y=null}else y=null;d!==null&&nv(f,u,d,y,!1),v!==null&&_!==null&&nv(f,_,v,y,!0)}}e:{if(u=h?Xi(h):window,d=u.nodeName&&u.nodeName.toLowerCase(),d==="select"||d==="input"&&u.type==="file")var b=tk;else if(Gm(u))if(H0)b=ok;else{b=rk;var k=nk}else(d=u.nodeName)&&d.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(b=ik);if(b&&(b=b(t,h))){V0(f,b,n,c);break e}k&&k(t,u,h),t==="focusout"&&(k=u._wrapperState)&&k.controlled&&u.type==="number"&&Nh(u,"number",u.value)}switch(k=h?Xi(h):window,t){case"focusin":(Gm(k)||k.contentEditable==="true")&&(Qi=k,qh=h,Cs=null);break;case"focusout":Cs=qh=Qi=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Zm(f,n,c);break;case"selectionchange":if(lk)break;case"keydown":case"keyup":Zm(f,n,c)}var I;if(bp)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Gi?q0(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(B0&&n.locale!=="ko"&&(Gi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Gi&&(I=F0()):(Ar=c,wp="value"in Ar?Ar.value:Ar.textContent,Gi=!0)),k=su(h,E),0<k.length&&(E=new Vm(E,t,null,n,c),f.push({event:E,listeners:k}),I?E.data=I:(I=z0(n),I!==null&&(E.data=I)))),(I=YS?XS(t,n):JS(t,n))&&(h=su(h,"onBeforeInput"),0<h.length&&(c=new Vm("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:h}),c.data=I))}tw(f,e)})}function Js(t,e,n){return{instance:t,listener:e,currentTarget:n}}function su(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Hs(t,n),o!=null&&r.unshift(Js(t,o,i)),o=Hs(t,e),o!=null&&r.push(Js(t,o,i))),t=t.return}return r}function Bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,h=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&h!==null&&(a=h,i?(l=Hs(n,o),l!=null&&s.unshift(Js(n,l,a))):i||(l=Hs(n,o),l!=null&&s.push(Js(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var hk=/\r\n?/g,dk=/\u0000|\uFFFD/g;function rv(t){return(typeof t=="string"?t:""+t).replace(hk,`
`).replace(dk,"")}function cl(t,e,n){if(e=rv(e),rv(t)!==e&&n)throw Error(Z(425))}function au(){}var Vh=null,Hh=null;function Kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wh=typeof setTimeout=="function"?setTimeout:void 0,pk=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,gk=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(t){return iv.resolve(null).then(t).catch(mk)}:Wh;function mk(t){setTimeout(function(){throw t})}function $f(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gs(e)}function Pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ov(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Uo,Zs="__reactProps$"+Uo,rr="__reactContainer$"+Uo,Gh="__reactEvents$"+Uo,vk="__reactListeners$"+Uo,yk="__reactHandles$"+Uo;function li(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rr]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ov(t);t!==null;){if(n=t[Nn])return n;t=ov(t)}return e}t=n,n=t.parentNode}return null}function Ia(t){return t=t[Nn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function pc(t){return t[Zs]||null}var Qh=[],Ji=-1;function Qr(t){return{current:t}}function Me(t){0>Ji||(t.current=Qh[Ji],Qh[Ji]=null,Ji--)}function Pe(t,e){Ji++,Qh[Ji]=t.current,t.current=e}var zr={},Nt=Qr(zr),Vt=Qr(!1),_i=zr;function Eo(t,e){var n=t.type.contextTypes;if(!n)return zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function lu(){Me(Vt),Me(Nt)}function sv(t,e,n){if(Nt.current!==zr)throw Error(Z(168));Pe(Nt,e),Pe(Vt,n)}function rw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,nS(t)||"Unknown",i));return ze({},n,r)}function uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zr,_i=Nt.current,Pe(Nt,t),Pe(Vt,Vt.current),!0}function av(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=rw(t,e,_i),r.__reactInternalMemoizedMergedChildContext=t,Me(Vt),Me(Nt),Pe(Nt,t)):Me(Vt),Pe(Vt,n)}var Kn=null,gc=!1,Uf=!1;function iw(t){Kn===null?Kn=[t]:Kn.push(t)}function wk(t){gc=!0,iw(t)}function Yr(){if(!Uf&&Kn!==null){Uf=!0;var t=0,e=Ce;try{var n=Kn;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kn=null,gc=!1}catch(i){throw Kn!==null&&(Kn=Kn.slice(t+1)),x0(gp,Yr),i}finally{Ce=e,Uf=!1}}return null}var Zi=[],eo=0,cu=null,fu=0,an=[],ln=0,Ei=null,Gn=1,Qn="";function ii(t,e){Zi[eo++]=fu,Zi[eo++]=cu,cu=t,fu=e}function ow(t,e,n){an[ln++]=Gn,an[ln++]=Qn,an[ln++]=Ei,Ei=t;var r=Gn;t=Qn;var i=32-wn(r)-1;r&=~(1<<i),n+=1;var o=32-wn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Gn=1<<32-wn(e)+i|n<<i|r,Qn=o+t}else Gn=1<<o|n<<i|r,Qn=t}function Sp(t){t.return!==null&&(ii(t,1),ow(t,1,0))}function kp(t){for(;t===cu;)cu=Zi[--eo],Zi[eo]=null,fu=Zi[--eo],Zi[eo]=null;for(;t===Ei;)Ei=an[--ln],an[ln]=null,Qn=an[--ln],an[ln]=null,Gn=an[--ln],an[ln]=null}var Zt=null,Yt=null,Ue=!1,yn=null;function sw(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Yt=Pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ei!==null?{id:Gn,overflow:Qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Yt=null,!0):!1;default:return!1}}function Yh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xh(t){if(Ue){var e=Yt;if(e){var n=e;if(!lv(t,e)){if(Yh(t))throw Error(Z(418));e=Pr(n.nextSibling);var r=Zt;e&&lv(t,e)?sw(r,n):(t.flags=t.flags&-4097|2,Ue=!1,Zt=t)}}else{if(Yh(t))throw Error(Z(418));t.flags=t.flags&-4097|2,Ue=!1,Zt=t}}}function uv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function fl(t){if(t!==Zt)return!1;if(!Ue)return uv(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kh(t.type,t.memoizedProps)),e&&(e=Yt)){if(Yh(t))throw aw(),Error(Z(418));for(;e;)sw(t,e),e=Pr(e.nextSibling)}if(uv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=Pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Zt?Pr(t.stateNode.nextSibling):null;return!0}function aw(){for(var t=Yt;t;)t=Pr(t.nextSibling)}function bo(){Yt=Zt=null,Ue=!1}function Ap(t){yn===null?yn=[t]:yn.push(t)}var _k=hr.ReactCurrentBatchConfig;function mn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var hu=Qr(null),du=null,to=null,Op=null;function Ip(){Op=to=du=null}function xp(t){var e=hu.current;Me(hu),t._currentValue=e}function Jh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fo(t,e){du=t,Op=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Op!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(du===null)throw Error(Z(308));to=t,du.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var ui=null;function Np(t){ui===null?ui=[t]:ui.push(t)}function lw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Np(e)):(n.next=i.next,i.next=n),e.interleaved=n,ir(t,r)}function ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wr=!1;function Cp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ir(t,n)}return i=r.interleaved,i===null?(e.next=e,Np(r)):(e.next=i.next,i.next=e),r.interleaved=e,ir(t,n)}function $l(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mp(t,n)}}function cv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pu(t,e,n,r){var i=t.updateQueue;wr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,h=l.next;l.next=null,s===null?o=h:s.next=h,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=h:a.next=h,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=h=l=null,a=o;do{var u=a.lane,d=a.eventTime;if((r&u)===u){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(u=e,d=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(d,f,u);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,u=typeof v=="function"?v.call(d,f,u):v,u==null)break e;f=ze({},f,u);break e;case 2:wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,u=i.effects,u===null?i.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(h=c=d,l=f):c=c.next=d,s|=u;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;u=a,a=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ti|=s,t.lanes=s,t.memoizedState=f}}function fv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var cw=new l0.Component().refs;function Zh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mc={isMounted:function(t){return(t=t._reactInternals)?Pi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Mr(t),o=er(r,i);o.payload=e,n!=null&&(o.callback=n),e=Dr(t,o,i),e!==null&&(_n(e,t,i,r),$l(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Mr(t),o=er(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Dr(t,o,i),e!==null&&(_n(e,t,i,r),$l(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Mr(t),i=er(n,r);i.tag=2,e!=null&&(i.callback=e),e=Dr(t,i,r),e!==null&&(_n(e,t,r,n),$l(e,t,r))}};function hv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ys(n,r)||!Ys(i,o):!0}function fw(t,e,n){var r=!1,i=zr,o=e.contextType;return typeof o=="object"&&o!==null?o=hn(o):(i=Ht(e)?_i:Nt.current,r=e.contextTypes,o=(r=r!=null)?Eo(t,i):zr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function dv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mc.enqueueReplaceState(e,e.state,null)}function ed(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=cw,Cp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=hn(o):(o=Ht(e)?_i:Nt.current,i.context=Eo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Zh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mc.enqueueReplaceState(i,i.state,null),pu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ls(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===cw&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function hl(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pv(t){var e=t._init;return e(t._payload)}function hw(t){function e(p,g){if(t){var w=p.deletions;w===null?(p.deletions=[g],p.flags|=16):w.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=$r(p,g),p.index=0,p.sibling=null,p}function o(p,g,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<g?(p.flags|=2,g):w):(p.flags|=2,g)):(p.flags|=1048576,g)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,w,m){return g===null||g.tag!==6?(g=Hf(w,p.mode,m),g.return=p,g):(g=i(g,w),g.return=p,g)}function l(p,g,w,m){var b=w.type;return b===Wi?c(p,g,w.props.children,m,w.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===yr&&pv(b)===g.type)?(m=i(g,w.props),m.ref=ls(p,g,w),m.return=p,m):(m=zl(w.type,w.key,w.props,null,p.mode,m),m.ref=ls(p,g,w),m.return=p,m)}function h(p,g,w,m){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Kf(w,p.mode,m),g.return=p,g):(g=i(g,w.children||[]),g.return=p,g)}function c(p,g,w,m,b){return g===null||g.tag!==7?(g=mi(w,p.mode,m,b),g.return=p,g):(g=i(g,w),g.return=p,g)}function f(p,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Hf(""+g,p.mode,w),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case tl:return w=zl(g.type,g.key,g.props,null,p.mode,w),w.ref=ls(p,null,g),w.return=p,w;case Ki:return g=Kf(g,p.mode,w),g.return=p,g;case yr:var m=g._init;return f(p,m(g._payload),w)}if(vs(g)||rs(g))return g=mi(g,p.mode,w,null),g.return=p,g;hl(p,g)}return null}function u(p,g,w,m){var b=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(p,g,""+w,m);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tl:return w.key===b?l(p,g,w,m):null;case Ki:return w.key===b?h(p,g,w,m):null;case yr:return b=w._init,u(p,g,b(w._payload),m)}if(vs(w)||rs(w))return b!==null?null:c(p,g,w,m,null);hl(p,w)}return null}function d(p,g,w,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return p=p.get(w)||null,a(g,p,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case tl:return p=p.get(m.key===null?w:m.key)||null,l(g,p,m,b);case Ki:return p=p.get(m.key===null?w:m.key)||null,h(g,p,m,b);case yr:var k=m._init;return d(p,g,w,k(m._payload),b)}if(vs(m)||rs(m))return p=p.get(w)||null,c(g,p,m,b,null);hl(g,m)}return null}function v(p,g,w,m){for(var b=null,k=null,I=g,E=g=0,O=null;I!==null&&E<w.length;E++){I.index>E?(O=I,I=null):O=I.sibling;var T=u(p,I,w[E],m);if(T===null){I===null&&(I=O);break}t&&I&&T.alternate===null&&e(p,I),g=o(T,g,E),k===null?b=T:k.sibling=T,k=T,I=O}if(E===w.length)return n(p,I),Ue&&ii(p,E),b;if(I===null){for(;E<w.length;E++)I=f(p,w[E],m),I!==null&&(g=o(I,g,E),k===null?b=I:k.sibling=I,k=I);return Ue&&ii(p,E),b}for(I=r(p,I);E<w.length;E++)O=d(I,p,E,w[E],m),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?E:O.key),g=o(O,g,E),k===null?b=O:k.sibling=O,k=O);return t&&I.forEach(function(S){return e(p,S)}),Ue&&ii(p,E),b}function y(p,g,w,m){var b=rs(w);if(typeof b!="function")throw Error(Z(150));if(w=b.call(w),w==null)throw Error(Z(151));for(var k=b=null,I=g,E=g=0,O=null,T=w.next();I!==null&&!T.done;E++,T=w.next()){I.index>E?(O=I,I=null):O=I.sibling;var S=u(p,I,T.value,m);if(S===null){I===null&&(I=O);break}t&&I&&S.alternate===null&&e(p,I),g=o(S,g,E),k===null?b=S:k.sibling=S,k=S,I=O}if(T.done)return n(p,I),Ue&&ii(p,E),b;if(I===null){for(;!T.done;E++,T=w.next())T=f(p,T.value,m),T!==null&&(g=o(T,g,E),k===null?b=T:k.sibling=T,k=T);return Ue&&ii(p,E),b}for(I=r(p,I);!T.done;E++,T=w.next())T=d(I,p,E,T.value,m),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?E:T.key),g=o(T,g,E),k===null?b=T:k.sibling=T,k=T);return t&&I.forEach(function(A){return e(p,A)}),Ue&&ii(p,E),b}function _(p,g,w,m){if(typeof w=="object"&&w!==null&&w.type===Wi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case tl:e:{for(var b=w.key,k=g;k!==null;){if(k.key===b){if(b=w.type,b===Wi){if(k.tag===7){n(p,k.sibling),g=i(k,w.props.children),g.return=p,p=g;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===yr&&pv(b)===k.type){n(p,k.sibling),g=i(k,w.props),g.ref=ls(p,k,w),g.return=p,p=g;break e}n(p,k);break}else e(p,k);k=k.sibling}w.type===Wi?(g=mi(w.props.children,p.mode,m,w.key),g.return=p,p=g):(m=zl(w.type,w.key,w.props,null,p.mode,m),m.ref=ls(p,g,w),m.return=p,p=m)}return s(p);case Ki:e:{for(k=w.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(p,g.sibling),g=i(g,w.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=Kf(w,p.mode,m),g.return=p,p=g}return s(p);case yr:return k=w._init,_(p,g,k(w._payload),m)}if(vs(w))return v(p,g,w,m);if(rs(w))return y(p,g,w,m);hl(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,w),g.return=p,p=g):(n(p,g),g=Hf(w,p.mode,m),g.return=p,p=g),s(p)):n(p,g)}return _}var To=hw(!0),dw=hw(!1),xa={},Ln=Qr(xa),ea=Qr(xa),ta=Qr(xa);function ci(t){if(t===xa)throw Error(Z(174));return t}function Rp(t,e){switch(Pe(ta,e),Pe(ea,t),Pe(Ln,xa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rh(e,t)}Me(Ln),Pe(Ln,e)}function So(){Me(Ln),Me(ea),Me(ta)}function pw(t){ci(ta.current);var e=ci(Ln.current),n=Rh(e,t.type);e!==n&&(Pe(ea,t),Pe(Ln,n))}function Pp(t){ea.current===t&&(Me(Ln),Me(ea))}var Be=Qr(0);function gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jf=[];function Dp(){for(var t=0;t<jf.length;t++)jf[t]._workInProgressVersionPrimary=null;jf.length=0}var Ul=hr.ReactCurrentDispatcher,Ff=hr.ReactCurrentBatchConfig,bi=0,qe=null,it=null,ut=null,mu=!1,Rs=!1,na=0,Ek=0;function _t(){throw Error(Z(321))}function Lp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function Mp(t,e,n,r,i,o){if(bi=o,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ul.current=t===null||t.memoizedState===null?kk:Ak,t=n(r,i),Rs){o=0;do{if(Rs=!1,na=0,25<=o)throw Error(Z(301));o+=1,ut=it=null,e.updateQueue=null,Ul.current=Ok,t=n(r,i)}while(Rs)}if(Ul.current=vu,e=it!==null&&it.next!==null,bi=0,ut=it=qe=null,mu=!1,e)throw Error(Z(300));return t}function $p(){var t=na!==0;return na=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?qe.memoizedState=ut=t:ut=ut.next=t,ut}function dn(){if(it===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ut===null?qe.memoizedState:ut.next;if(e!==null)ut=e,it=t;else{if(t===null)throw Error(Z(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?qe.memoizedState=ut=t:ut=ut.next=t}return ut}function ra(t,e){return typeof e=="function"?e(t):e}function Bf(t){var e=dn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,h=o;do{var c=h.lane;if((bi&c)===c)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var f={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,qe.lanes|=c,Ti|=c}h=h.next}while(h!==null&&h!==o);l===null?s=r:l.next=a,bn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,qe.lanes|=o,Ti|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qf(t){var e=dn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);bn(o,e.memoizedState)||(zt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function gw(){}function mw(t,e){var n=qe,r=dn(),i=e(),o=!bn(r.memoizedState,i);if(o&&(r.memoizedState=i,zt=!0),r=r.queue,Up(ww.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,ia(9,yw.bind(null,n,r,i,e),void 0,null),ct===null)throw Error(Z(349));bi&30||vw(n,e,i)}return i}function vw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yw(t,e,n,r){e.value=n,e.getSnapshot=r,_w(e)&&Ew(t)}function ww(t,e,n){return n(function(){_w(e)&&Ew(t)})}function _w(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function Ew(t){var e=ir(t,1);e!==null&&_n(e,t,1,-1)}function gv(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:t},e.queue=t,t=t.dispatch=Sk.bind(null,qe,t),[e.memoizedState,t]}function ia(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bw(){return dn().memoizedState}function jl(t,e,n,r){var i=In();qe.flags|=t,i.memoizedState=ia(1|e,n,void 0,r===void 0?null:r)}function vc(t,e,n,r){var i=dn();r=r===void 0?null:r;var o=void 0;if(it!==null){var s=it.memoizedState;if(o=s.destroy,r!==null&&Lp(r,s.deps)){i.memoizedState=ia(e,n,o,r);return}}qe.flags|=t,i.memoizedState=ia(1|e,n,o,r)}function mv(t,e){return jl(8390656,8,t,e)}function Up(t,e){return vc(2048,8,t,e)}function Tw(t,e){return vc(4,2,t,e)}function Sw(t,e){return vc(4,4,t,e)}function kw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Aw(t,e,n){return n=n!=null?n.concat([t]):null,vc(4,4,kw.bind(null,e,t),n)}function jp(){}function Ow(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Iw(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xw(t,e,n){return bi&21?(bn(n,e)||(n=R0(),qe.lanes|=n,Ti|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function bk(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Ff.transition;Ff.transition={};try{t(!1),e()}finally{Ce=n,Ff.transition=r}}function Nw(){return dn().memoizedState}function Tk(t,e,n){var r=Mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cw(t))Rw(e,n);else if(n=lw(t,e,n,r),n!==null){var i=Mt();_n(n,t,r,i),Pw(n,e,r)}}function Sk(t,e,n){var r=Mr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cw(t))Rw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,bn(a,s)){var l=e.interleaved;l===null?(i.next=i,Np(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lw(t,e,i,r),n!==null&&(i=Mt(),_n(n,t,r,i),Pw(n,e,r))}}function Cw(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function Rw(t,e){Rs=mu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Pw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mp(t,n)}}var vu={readContext:hn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},kk={readContext:hn,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:mv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jl(4194308,4,kw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jl(4194308,4,t,e)},useInsertionEffect:function(t,e){return jl(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Tk.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:gv,useDebugValue:jp,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=gv(!1),e=t[0];return t=bk.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=In();if(Ue){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),ct===null)throw Error(Z(349));bi&30||vw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,mv(ww.bind(null,r,o,t),[t]),r.flags|=2048,ia(9,yw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=In(),e=ct.identifierPrefix;if(Ue){var n=Qn,r=Gn;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=na++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ek++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ak={readContext:hn,useCallback:Ow,useContext:hn,useEffect:Up,useImperativeHandle:Aw,useInsertionEffect:Tw,useLayoutEffect:Sw,useMemo:Iw,useReducer:Bf,useRef:bw,useState:function(){return Bf(ra)},useDebugValue:jp,useDeferredValue:function(t){var e=dn();return xw(e,it.memoizedState,t)},useTransition:function(){var t=Bf(ra)[0],e=dn().memoizedState;return[t,e]},useMutableSource:gw,useSyncExternalStore:mw,useId:Nw,unstable_isNewReconciler:!1},Ok={readContext:hn,useCallback:Ow,useContext:hn,useEffect:Up,useImperativeHandle:Aw,useInsertionEffect:Tw,useLayoutEffect:Sw,useMemo:Iw,useReducer:qf,useRef:bw,useState:function(){return qf(ra)},useDebugValue:jp,useDeferredValue:function(t){var e=dn();return it===null?e.memoizedState=t:xw(e,it.memoizedState,t)},useTransition:function(){var t=qf(ra)[0],e=dn().memoizedState;return[t,e]},useMutableSource:gw,useSyncExternalStore:mw,useId:Nw,unstable_isNewReconciler:!1};function ko(t,e){try{var n="",r=e;do n+=tS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function zf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function td(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ik=typeof WeakMap=="function"?WeakMap:Map;function Dw(t,e,n){n=er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wu||(wu=!0,fd=r),td(t,e)},n}function Lw(t,e,n){n=er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){td(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){td(t,e),typeof r!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function vv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ik;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qk.bind(null,t,e,n),e.then(t,t))}function yv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=er(-1,1),e.tag=2,Dr(n,e,1))),n.lanes|=1),t)}var xk=hr.ReactCurrentOwner,zt=!1;function Dt(t,e,n,r){e.child=t===null?dw(e,null,n,r):To(e,t.child,n,r)}function _v(t,e,n,r,i){n=n.render;var o=e.ref;return fo(e,i),r=Mp(t,e,n,r,o,i),n=$p(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,or(t,e,i)):(Ue&&n&&Sp(e),e.flags|=1,Dt(t,e,r,i),e.child)}function Ev(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Wp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Mw(t,e,o,r,i)):(t=zl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(s,r)&&t.ref===e.ref)return or(t,e,i)}return e.flags|=1,t=$r(o,r),t.ref=e.ref,t.return=e,e.child=t}function Mw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ys(o,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,or(t,e,i)}return nd(t,e,n,r,i)}function $w(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(ro,Gt),Gt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(ro,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pe(ro,Gt),Gt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Pe(ro,Gt),Gt|=r;return Dt(t,e,i,n),e.child}function Uw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nd(t,e,n,r,i){var o=Ht(n)?_i:Nt.current;return o=Eo(e,o),fo(e,i),n=Mp(t,e,n,r,o,i),r=$p(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,or(t,e,i)):(Ue&&r&&Sp(e),e.flags|=1,Dt(t,e,n,i),e.child)}function bv(t,e,n,r,i){if(Ht(n)){var o=!0;uu(e)}else o=!1;if(fo(e,i),e.stateNode===null)Fl(t,e),fw(e,n,r),ed(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=hn(h):(h=Ht(n)?_i:Nt.current,h=Eo(e,h));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==h)&&dv(e,s,r,h),wr=!1;var u=e.memoizedState;s.state=u,pu(e,r,s,i),l=e.memoizedState,a!==r||u!==l||Vt.current||wr?(typeof c=="function"&&(Zh(e,n,c,r),l=e.memoizedState),(a=wr||hv(e,n,a,r,u,l,h))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=h,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,uw(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:mn(e.type,a),s.props=h,f=e.pendingProps,u=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=hn(l):(l=Ht(n)?_i:Nt.current,l=Eo(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||u!==l)&&dv(e,s,r,l),wr=!1,u=e.memoizedState,s.state=u,pu(e,r,s,i);var v=e.memoizedState;a!==f||u!==v||Vt.current||wr?(typeof d=="function"&&(Zh(e,n,d,r),v=e.memoizedState),(h=wr||hv(e,n,h,r,u,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=h):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),r=!1)}return rd(t,e,n,r,o,i)}function rd(t,e,n,r,i,o){Uw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&av(e,n,!1),or(t,e,o);r=e.stateNode,xk.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=To(e,t.child,null,o),e.child=To(e,null,a,o)):Dt(t,e,a,o),e.memoizedState=r.state,i&&av(e,n,!0),e.child}function jw(t){var e=t.stateNode;e.pendingContext?sv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sv(t,e.context,!1),Rp(t,e.containerInfo)}function Tv(t,e,n,r,i){return bo(),Ap(i),e.flags|=256,Dt(t,e,n,r),e.child}var id={dehydrated:null,treeContext:null,retryLane:0};function od(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fw(t,e,n){var r=e.pendingProps,i=Be.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Be,i&1),t===null)return Xh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=_c(s,r,0,null),t=mi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=od(n),e.memoizedState=id,t):Fp(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Nk(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$r(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=$r(a,o):(o=mi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?od(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=id,r}return o=t.child,t=o.sibling,r=$r(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fp(t,e){return e=_c({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dl(t,e,n,r){return r!==null&&Ap(r),To(e,t.child,null,n),t=Fp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nk(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=zf(Error(Z(422))),dl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=_c({mode:"visible",children:r.children},i,0,null),o=mi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&To(e,t.child,null,s),e.child.memoizedState=od(s),e.memoizedState=id,o);if(!(e.mode&1))return dl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Z(419)),r=zf(o,r,void 0),dl(t,e,s,r)}if(a=(s&t.childLanes)!==0,zt||a){if(r=ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ir(t,i),_n(r,t,i,-1))}return Kp(),r=zf(Error(Z(421))),dl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zk.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Yt=Pr(i.nextSibling),Zt=e,Ue=!0,yn=null,t!==null&&(an[ln++]=Gn,an[ln++]=Qn,an[ln++]=Ei,Gn=t.id,Qn=t.overflow,Ei=e),e=Fp(e,r.children),e.flags|=4096,e)}function Sv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jh(t.return,e,n)}function Vf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bw(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Dt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sv(t,n,e);else if(t.tag===19)Sv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vf(e,!0,n,null,o);break;case"together":Vf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ti|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=$r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ck(t,e,n){switch(e.tag){case 3:jw(e),bo();break;case 5:pw(e);break;case 1:Ht(e.type)&&uu(e);break;case 4:Rp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(hu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?Fw(t,e,n):(Pe(Be,Be.current&1),t=or(t,e,n),t!==null?t.sibling:null);Pe(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Bw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,$w(t,e,n)}return or(t,e,n)}var qw,sd,zw,Vw;qw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sd=function(){};zw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ci(Ln.current);var o=null;switch(n){case"input":i=Ih(t,i),r=Ih(t,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=Ch(t,i),r=Ch(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=au)}Ph(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(zs.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var l=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(zs.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&De("scroll",t),o||a===l||(o=[])):(o=o||[]).push(h,l))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};Vw=function(t,e,n,r){n!==r&&(e.flags|=4)};function us(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Rk(t,e,n){var r=e.pendingProps;switch(kp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Ht(e.type)&&lu(),Et(e),null;case 3:return r=e.stateNode,So(),Me(Vt),Me(Nt),Dp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(pd(yn),yn=null))),sd(t,e),Et(e),null;case 5:Pp(e);var i=ci(ta.current);if(n=e.type,t!==null&&e.stateNode!=null)zw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Et(e),null}if(t=ci(Ln.current),fl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Nn]=e,r[Zs]=o,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<ws.length;i++)De(ws[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Pm(r,o),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},De("invalid",r);break;case"textarea":Lm(r,o),De("invalid",r)}Ph(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&cl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&cl(r.textContent,a,t),i=["children",""+a]):zs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&De("scroll",r)}switch(n){case"input":nl(r),Dm(r,o,!0);break;case"textarea":nl(r),Mm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=au)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=v0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Nn]=e,t[Zs]=r,qw(t,e,!1,!1),e.stateNode=t;e:{switch(s=Dh(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<ws.length;i++)De(ws[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":Pm(t,r),i=Ih(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),De("invalid",t);break;case"textarea":Lm(t,r),i=Ch(t,r),De("invalid",t);break;default:i=r}Ph(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?_0(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y0(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vs(t,l):typeof l=="number"&&Vs(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&De("scroll",t):l!=null&&cp(t,o,l,s))}switch(n){case"input":nl(t),Dm(t,r,!1);break;case"textarea":nl(t),Mm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ao(t,!!r.multiple,o,!1):r.defaultValue!=null&&ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)Vw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=ci(ta.current),ci(Ln.current),fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nn]=e,(o=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:cl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=e,e.stateNode=r}return Et(e),null;case 13:if(Me(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&Yt!==null&&e.mode&1&&!(e.flags&128))aw(),bo(),e.flags|=98560,o=!1;else if(o=fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[Nn]=e}else bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),o=!1}else yn!==null&&(pd(yn),yn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?st===0&&(st=3):Kp())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return So(),sd(t,e),t===null&&Xs(e.stateNode.containerInfo),Et(e),null;case 10:return xp(e.type._context),Et(e),null;case 17:return Ht(e.type)&&lu(),Et(e),null;case 19:if(Me(Be),o=e.memoizedState,o===null)return Et(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)us(o,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=gu(t),s!==null){for(e.flags|=128,us(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Be,Be.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xe()>Ao&&(e.flags|=128,r=!0,us(o,!1),e.lanes=4194304)}else{if(!r)if(t=gu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),us(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ue)return Et(e),null}else 2*Xe()-o.renderingStartTime>Ao&&n!==1073741824&&(e.flags|=128,r=!0,us(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xe(),e.sibling=null,n=Be.current,Pe(Be,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Hp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function Pk(t,e){switch(kp(e),e.tag){case 1:return Ht(e.type)&&lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return So(),Me(Vt),Me(Nt),Dp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pp(e),null;case 13:if(Me(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Be),null;case 4:return So(),null;case 10:return xp(e.type._context),null;case 22:case 23:return Hp(),null;case 24:return null;default:return null}}var pl=!1,St=!1,Dk=typeof WeakSet=="function"?WeakSet:Set,oe=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function ad(t,e,n){try{n()}catch(r){He(t,e,r)}}var kv=!1;function Lk(t,e){if(Vh=iu,t=G0(),Tp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,h=0,c=0,f=t,u=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)u=f,f=d;for(;;){if(f===t)break t;if(u===n&&++h===i&&(a=s),u===o&&++c===r&&(l=s),(d=f.nextSibling)!==null)break;f=u,u=f.parentNode}f=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hh={focusedElem:t,selectionRange:n},iu=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,_=v.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:mn(e.type,y),_);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(m){He(e,e.return,m)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return v=kv,kv=!1,v}function Ps(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ad(e,n,o)}i=i.next}while(i!==r)}}function yc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ld(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hw(t){var e=t.alternate;e!==null&&(t.alternate=null,Hw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[Zs],delete e[Gh],delete e[vk],delete e[yk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kw(t){return t.tag===5||t.tag===3||t.tag===4}function Av(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=au));else if(r!==4&&(t=t.child,t!==null))for(ud(t,e,n),t=t.sibling;t!==null;)ud(t,e,n),t=t.sibling}function cd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cd(t,e,n),t=t.sibling;t!==null;)cd(t,e,n),t=t.sibling}var pt=null,vn=!1;function mr(t,e,n){for(n=n.child;n!==null;)Ww(t,e,n),n=n.sibling}function Ww(t,e,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(cc,n)}catch{}switch(n.tag){case 5:St||no(n,e);case 6:var r=pt,i=vn;pt=null,mr(t,e,n),pt=r,vn=i,pt!==null&&(vn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(vn?(t=pt,n=n.stateNode,t.nodeType===8?$f(t.parentNode,n):t.nodeType===1&&$f(t,n),Gs(t)):$f(pt,n.stateNode));break;case 4:r=pt,i=vn,pt=n.stateNode.containerInfo,vn=!0,mr(t,e,n),pt=r,vn=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ad(n,e,s),i=i.next}while(i!==r)}mr(t,e,n);break;case 1:if(!St&&(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}mr(t,e,n);break;case 21:mr(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,mr(t,e,n),St=r):mr(t,e,n);break;default:mr(t,e,n)}}function Ov(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Dk),e.forEach(function(r){var i=Vk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,vn=!1;break e;case 3:pt=a.stateNode.containerInfo,vn=!0;break e;case 4:pt=a.stateNode.containerInfo,vn=!0;break e}a=a.return}if(pt===null)throw Error(Z(160));Ww(o,s,i),pt=null,vn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){He(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gw(e,t),e=e.sibling}function Gw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),An(t),r&4){try{Ps(3,t,t.return),yc(3,t)}catch(y){He(t,t.return,y)}try{Ps(5,t,t.return)}catch(y){He(t,t.return,y)}}break;case 1:pn(e,t),An(t),r&512&&n!==null&&no(n,n.return);break;case 5:if(pn(e,t),An(t),r&512&&n!==null&&no(n,n.return),t.flags&32){var i=t.stateNode;try{Vs(i,"")}catch(y){He(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&g0(i,o),Dh(a,s);var h=Dh(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?_0(i,f):c==="dangerouslySetInnerHTML"?y0(i,f):c==="children"?Vs(i,f):cp(i,c,f,h)}switch(a){case"input":xh(i,o);break;case"textarea":m0(i,o);break;case"select":var u=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?ao(i,!!o.multiple,d,!1):u!==!!o.multiple&&(o.defaultValue!=null?ao(i,!!o.multiple,o.defaultValue,!0):ao(i,!!o.multiple,o.multiple?[]:"",!1))}i[Zs]=o}catch(y){He(t,t.return,y)}}break;case 6:if(pn(e,t),An(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){He(t,t.return,y)}}break;case 3:if(pn(e,t),An(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gs(e.containerInfo)}catch(y){He(t,t.return,y)}break;case 4:pn(e,t),An(t);break;case 13:pn(e,t),An(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(zp=Xe())),r&4&&Ov(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(St=(h=St)||c,pn(e,t),St=h):pn(e,t),An(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(f=oe=c;oe!==null;){switch(u=oe,d=u.child,u.tag){case 0:case 11:case 14:case 15:Ps(4,u,u.return);break;case 1:no(u,u.return);var v=u.stateNode;if(typeof v.componentWillUnmount=="function"){r=u,n=u.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){He(r,n,y)}}break;case 5:no(u,u.return);break;case 22:if(u.memoizedState!==null){xv(f);continue}}d!==null?(d.return=u,oe=d):xv(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=w0("display",s))}catch(y){He(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(y){He(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(e,t),An(t),r&4&&Ov(t);break;case 21:break;default:pn(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Kw(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vs(i,""),r.flags&=-33);var o=Av(t);cd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Av(t);ud(t,a,s);break;default:throw Error(Z(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mk(t,e,n){oe=t,Qw(t)}function Qw(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||pl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||St;a=pl;var h=St;if(pl=s,(St=l)&&!h)for(oe=i;oe!==null;)s=oe,l=s.child,s.tag===22&&s.memoizedState!==null?Nv(i):l!==null?(l.return=s,oe=l):Nv(i);for(;o!==null;)oe=o,Qw(o),o=o.sibling;oe=i,pl=a,St=h}Iv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):Iv(t)}}function Iv(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||yc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&fv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var c=h.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Gs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}St||e.flags&512&&ld(e)}catch(u){He(e,e.return,u)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function xv(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Nv(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yc(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){He(e,i,l)}}var o=e.return;try{ld(e)}catch(l){He(e,o,l)}break;case 5:var s=e.return;try{ld(e)}catch(l){He(e,s,l)}}}catch(l){He(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var $k=Math.ceil,yu=hr.ReactCurrentDispatcher,Bp=hr.ReactCurrentOwner,fn=hr.ReactCurrentBatchConfig,Oe=0,ct=null,tt=null,vt=0,Gt=0,ro=Qr(0),st=0,oa=null,Ti=0,wc=0,qp=0,Ds=null,Ft=null,zp=0,Ao=1/0,Hn=null,wu=!1,fd=null,Lr=null,gl=!1,Or=null,_u=0,Ls=0,hd=null,Bl=-1,ql=0;function Mt(){return Oe&6?Xe():Bl!==-1?Bl:Bl=Xe()}function Mr(t){return t.mode&1?Oe&2&&vt!==0?vt&-vt:_k.transition!==null?(ql===0&&(ql=R0()),ql):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:j0(t.type)),t):1}function _n(t,e,n,r){if(50<Ls)throw Ls=0,hd=null,Error(Z(185));Aa(t,n,r),(!(Oe&2)||t!==ct)&&(t===ct&&(!(Oe&2)&&(wc|=n),st===4&&Er(t,vt)),Kt(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Ao=Xe()+500,gc&&Yr()))}function Kt(t,e){var n=t.callbackNode;_S(t,e);var r=ru(t,t===ct?vt:0);if(r===0)n!==null&&jm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jm(n),e===1)t.tag===0?wk(Cv.bind(null,t)):iw(Cv.bind(null,t)),gk(function(){!(Oe&6)&&Yr()}),n=null;else{switch(P0(r)){case 1:n=gp;break;case 4:n=N0;break;case 16:n=nu;break;case 536870912:n=C0;break;default:n=nu}n=r_(n,Yw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Yw(t,e){if(Bl=-1,ql=0,Oe&6)throw Error(Z(327));var n=t.callbackNode;if(ho()&&t.callbackNode!==n)return null;var r=ru(t,t===ct?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eu(t,r);else{e=r;var i=Oe;Oe|=2;var o=Jw();(ct!==t||vt!==e)&&(Hn=null,Ao=Xe()+500,gi(t,e));do try{Fk();break}catch(a){Xw(t,a)}while(1);Ip(),yu.current=o,Oe=i,tt!==null?e=0:(ct=null,vt=0,e=st)}if(e!==0){if(e===2&&(i=jh(t),i!==0&&(r=i,e=dd(t,i))),e===1)throw n=oa,gi(t,0),Er(t,r),Kt(t,Xe()),n;if(e===6)Er(t,r);else{if(i=t.current.alternate,!(r&30)&&!Uk(i)&&(e=Eu(t,r),e===2&&(o=jh(t),o!==0&&(r=o,e=dd(t,o))),e===1))throw n=oa,gi(t,0),Er(t,r),Kt(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:oi(t,Ft,Hn);break;case 3:if(Er(t,r),(r&130023424)===r&&(e=zp+500-Xe(),10<e)){if(ru(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wh(oi.bind(null,t,Ft,Hn),e);break}oi(t,Ft,Hn);break;case 4:if(Er(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-wn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$k(r/1960))-r,10<r){t.timeoutHandle=Wh(oi.bind(null,t,Ft,Hn),r);break}oi(t,Ft,Hn);break;case 5:oi(t,Ft,Hn);break;default:throw Error(Z(329))}}}return Kt(t,Xe()),t.callbackNode===n?Yw.bind(null,t):null}function dd(t,e){var n=Ds;return t.current.memoizedState.isDehydrated&&(gi(t,e).flags|=256),t=Eu(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&pd(e)),t}function pd(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function Uk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!bn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Er(t,e){for(e&=~qp,e&=~wc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wn(e),r=1<<n;t[n]=-1,e&=~r}}function Cv(t){if(Oe&6)throw Error(Z(327));ho();var e=ru(t,0);if(!(e&1))return Kt(t,Xe()),null;var n=Eu(t,e);if(t.tag!==0&&n===2){var r=jh(t);r!==0&&(e=r,n=dd(t,r))}if(n===1)throw n=oa,gi(t,0),Er(t,e),Kt(t,Xe()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oi(t,Ft,Hn),Kt(t,Xe()),null}function Vp(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Ao=Xe()+500,gc&&Yr())}}function Si(t){Or!==null&&Or.tag===0&&!(Oe&6)&&ho();var e=Oe;Oe|=1;var n=fn.transition,r=Ce;try{if(fn.transition=null,Ce=1,t)return t()}finally{Ce=r,fn.transition=n,Oe=e,!(Oe&6)&&Yr()}}function Hp(){Gt=ro.current,Me(ro)}function gi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pk(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(kp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lu();break;case 3:So(),Me(Vt),Me(Nt),Dp();break;case 5:Pp(r);break;case 4:So();break;case 13:Me(Be);break;case 19:Me(Be);break;case 10:xp(r.type._context);break;case 22:case 23:Hp()}n=n.return}if(ct=t,tt=t=$r(t.current,null),vt=Gt=e,st=0,oa=null,qp=wc=Ti=0,Ft=Ds=null,ui!==null){for(e=0;e<ui.length;e++)if(n=ui[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ui=null}return t}function Xw(t,e){do{var n=tt;try{if(Ip(),Ul.current=vu,mu){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mu=!1}if(bi=0,ut=it=qe=null,Rs=!1,na=0,Bp.current=null,n===null||n.return===null){st=1,oa=e,tt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var u=c.alternate;u?(c.updateQueue=u.updateQueue,c.memoizedState=u.memoizedState,c.lanes=u.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=yv(s);if(d!==null){d.flags&=-257,wv(d,s,a,o,e),d.mode&1&&vv(o,h,e),e=d,l=h;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){vv(o,h,e),Kp();break e}l=Error(Z(426))}}else if(Ue&&a.mode&1){var _=yv(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),wv(_,s,a,o,e),Ap(ko(l,a));break e}}o=l=ko(l,a),st!==4&&(st=2),Ds===null?Ds=[o]:Ds.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=Dw(o,l,e);cv(o,p);break e;case 1:a=l;var g=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Lr===null||!Lr.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var m=Lw(o,a,e);cv(o,m);break e}}o=o.return}while(o!==null)}e_(n)}catch(b){e=b,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(1)}function Jw(){var t=yu.current;return yu.current=vu,t===null?vu:t}function Kp(){(st===0||st===3||st===2)&&(st=4),ct===null||!(Ti&268435455)&&!(wc&268435455)||Er(ct,vt)}function Eu(t,e){var n=Oe;Oe|=2;var r=Jw();(ct!==t||vt!==e)&&(Hn=null,gi(t,e));do try{jk();break}catch(i){Xw(t,i)}while(1);if(Ip(),Oe=n,yu.current=r,tt!==null)throw Error(Z(261));return ct=null,vt=0,st}function jk(){for(;tt!==null;)Zw(tt)}function Fk(){for(;tt!==null&&!fS();)Zw(tt)}function Zw(t){var e=n_(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?e_(t):tt=e,Bp.current=null}function e_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Pk(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,tt=null;return}}else if(n=Rk(n,e,Gt),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);st===0&&(st=5)}function oi(t,e,n){var r=Ce,i=fn.transition;try{fn.transition=null,Ce=1,Bk(t,e,n,r)}finally{fn.transition=i,Ce=r}return null}function Bk(t,e,n,r){do ho();while(Or!==null);if(Oe&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(ES(t,o),t===ct&&(tt=ct=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gl||(gl=!0,r_(nu,function(){return ho(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=fn.transition,fn.transition=null;var s=Ce;Ce=1;var a=Oe;Oe|=4,Bp.current=null,Lk(t,n),Gw(n,t),ak(Hh),iu=!!Vh,Hh=Vh=null,t.current=n,Mk(n),hS(),Oe=a,Ce=s,fn.transition=o}else t.current=n;if(gl&&(gl=!1,Or=t,_u=i),o=t.pendingLanes,o===0&&(Lr=null),gS(n.stateNode),Kt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wu)throw wu=!1,t=fd,fd=null,t;return _u&1&&t.tag!==0&&ho(),o=t.pendingLanes,o&1?t===hd?Ls++:(Ls=0,hd=t):Ls=0,Yr(),null}function ho(){if(Or!==null){var t=P0(_u),e=fn.transition,n=Ce;try{if(fn.transition=null,Ce=16>t?16:t,Or===null)var r=!1;else{if(t=Or,Or=null,_u=0,Oe&6)throw Error(Z(331));var i=Oe;for(Oe|=4,oe=t.current;oe!==null;){var o=oe,s=o.child;if(oe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(oe=h;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:Ps(8,c,o)}var f=c.child;if(f!==null)f.return=c,oe=f;else for(;oe!==null;){c=oe;var u=c.sibling,d=c.return;if(Hw(c),c===h){oe=null;break}if(u!==null){u.return=d,oe=u;break}oe=d}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}oe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,oe=s;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ps(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,oe=p;break e}oe=o.return}}var g=t.current;for(oe=g;oe!==null;){s=oe;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,oe=w;else e:for(s=g;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yc(9,a)}}catch(b){He(a,a.return,b)}if(a===s){oe=null;break e}var m=a.sibling;if(m!==null){m.return=a.return,oe=m;break e}oe=a.return}}if(Oe=i,Yr(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(cc,t)}catch{}r=!0}return r}finally{Ce=n,fn.transition=e}}return!1}function Rv(t,e,n){e=ko(n,e),e=Dw(t,e,1),t=Dr(t,e,1),e=Mt(),t!==null&&(Aa(t,1,e),Kt(t,e))}function He(t,e,n){if(t.tag===3)Rv(t,t,n);else for(;e!==null;){if(e.tag===3){Rv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lr===null||!Lr.has(r))){t=ko(n,t),t=Lw(e,t,1),e=Dr(e,t,1),t=Mt(),e!==null&&(Aa(e,1,t),Kt(e,t));break}}e=e.return}}function qk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(vt&n)===n&&(st===4||st===3&&(vt&130023424)===vt&&500>Xe()-zp?gi(t,0):qp|=n),Kt(t,e)}function t_(t,e){e===0&&(t.mode&1?(e=ol,ol<<=1,!(ol&130023424)&&(ol=4194304)):e=1);var n=Mt();t=ir(t,e),t!==null&&(Aa(t,e,n),Kt(t,n))}function zk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),t_(t,n)}function Vk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),t_(t,n)}var n_;n_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,Ck(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Ue&&e.flags&1048576&&ow(e,fu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fl(t,e),t=e.pendingProps;var i=Eo(e,Nt.current);fo(e,n),i=Mp(null,e,r,t,i,n);var o=$p();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(o=!0,uu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cp(e),i.updater=mc,e.stateNode=i,i._reactInternals=e,ed(e,r,t,n),e=rd(null,e,r,!0,o,n)):(e.tag=0,Ue&&o&&Sp(e),Dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Kk(r),t=mn(r,t),i){case 0:e=nd(null,e,r,t,n);break e;case 1:e=bv(null,e,r,t,n);break e;case 11:e=_v(null,e,r,t,n);break e;case 14:e=Ev(null,e,r,mn(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),nd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),bv(t,e,r,i,n);case 3:e:{if(jw(e),t===null)throw Error(Z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,uw(t,e),pu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ko(Error(Z(423)),e),e=Tv(t,e,r,n,i);break e}else if(r!==i){i=ko(Error(Z(424)),e),e=Tv(t,e,r,n,i);break e}else for(Yt=Pr(e.stateNode.containerInfo.firstChild),Zt=e,Ue=!0,yn=null,n=dw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bo(),r===i){e=or(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return pw(e),t===null&&Xh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Kh(r,i)?s=null:o!==null&&Kh(r,o)&&(e.flags|=32),Uw(t,e),Dt(t,e,s,n),e.child;case 6:return t===null&&Xh(e),null;case 13:return Fw(t,e,n);case 4:return Rp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),_v(t,e,r,i,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Pe(hu,r._currentValue),r._currentValue=s,o!==null)if(bn(o.value,s)){if(o.children===i.children&&!Vt.current){e=or(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=er(-1,n&-n),l.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var c=h.pending;c===null?l.next=l:(l.next=c.next,c.next=l),h.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Jh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Jh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fo(e,n),i=hn(i),r=r(i),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,i=mn(r,e.pendingProps),i=mn(r.type,i),Ev(t,e,r,i,n);case 15:return Mw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Fl(t,e),e.tag=1,Ht(r)?(t=!0,uu(e)):t=!1,fo(e,n),fw(e,r,i),ed(e,r,i,n),rd(null,e,r,!0,t,n);case 19:return Bw(t,e,n);case 22:return $w(t,e,n)}throw Error(Z(156,e.tag))};function r_(t,e){return x0(t,e)}function Hk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new Hk(t,e,n,r)}function Wp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kk(t){if(typeof t=="function")return Wp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hp)return 11;if(t===dp)return 14}return 2}function $r(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Wp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Wi:return mi(n.children,i,o,e);case fp:s=8,i|=8;break;case Sh:return t=cn(12,n,e,i|2),t.elementType=Sh,t.lanes=o,t;case kh:return t=cn(13,n,e,i),t.elementType=kh,t.lanes=o,t;case Ah:return t=cn(19,n,e,i),t.elementType=Ah,t.lanes=o,t;case h0:return _c(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case c0:s=10;break e;case f0:s=9;break e;case hp:s=11;break e;case dp:s=14;break e;case yr:s=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=cn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function mi(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function _c(t,e,n,r){return t=cn(22,t,r,e),t.elementType=h0,t.lanes=n,t.stateNode={isHidden:!1},t}function Hf(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function Kf(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Wk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Af(0),this.expirationTimes=Af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Af(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gp(t,e,n,r,i,o,s,a,l){return t=new Wk(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=cn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(o),t}function Gk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function i_(t){if(!t)return zr;t=t._reactInternals;e:{if(Pi(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Ht(n))return rw(t,n,e)}return e}function o_(t,e,n,r,i,o,s,a,l){return t=Gp(n,r,!0,t,i,o,s,a,l),t.context=i_(null),n=t.current,r=Mt(),i=Mr(n),o=er(r,i),o.callback=e??null,Dr(n,o,i),t.current.lanes=i,Aa(t,i,r),Kt(t,r),t}function Ec(t,e,n,r){var i=e.current,o=Mt(),s=Mr(i);return n=i_(n),e.context===null?e.context=n:e.pendingContext=n,e=er(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Dr(i,e,s),t!==null&&(_n(t,i,s,o),$l(t,i,s)),s}function bu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qp(t,e){Pv(t,e),(t=t.alternate)&&Pv(t,e)}function Qk(){return null}var s_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yp(t){this._internalRoot=t}bc.prototype.render=Yp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Ec(t,e,null,null)};bc.prototype.unmount=Yp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Si(function(){Ec(null,t,null,null)}),e[rr]=null}};function bc(t){this._internalRoot=t}bc.prototype.unstable_scheduleHydration=function(t){if(t){var e=M0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_r.length&&e!==0&&e<_r[n].priority;n++);_r.splice(n,0,t),n===0&&U0(t)}};function Xp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dv(){}function Yk(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=bu(s);o.call(h)}}var s=o_(e,r,t,0,null,!1,!1,"",Dv);return t._reactRootContainer=s,t[rr]=s.current,Xs(t.nodeType===8?t.parentNode:t),Si(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=bu(l);a.call(h)}}var l=Gp(t,0,!1,null,null,!1,!1,"",Dv);return t._reactRootContainer=l,t[rr]=l.current,Xs(t.nodeType===8?t.parentNode:t),Si(function(){Ec(e,l,n,r)}),l}function Sc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=bu(s);a.call(l)}}Ec(e,s,t,i)}else s=Yk(n,e,t,i,r);return bu(s)}D0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ys(e.pendingLanes);n!==0&&(mp(e,n|1),Kt(e,Xe()),!(Oe&6)&&(Ao=Xe()+500,Yr()))}break;case 13:Si(function(){var r=ir(t,1);if(r!==null){var i=Mt();_n(r,t,1,i)}}),Qp(t,1)}};vp=function(t){if(t.tag===13){var e=ir(t,134217728);if(e!==null){var n=Mt();_n(e,t,134217728,n)}Qp(t,134217728)}};L0=function(t){if(t.tag===13){var e=Mr(t),n=ir(t,e);if(n!==null){var r=Mt();_n(n,t,e,r)}Qp(t,e)}};M0=function(){return Ce};$0=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Mh=function(t,e,n){switch(e){case"input":if(xh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pc(r);if(!i)throw Error(Z(90));p0(r),xh(r,i)}}}break;case"textarea":m0(t,n);break;case"select":e=n.value,e!=null&&ao(t,!!n.multiple,e,!1)}};T0=Vp;S0=Si;var Xk={usingClientEntryPoint:!1,Events:[Ia,Xi,pc,E0,b0,Vp]},cs={findFiberByHostInstance:li,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Jk={bundleType:cs.bundleType,version:cs.version,rendererPackageName:cs.rendererPackageName,rendererConfig:cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=O0(t),t===null?null:t.stateNode},findFiberByHostInstance:cs.findFiberByHostInstance||Qk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{cc=ml.inject(Jk),Dn=ml}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xk;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xp(e))throw Error(Z(200));return Gk(t,e,null,n)};rn.createRoot=function(t,e){if(!Xp(t))throw Error(Z(299));var n=!1,r="",i=s_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gp(t,1,!1,null,null,n,!1,r,i),t[rr]=e.current,Xs(t.nodeType===8?t.parentNode:t),new Yp(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=O0(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return Si(t)};rn.hydrate=function(t,e,n){if(!Tc(e))throw Error(Z(200));return Sc(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!Xp(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=s_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=o_(e,null,t,1,n??null,i,!1,o,s),t[rr]=e.current,Xs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bc(e)};rn.render=function(t,e,n){if(!Tc(e))throw Error(Z(200));return Sc(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!Tc(t))throw Error(Z(40));return t._reactRootContainer?(Si(function(){Sc(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1};rn.unstable_batchedUpdates=Vp;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tc(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Sc(t,e,n,!1,r)};rn.version="18.2.0-next-9e3b772b8-20220608";function a_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a_)}catch(t){console.error(t)}}a_(),o0.exports=rn;var l_=o0.exports,Lv=l_;bh.createRoot=Lv.createRoot,bh.hydrateRoot=Lv.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sa(){return sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sa.apply(this,arguments)}var Ir;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ir||(Ir={}));const Mv="popstate";function Zk(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return gd("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Tu(i)}return tA(e,n,null,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eA(){return Math.random().toString(36).substr(2,8)}function $v(t,e){return{usr:t.state,key:t.key,idx:e}}function gd(t,e,n,r){return n===void 0&&(n=null),sa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jo(e):e,{state:n,key:e&&e.key||r||eA()})}function Tu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ir.Pop,l=null,h=c();h==null&&(h=0,s.replaceState(sa({},s.state,{idx:h}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=Ir.Pop;let _=c(),p=_==null?null:_-h;h=_,l&&l({action:a,location:y.location,delta:p})}function u(_,p){a=Ir.Push;let g=gd(y.location,_,p);n&&n(g,_),h=c()+1;let w=$v(g,h),m=y.createHref(g);try{s.pushState(w,"",m)}catch{i.location.assign(m)}o&&l&&l({action:a,location:y.location,delta:1})}function d(_,p){a=Ir.Replace;let g=gd(y.location,_,p);n&&n(g,_),h=c();let w=$v(g,h),m=y.createHref(g);s.replaceState(w,"",m),o&&l&&l({action:a,location:y.location,delta:0})}function v(_){let p=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof _=="string"?_:Tu(_);return nt(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let y={get action(){return a},get location(){return t(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Mv,f),l=_,()=>{i.removeEventListener(Mv,f),l=null}},createHref(_){return e(i,_)},createURL:v,encodeLocation(_){let p=v(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:u,replace:d,go(_){return s.go(_)}};return y}var Uv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Uv||(Uv={}));function nA(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?jo(e):e,i=Zp(r.pathname||"/",n);if(i==null)return null;let o=u_(t);rA(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=hA(o[a],gA(i));return s}function u_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=Ur([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(nt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),u_(o.children,e,c,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:cA(h,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of c_(o.path))i(o,s,l)}),e}function c_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=c_(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function rA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iA=/^:\w+$/,oA=3,sA=2,aA=1,lA=10,uA=-2,jv=t=>t==="*";function cA(t,e){let n=t.split("/"),r=n.length;return n.some(jv)&&(r+=uA),e&&(r+=sA),n.filter(i=>!jv(i)).reduce((i,o)=>i+(iA.test(o)?oA:o===""?aA:lA),r)}function fA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function hA(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",c=dA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},h);if(!c)return null;Object.assign(r,c.params);let f=a.route;o.push({params:r,pathname:Ur([i,c.pathname]),pathnameBase:wA(Ur([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Ur([i,c.pathnameBase]))}return o}function dA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,c,f)=>{if(c==="*"){let u=a[f]||"";s=o.slice(0,o.length-u.length).replace(/(.)\/+$/,"$1")}return h[c]=mA(a[f]||"",c),h},{}),pathname:o,pathnameBase:s,pattern:t}}function pA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Jp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gA(t){try{return decodeURI(t)}catch(e){return Jp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mA(t,e){try{return decodeURIComponent(t)}catch(n){return Jp(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Zp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?jo(t):t;return{pathname:n?n.startsWith("/")?n:yA(n,e):e,search:_A(r),hash:EA(i)}}function yA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=jo(t):(i=sa({},t),nt(!i.pathname||!i.pathname.includes("?"),Wf("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),Wf("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),Wf("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let f=e.length-1;if(s.startsWith("..")){let u=s.split("/");for(;u[0]==="..";)u.shift(),f-=1;i.pathname=u.join("/")}a=f>=0?e[f]:"/"}let l=vA(i,a),h=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||c)&&(l.pathname+="/"),l}const Ur=t=>t.join("/").replace(/\/\/+/g,"/"),wA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_A=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const d_=["post","put","patch","delete"];new Set(d_);const TA=["get",...d_];new Set(TA);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(this,arguments)}const eg=X.createContext(null),p_=X.createContext(null),Di=X.createContext(null),kc=X.createContext(null),Xr=X.createContext({outlet:null,matches:[],isDataRoute:!1}),g_=X.createContext(null);function SA(t,e){let{relative:n}=e===void 0?{}:e;Na()||nt(!1);let{basename:r,navigator:i}=X.useContext(Di),{hash:o,pathname:s,search:a}=tg(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Ur([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Na(){return X.useContext(kc)!=null}function Li(){return Na()||nt(!1),X.useContext(kc).location}function m_(t){X.useContext(Di).static||X.useLayoutEffect(t)}function Fo(){let{isDataRoute:t}=X.useContext(Xr);return t?$A():kA()}function kA(){Na()||nt(!1);let t=X.useContext(eg),{basename:e,navigator:n}=X.useContext(Di),{matches:r}=X.useContext(Xr),{pathname:i}=Li(),o=JSON.stringify(f_(r).map(l=>l.pathnameBase)),s=X.useRef(!1);return m_(()=>{s.current=!0}),X.useCallback(function(l,h){if(h===void 0&&(h={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=h_(l,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Ur([e,c.pathname])),(h.replace?n.replace:n.push)(c,h.state,h)},[e,n,o,i,t])}function v_(){let{matches:t}=X.useContext(Xr),e=t[t.length-1];return e?e.params:{}}function tg(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=X.useContext(Xr),{pathname:i}=Li(),o=JSON.stringify(f_(r).map(s=>s.pathnameBase));return X.useMemo(()=>h_(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function AA(t,e){return OA(t,e)}function OA(t,e,n){Na()||nt(!1);let{navigator:r}=X.useContext(Di),{matches:i}=X.useContext(Xr),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Li(),h;if(e){var c;let y=typeof e=="string"?jo(e):e;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||nt(!1),h=y}else h=l;let f=h.pathname||"/",u=a==="/"?f:f.slice(a.length)||"/",d=nA(t,{pathname:u}),v=RA(d&&d.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Ur([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Ur([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return e&&v?X.createElement(kc.Provider,{value:{location:Su({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ir.Pop}},v):v}function IA(){let t=MA(),e=bA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,o)}const xA=X.createElement(IA,null);class NA extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?X.createElement(Xr.Provider,{value:this.props.routeContext},X.createElement(g_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CA(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(eg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(Xr.Provider,{value:e},r)}function RA(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||nt(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,h)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,f=null;n&&(f=l.route.errorElement||xA);let u=e.concat(o.slice(0,h+1)),d=()=>{let v;return c?v=f:l.route.Component?v=X.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,X.createElement(CA,{match:l,routeContext:{outlet:a,matches:u,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||h===0)?X.createElement(NA,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()},null)}var md;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(md||(md={}));var aa;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(aa||(aa={}));function PA(t){let e=X.useContext(eg);return e||nt(!1),e}function DA(t){let e=X.useContext(p_);return e||nt(!1),e}function LA(t){let e=X.useContext(Xr);return e||nt(!1),e}function y_(t){let e=LA(),n=e.matches[e.matches.length-1];return n.route.id||nt(!1),n.route.id}function MA(){var t;let e=X.useContext(g_),n=DA(aa.UseRouteError),r=y_(aa.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function $A(){let{router:t}=PA(md.UseNavigateStable),e=y_(aa.UseNavigateStable),n=X.useRef(!1);return m_(()=>{n.current=!0}),X.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Su({fromRouteId:e},o)))},[t,e])}function zi(t){nt(!1)}function UA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ir.Pop,navigator:o,static:s=!1}=t;Na()&&nt(!1);let a=e.replace(/^\/*/,"/"),l=X.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=jo(r));let{pathname:h="/",search:c="",hash:f="",state:u=null,key:d="default"}=r,v=X.useMemo(()=>{let y=Zp(h,a);return y==null?null:{location:{pathname:y,search:c,hash:f,state:u,key:d},navigationType:i}},[a,h,c,f,u,d,i]);return v==null?null:X.createElement(Di.Provider,{value:l},X.createElement(kc.Provider,{children:n,value:v}))}function jA(t){let{children:e,location:n}=t;return AA(vd(e),n)}var Fv;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Fv||(Fv={}));new Promise(()=>{});function vd(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;let o=[...e,i];if(r.type===X.Fragment){n.push.apply(n,vd(r.props.children,o));return}r.type!==zi&&nt(!1),!r.props.index||!r.props.children||nt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=vd(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(this,arguments)}function w_(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function FA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BA(t,e){return t.button===0&&(!e||e==="_self")&&!FA(t)}const qA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],zA=["aria-current","caseSensitive","className","end","style","to","children"];function VA(t){let{basename:e,children:n,window:r}=t,i=X.useRef();i.current==null&&(i.current=Zk({window:r,v5Compat:!0}));let o=i.current,[s,a]=X.useState({action:o.action,location:o.location});return X.useLayoutEffect(()=>o.listen(a),[o]),X.createElement(UA,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}const HA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WA=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:h,preventScrollReset:c}=e,f=w_(e,qA),{basename:u}=X.useContext(Di),d,v=!1;if(typeof h=="string"&&KA.test(h)&&(d=h,HA))try{let g=new URL(window.location.href),w=h.startsWith("//")?new URL(g.protocol+h):new URL(h),m=Zp(w.pathname,u);w.origin===g.origin&&m!=null?h=m+w.search+w.hash:v=!0}catch{}let y=SA(h,{relative:i}),_=GA(h,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function p(g){r&&r(g),g.defaultPrevented||_(g)}return X.createElement("a",ku({},f,{href:d||y,onClick:v||o?r:p,ref:n,target:l}))}),Au=X.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,children:h}=e,c=w_(e,zA),f=tg(l,{relative:c.relative}),u=Li(),d=X.useContext(p_),{navigator:v}=X.useContext(Di),y=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,_=u.pathname,p=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;i||(_=_.toLowerCase(),p=p?p.toLowerCase():null,y=y.toLowerCase());let g=_===y||!s&&_.startsWith(y)&&_.charAt(y.length)==="/",w=p!=null&&(p===y||!s&&p.startsWith(y)&&p.charAt(y.length)==="/"),m=g?r:void 0,b;typeof o=="function"?b=o({isActive:g,isPending:w}):b=[o,g?"active":null,w?"pending":null].filter(Boolean).join(" ");let k=typeof a=="function"?a({isActive:g,isPending:w}):a;return X.createElement(WA,ku({},c,{"aria-current":m,className:b,ref:n,style:k,to:l}),typeof h=="function"?h({isActive:g,isPending:w}):h)});var Bv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Bv||(Bv={}));var qv;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qv||(qv={}));function GA(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=Fo(),l=Li(),h=tg(t,{relative:s});return X.useCallback(c=>{if(BA(c,n)){c.preventDefault();let f=r!==void 0?r:Tu(l)===Tu(h);a(t,{replace:f,state:i,preventScrollReset:o,relative:s})}},[l,a,h,r,i,n,t,o,s])}function QA({isAuth:t}){X.useState("");const[e,n]=X.useState(!1);Fo();const i=Li().pathname;return X.useEffect(()=>{n(!1)},[i]),K.jsx("header",{className:"max-w-[1200px] m-auto",children:K.jsxs("nav",{className:"flex justify-center gap-10 w-full px-6 my-6 ",children:[K.jsx(Au,{className:"font-bold text-xl lg:text-2xl outline-offset-4 outline py-3 px-3 lg:px-4 lg:py-3 text-center",to:"/",children:"LE COIN DES DESSERTS"}),K.jsx("div",{className:"hidden md:flex items-center gap-6 lg:gap-16 ",children:K.jsx("ul",{className:"md:flex gap-6 ",children:t?K.jsxs("li",{children:[" ",K.jsx(Au,{to:"/admin-management",className:i==="/admin-management"?"underline-offset-2 underline":"hover:underline-offset-2 hover:underline",children:"Grer le site"})]}):null})})]})})}function YA(){return K.jsx("footer",{className:"bg-[#F6F6F7] border-[1px] border-[#E8E8EA] px-6",children:K.jsx("div",{className:"flex flex-col gap-4 md:flex-row items-center justify-between border-t-2 border-[#DCDDDF] py-10",children:K.jsxs("div",{className:"flex justify-between w-full items-center gap-2",children:[K.jsx("span",{className:"font-semibold",children:"LE COIN DES DESSERTS"}),K.jsx("span",{className:"text-sm  ",children:"Tout droit rserv - 2023"})]})})})}function la(t){"@babel/helpers - typeof";return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(t)}function XA(t,e){if(la(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(la(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JA(t){var e=XA(t,"string");return la(e)==="symbol"?e:String(e)}function __(t,e,n){return e=JA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var E_=function(t){var e=t.decode,n=e===void 0?!0:e,r=t.crossOrigin,i=r===void 0?"":r;return function(o){return new Promise(function(s,a){var l=new Image;i&&(l.crossOrigin=i),l.onload=function(){n&&l.decode?l.decode().then(s).catch(a):s()},l.onerror=a,l.src=o})}};function zv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zv(Object(n),!0).forEach(function(r){__(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var eO=function(e){return e.filter(function(n){return n})},tO=function(e){return Array.isArray(e)?e:[e]},Wt={},nO=function(e,n){var r=!1;return new Promise(function(i,o){var s=function(l){return n(l).then(function(){r=!0,i(l)})};e.reduce(function(a,l){return a.catch(function(){if(!r)return s(l)})},s(e.shift())).catch(o)})};function rO(t){var e=t.srcList,n=t.imgPromise,r=n===void 0?E_({decode:!0}):n,i=t.useSuspense,o=i===void 0?!0:i,s=X.useState(!1),a=s[1],l=eO(tO(e)),h=l.join("");if(Wt[h]||(Wt[h]={promise:nO(l,r),cache:"pending",error:null}),Wt[h].cache==="resolved")return{src:Wt[h].src,isLoading:!1,error:null};if(Wt[h].cache==="rejected"){if(o)throw Wt[h].error;return{isLoading:!1,error:Wt[h].error,src:void 0}}if(Wt[h].promise.then(function(c){Wt[h]=vl(vl({},Wt[h]),{},{cache:"resolved",src:c}),o||a(h)}).catch(function(c){Wt[h]=vl(vl({},Wt[h]),{},{cache:"rejected",error:c}),o||a(h)}),o)throw Wt[h].promise;return{isLoading:!0,src:void 0,error:null}}var iO=["decode","src","loader","unloader","container","loaderContainer","unloaderContainer","imgPromise","crossorigin","useSuspense"];function Vv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vv(Object(n),!0).forEach(function(r){__(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Gf=function(e){return e};function sO(t){var e=t.decode,n=e===void 0?!0:e,r=t.src,i=r===void 0?[]:r,o=t.loader,s=o===void 0?null:o,a=t.unloader,l=a===void 0?null:a,h=t.container,c=h===void 0?Gf:h,f=t.loaderContainer,u=f===void 0?Gf:f,d=t.unloaderContainer,v=d===void 0?Gf:d,y=t.imgPromise,_=t.crossorigin,p=t.useSuspense,g=p===void 0?!1:p,w=ZA(t,iO);y=y||E_({decode:n,crossOrigin:_});var m=rO({srcList:i,imgPromise:y,useSuspense:g}),b=m.src,k=m.isLoading;return b?c(r0.createElement("img",oO({src:b},w))):!g&&k?u(s):!g&&l?v(l):null}function aO({postList:t}){const[e,n]=X.useState("all"),[r,i]=X.useState(8),o=e==="all"?t.filter(l=>l.category==="recette"):t.filter(l=>l.category==="recette"&&l.dessertCategory===e),s=o.length,a=()=>{i(r+6)};return K.jsx("div",{className:"flex flex-col gap-[7rem] max-w-[1200px] m-auto",children:K.jsxs("section",{className:"latest-recipes px-6",children:[K.jsx("span",{className:" text-2xl font-bold ",children:"Faites vous plaisir"}),K.jsx("div",{className:"overflow-auto md:overflow-visible  ",children:K.jsxs("div",{className:"flex gap-4 font-semibold mt-8 flex-nowrap ",children:[K.jsxs("span",{onClick:()=>n("all"),className:`cursor-pointer whitespace-nowrap duration-75 px-3 py-1 rounded-md ${e==="all"?" bg-[#4B6BFB] text-white ":" hover:outline-2 hover:outline outline-[#4B6BFB] duration-75  bg-[#4B6BFB] bg-opacity-5 text-[#4B6BFB]"}`,children:[" ","Toutes les recettes"]}),K.jsx("span",{onClick:()=>n("Tarte"),className:`cursor-pointer whitespace-nowrap duration-75 px-3 py-1 rounded-md ${e==="Tarte"?" bg-[#4B6BFB] text-white ":" hover:outline-2 hover:outline outline-[#4B6BFB] duration-75  bg-[#4B6BFB] bg-opacity-5 text-[#4B6BFB]"}`,children:"Tartes"}),K.jsx("span",{onClick:()=>n("Gteau"),className:`cursor-pointer whitespace-nowrap duration-75 px-3 py-1 rounded-md ${e==="Gteau"?" bg-[#4B6BFB] text-white ":" hover:outline-2 hover:outline outline-[#4B6BFB] duration-75  bg-[#4B6BFB] bg-opacity-5 text-[#4B6BFB]"}`,children:"Gteaux"}),K.jsx("span",{onClick:()=>n("Djeuner/Goter"),className:`cursor-pointer whitespace-nowrap duration-75 px-3 py-1 rounded-md ${e==="Djeuner/Goter"?" bg-[#4B6BFB] text-white ":" hover:outline-2 hover:outline outline-[#4B6BFB] duration-75  bg-[#4B6BFB] bg-opacity-5 text-[#4B6BFB]"}`,children:"Djeuners/Goters"})]})}),K.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 mt-7  gap-7",children:o.slice(0,r).map((l,h)=>{const c=l.tempsDePreparation.replace(":","h");if(l.dessertCategory===e||e==="all")return K.jsx(Au,{to:"/desserts/"+l.slug,children:K.jsxs("div",{className:"p-4 border-[1px] shadow-sm border-gray-200 rounded-lg flex flex-col gap-4 items-start ",children:[K.jsx(sO,{src:l.imgCompressed,loader:K.jsx("div",{children:"Chargement en cours..."}),unloader:K.jsx("div",{children:"Impossible de charger l'image."}),alt:"Mon image",className:"w-full lg:w-[345px] h-[230px] object-cover rounded-md"}),K.jsx("span",{load:!0,className:"title bg-[#4B6BFB] bg-opacity-5 text-[#4B6BFB] text-[14px] font-medium px-3 py-1 rounded-md",children:l.dessertCategory}),K.jsx("span",{className:"font-semibold text-lg md:text-[24px] leading-[28px]  ",children:l.title}),K.jsxs("div",{className:"infos flex flex-col gap-3",children:[K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx("img",{className:"w-6",src:"/src/assets/icons/icon-time.svg",alt:""}),K.jsx("span",{className:"",children:"Prparation : "}),K.jsx("span",{className:"",children:c})]}),K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx("img",{className:"w-6",src:"/src/assets/icons/icon-persons.svg",alt:""})," ",K.jsx("span",{className:"",children:l.numberOfPersons})]})]})]},h)})})}),r<=s?K.jsx("div",{className:"w-full flex justify-center items-center",children:K.jsx("button",{className:"cursor-pointer whitespace-nowrap mt-14 text-lg font-semibold px-3 py-1 rounded-md hover:outline-2 hover:outline outline-[#4B6BFB] duration-75  bg-[#4B6BFB] bg-opacity-5 text-[#4B6BFB]",onClick:()=>a(),children:"Voir plus"})}):null]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},T_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let u=(a&15)<<2|h>>6,d=h&63;l||(d=64,s||(u=64)),r.push(n[c],n[f],n[u],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||h==null||f==null)throw new uO;const u=o<<2|a>>4;if(r.push(u),h!==64){const d=a<<4&240|h>>2;if(r.push(d),f!==64){const v=h<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cO=function(t){const e=b_(t);return T_.encodeByteArray(e,!0)},Ou=function(t){return cO(t).replace(/\./g,"")},S_=function(t){try{return T_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=()=>fO().__FIREBASE_DEFAULTS__,dO=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&S_(t[1]);return e&&JSON.parse(e)},Ac=()=>{try{return hO()||dO()||pO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k_=t=>{var e,n;return(n=(e=Ac())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},A_=t=>{const e=k_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},O_=()=>{var t;return(t=Ac())===null||t===void 0?void 0:t.config},I_=t=>{var e;return(e=Ac())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ou(JSON.stringify(n)),Ou(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function vO(){var t;const e=(t=Ac())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _O(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EO(){try{return typeof indexedDB=="object"}catch{return!1}}function bO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="FirebaseError";class qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TO,Object.setPrototypeOf(this,qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ca.prototype.create)}}class Ca{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?SO(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qn(i,a,r)}}function SO(t,e){return t.replace(kO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kO=/\{\$([^}]+)}/g;function AO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Iu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Hv(o)&&Hv(s)){if(!Iu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Hv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _s(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Es(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OO(t,e){const n=new IO(t,e);return n.subscribe.bind(n)}class IO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qf),i.error===void 0&&(i.error=Qf),i.complete===void 0&&(i.complete=Qf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class Vr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RO(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CO(t){return t===si?void 0:t}function RO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const DO={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},LO=Ie.INFO,MO={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},$O=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=MO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ng{constructor(e){this.name=e,this._logLevel=LO,this._logHandler=$O,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const UO=(t,e)=>e.some(n=>t instanceof n);let Kv,Wv;function jO(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FO(){return Wv||(Wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N_=new WeakMap,yd=new WeakMap,C_=new WeakMap,Yf=new WeakMap,rg=new WeakMap;function BO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(jr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&N_.set(n,t)}).catch(()=>{}),rg.set(e,t),e}function qO(t){if(yd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});yd.set(t,e)}let wd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||C_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zO(t){wd=t(wd)}function VO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xf(this),e,...n);return C_.set(r,e.sort?e.sort():[e]),jr(r)}:FO().includes(t)?function(...e){return t.apply(Xf(this),e),jr(N_.get(this))}:function(...e){return jr(t.apply(Xf(this),e))}}function HO(t){return typeof t=="function"?VO(t):(t instanceof IDBTransaction&&qO(t),UO(t,jO())?new Proxy(t,wd):t)}function jr(t){if(t instanceof IDBRequest)return BO(t);if(Yf.has(t))return Yf.get(t);const e=HO(t);return e!==t&&(Yf.set(t,e),rg.set(e,t)),e}const Xf=t=>rg.get(t);function KO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=jr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(jr(s.result),l.oldVersion,l.newVersion,jr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const WO=["get","getKey","getAll","getAllKeys","count"],GO=["put","add","delete","clear"],Jf=new Map;function Gv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WO.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return Jf.set(e,o),o}zO(t=>({...t,get:(e,n,r)=>Gv(e,n)||t.get(e,n,r),has:(e,n)=>!!Gv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _d="@firebase/app",Qv="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new ng("@firebase/app"),XO="@firebase/app-compat",JO="@firebase/analytics-compat",ZO="@firebase/analytics",eI="@firebase/app-check-compat",tI="@firebase/app-check",nI="@firebase/auth",rI="@firebase/auth-compat",iI="@firebase/database",oI="@firebase/database-compat",sI="@firebase/functions",aI="@firebase/functions-compat",lI="@firebase/installations",uI="@firebase/installations-compat",cI="@firebase/messaging",fI="@firebase/messaging-compat",hI="@firebase/performance",dI="@firebase/performance-compat",pI="@firebase/remote-config",gI="@firebase/remote-config-compat",mI="@firebase/storage",vI="@firebase/storage-compat",yI="@firebase/firestore",wI="@firebase/firestore-compat",_I="firebase",EI="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="[DEFAULT]",bI={[_d]:"fire-core",[XO]:"fire-core-compat",[ZO]:"fire-analytics",[JO]:"fire-analytics-compat",[tI]:"fire-app-check",[eI]:"fire-app-check-compat",[nI]:"fire-auth",[rI]:"fire-auth-compat",[iI]:"fire-rtdb",[oI]:"fire-rtdb-compat",[sI]:"fire-fn",[aI]:"fire-fn-compat",[lI]:"fire-iid",[uI]:"fire-iid-compat",[cI]:"fire-fcm",[fI]:"fire-fcm-compat",[hI]:"fire-perf",[dI]:"fire-perf-compat",[pI]:"fire-rc",[gI]:"fire-rc-compat",[mI]:"fire-gcs",[vI]:"fire-gcs-compat",[yI]:"fire-fst",[wI]:"fire-fst-compat","fire-js":"fire-js",[_I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new Map,bd=new Map;function TI(t,e){try{t.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ai(t){const e=t.name;if(bd.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;bd.set(e,t);for(const n of xu.values())TI(n,t);return!0}function Oc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Fr=new Ca("app","Firebase",SI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=EI;function R_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ed,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=O_()),!n)throw Fr.create("no-options");const o=xu.get(i);if(o){if(Iu(n,o.options)&&Iu(r,o.config))return o;throw Fr.create("duplicate-app",{appName:i})}const s=new PO(i);for(const l of bd.values())s.addComponent(l);const a=new kI(n,r,s);return xu.set(i,a),a}function ig(t=Ed){const e=xu.get(t);if(!e&&t===Ed&&O_())return R_();if(!e)throw Fr.create("no-app",{appName:t});return e}function Mn(t,e,n){var r;let i=(r=bI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(a.join(" "));return}Ai(new Vr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="firebase-heartbeat-database",OI=1,ua="firebase-heartbeat-store";let Zf=null;function P_(){return Zf||(Zf=KO(AI,OI,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ua)}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),Zf}async function II(t){try{return await(await P_()).transaction(ua).objectStore(ua).get(D_(t))}catch(e){if(e instanceof qn)ki.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(n.message)}}}async function Yv(t,e){try{const r=(await P_()).transaction(ua,"readwrite");await r.objectStore(ua).put(e,D_(t)),await r.done}catch(n){if(n instanceof qn)ki.warn(n.message);else{const r=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ki.warn(r.message)}}}function D_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=1024,NI=30*24*60*60*1e3;class CI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Xv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=NI}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xv(),{heartbeatsToSend:n,unsentEntries:r}=RI(this._heartbeatsCache.heartbeats),i=Ou(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Xv(){return new Date().toISOString().substring(0,10)}function RI(t,e=xI){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Jv(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EO()?bO().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await II(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Jv(t){return Ou(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){Ai(new Vr("platform-logger",e=>new QO(e),"PRIVATE")),Ai(new Vr("heartbeat",e=>new CI(e),"PRIVATE")),Mn(_d,Qv,t),Mn(_d,Qv,"esm2017"),Mn("fire-js","")}DI("");var LI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie,og=og||{},ye=LI||self;function Nu(){}function Ic(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Pa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function MI(t){return Object.prototype.hasOwnProperty.call(t,eh)&&t[eh]||(t[eh]=++$I)}var eh="closure_uid_"+(1e9*Math.random()>>>0),$I=0;function UI(t,e,n){return t.call.apply(t.bind,arguments)}function jI(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ot(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ot=UI:Ot=jI,Ot.apply(null,arguments)}function yl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ht(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Jr(){this.s=this.s,this.o=this.o}var FI=0;Jr.prototype.s=!1;Jr.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),FI!=0)&&MI(this)};Jr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const L_=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function sg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Zv(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ic(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function It(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var BI=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ye.addEventListener("test",Nu,e),ye.removeEventListener("test",Nu,e)}catch{}return t}();function Cu(t){return/^[\s\xa0]*$/.test(t)}var ey=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function th(t,e){return t<e?-1:t>e?1:0}function xc(){var t=ye.navigator;return t&&(t=t.userAgent)?t:""}function Cn(t){return xc().indexOf(t)!=-1}function ag(t){return ag[" "](t),t}ag[" "]=Nu;function M_(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var qI=Cn("Opera"),Oo=Cn("Trident")||Cn("MSIE"),$_=Cn("Edge"),Td=$_||Oo,U_=Cn("Gecko")&&!(xc().toLowerCase().indexOf("webkit")!=-1&&!Cn("Edge"))&&!(Cn("Trident")||Cn("MSIE"))&&!Cn("Edge"),zI=xc().toLowerCase().indexOf("webkit")!=-1&&!Cn("Edge");function j_(){var t=ye.document;return t?t.documentMode:void 0}var Ru;e:{var nh="",rh=function(){var t=xc();if(U_)return/rv:([^\);]+)(\)|;)/.exec(t);if($_)return/Edge\/([\d\.]+)/.exec(t);if(Oo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(zI)return/WebKit\/(\S+)/.exec(t);if(qI)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(rh&&(nh=rh?rh[1]:""),Oo){var ih=j_();if(ih!=null&&ih>parseFloat(nh)){Ru=String(ih);break e}}Ru=nh}var VI={};function HI(){return M_(VI,9,function(){let t=0;const e=ey(String(Ru)).split("."),n=ey("9").split("."),r=Math.max(e.length,n.length);for(let s=0;t==0&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=th(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||th(i[2].length==0,o[2].length==0)||th(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var Sd;if(ye.document&&Oo){var ty=j_();Sd=ty||parseInt(Ru,10)||void 0}else Sd=void 0;var KI=Sd;function ca(t,e){if(It.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(U_){e:{try{ag(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:WI[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ca.$.h.call(this)}}ht(ca,It);var WI={2:"touch",3:"pen",4:"mouse"};ca.prototype.h=function(){ca.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Da="closure_listenable_"+(1e6*Math.random()|0),GI=0;function QI(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++GI,this.fa=this.ia=!1}function Nc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function lg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function F_(t){const e={};for(const n in t)e[n]=t[n];return e}const ny="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B_(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<ny.length;o++)n=ny[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cc(t){this.src=t,this.g={},this.h=0}Cc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Ad(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new QI(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function kd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=L_(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Nc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ad(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var ug="closure_lm_"+(1e6*Math.random()|0),oh={};function q_(t,e,n,r,i){if(r&&r.once)return V_(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)q_(t,e[o],n,r,i);return null}return n=hg(n),t&&t[Da]?t.O(e,n,Pa(r)?!!r.capture:!!r,i):z_(t,e,n,!1,r,i)}function z_(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Pa(i)?!!i.capture:!!i,a=fg(t);if(a||(t[ug]=a=new Cc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=YI(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)BI||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(K_(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function YI(){function t(n){return e.call(t.src,t.listener,n)}const e=XI;return t}function V_(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)V_(t,e[o],n,r,i);return null}return n=hg(n),t&&t[Da]?t.P(e,n,Pa(r)?!!r.capture:!!r,i):z_(t,e,n,!0,r,i)}function H_(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)H_(t,e[o],n,r,i);else r=Pa(r)?!!r.capture:!!r,n=hg(n),t&&t[Da]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Ad(o,n,r,i),-1<n&&(Nc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=fg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ad(e,n,r,i)),(n=-1<t?e[t]:null)&&cg(n))}function cg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Da])kd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(K_(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fg(e))?(kd(n,t),n.h==0&&(n.src=null,e[ug]=null)):Nc(t)}}}function K_(t){return t in oh?oh[t]:oh[t]="on"+t}function XI(t,e){if(t.fa)t=!0;else{e=new ca(e,this);var n=t.listener,r=t.la||t.src;t.ia&&cg(t),t=n.call(r,e)}return t}function fg(t){return t=t[ug],t instanceof Cc?t:null}var sh="__closure_events_fn_"+(1e9*Math.random()>>>0);function hg(t){return typeof t=="function"?t:(t[sh]||(t[sh]=function(e){return t.handleEvent(e)}),t[sh])}function ft(){Jr.call(this),this.i=new Cc(this),this.S=this,this.J=null}ht(ft,Jr);ft.prototype[Da]=!0;ft.prototype.removeEventListener=function(t,e,n,r){H_(this,t,e,n,r)};function yt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new It(e,t);else if(e instanceof It)e.target=e.target||t;else{var i=e;e=new It(r,t),B_(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=wl(s,r,!0,e)&&i}if(s=e.g=t,i=wl(s,r,!0,e)&&i,i=wl(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=wl(s,r,!1,e)&&i}ft.prototype.N=function(){if(ft.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nc(n[r]);delete t.g[e],t.h--}}this.J=null};ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ft.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function wl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&kd(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var dg=ye.JSON.stringify;function JI(){var t=Q_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class ZI{constructor(){this.h=this.g=null}add(e,n){const r=W_.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var W_=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ex,t=>t.reset());class ex{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tx(t){ye.setTimeout(()=>{throw t},0)}function G_(t,e){Od||nx(),Id||(Od(),Id=!0),Q_.add(t,e)}var Od;function nx(){var t=ye.Promise.resolve(void 0);Od=function(){t.then(rx)}}var Id=!1,Q_=new ZI;function rx(){for(var t;t=JI();){try{t.h.call(t.g)}catch(n){tx(n)}var e=W_;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Id=!1}function Rc(t,e){ft.call(this),this.h=t||1,this.g=e||ye,this.j=Ot(this.qb,this),this.l=Date.now()}ht(Rc,ft);ie=Rc.prototype;ie.ga=!1;ie.T=null;ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yt(this,"tick"),this.ga&&(pg(this),this.start()))}};ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function pg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ie.N=function(){Rc.$.N.call(this),pg(this),delete this.g};function gg(t,e,n){if(typeof t=="function")n&&(t=Ot(t,n));else if(t&&typeof t.handleEvent=="function")t=Ot(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ye.setTimeout(t,e||0)}function Y_(t){t.g=gg(()=>{t.g=null,t.i&&(t.i=!1,Y_(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class ix extends Jr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Y_(this)}N(){super.N(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(t){Jr.call(this),this.h=t,this.g={}}ht(fa,Jr);var ry=[];function X_(t,e,n,r){Array.isArray(n)||(n&&(ry[0]=n.toString()),n=ry);for(var i=0;i<n.length;i++){var o=q_(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function J_(t){lg(t.g,function(e,n){this.g.hasOwnProperty(n)&&cg(e)},t),t.g={}}fa.prototype.N=function(){fa.$.N.call(this),J_(this)};fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Pc(){this.g=!0}Pc.prototype.Ea=function(){this.g=!1};function ox(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var h=a[l].split("=");if(1<h.length){var c=h[0];h=h[1];var f=c.split("_");s=2<=f.length&&f[1]=="type"?s+(c+"="+h+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function sx(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function io(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+lx(t,n)+(r?" "+r:"")})}function ax(t,e){t.info(function(){return"TIMEOUT: "+e})}Pc.prototype.info=function(){};function lx(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return dg(n)}catch{return e}}var $i={},iy=null;function Dc(){return iy=iy||new ft}$i.Ta="serverreachability";function Z_(t){It.call(this,$i.Ta,t)}ht(Z_,It);function ha(t){const e=Dc();yt(e,new Z_(e))}$i.STAT_EVENT="statevent";function eE(t,e){It.call(this,$i.STAT_EVENT,t),this.stat=e}ht(eE,It);function Lt(t){const e=Dc();yt(e,new eE(e,t))}$i.Ua="timingevent";function tE(t,e){It.call(this,$i.Ua,t),this.size=e}ht(tE,It);function La(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){t()},e)}var Lc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mg(){}mg.prototype.h=null;function oy(t){return t.h||(t.h=t.i())}function rE(){}var Ma={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vg(){It.call(this,"d")}ht(vg,It);function yg(){It.call(this,"c")}ht(yg,It);var xd;function Mc(){}ht(Mc,mg);Mc.prototype.g=function(){return new XMLHttpRequest};Mc.prototype.i=function(){return{}};xd=new Mc;function $a(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new fa(this),this.P=ux,t=Td?125:void 0,this.V=new Rc(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new iE}function iE(){this.i=null,this.g="",this.h=!1}var ux=45e3,Nd={},Pu={};ie=$a.prototype;ie.setTimeout=function(t){this.P=t};function Cd(t,e,n){t.L=1,t.v=Uc(sr(e)),t.s=n,t.S=!0,oE(t,null)}function oE(t,e){t.G=Date.now(),Ua(t),t.A=sr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),dE(n.i,"t",r),t.C=0,n=t.l.I,t.h=new iE,t.g=DE(t.l,n?e:null,!t.s),0<t.O&&(t.M=new ix(Ot(t.Pa,t,t.g),t.O)),X_(t.U,t.g,"readystatechange",t.nb),e=t.I?F_(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ha(),ox(t.j,t.u,t.A,t.m,t.W,t.s)}ie.nb=function(t){t=t.target;const e=this.M;e&&Yn(t)==3?e.l():this.Pa(t)};ie.Pa=function(t){try{if(t==this.g)e:{const c=Yn(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||Td||this.g&&(this.h.h||this.g.ja()||uy(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?ha(3):ha(2)),$c(this);var n=this.g.da();this.aa=n;t:if(sE(this)){var r=uy(this.g);t="";var i=r.length,o=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fi(this),Ms(this);var s="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,sx(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cu(a)){var h=a;break t}}h=null}if(n=h)io(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rd(this,n);else{this.i=!1,this.o=3,Lt(12),fi(this),Ms(this);break e}}this.S?(aE(this,c,s),Td&&this.i&&c==3&&(X_(this.U,this.V,"tick",this.mb),this.V.start())):(io(this.j,this.m,s,null),Rd(this,s)),c==4&&fi(this),this.i&&!this.J&&(c==4?NE(this.l,this):(this.i=!1,Ua(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,Lt(12)):(this.o=0,Lt(13)),fi(this),Ms(this)}}}catch{}finally{}};function sE(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function aE(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=cx(t,n),i==Pu){e==4&&(t.o=4,Lt(14),r=!1),io(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Nd){t.o=4,Lt(15),io(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else io(t.j,t.m,i,null),Rd(t,i);sE(t)&&i!=Pu&&i!=Nd&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Lt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),kg(e),e.L=!0,Lt(11))):(io(t.j,t.m,n,"[Invalid Chunked Response]"),fi(t),Ms(t))}ie.mb=function(){if(this.g){var t=Yn(this.g),e=this.g.ja();this.C<e.length&&($c(this),aE(this,t,e),this.i&&t!=4&&Ua(this))}};function cx(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Pu:(n=Number(e.substring(n,r)),isNaN(n)?Nd:(r+=1,r+n>e.length?Pu:(e=e.substr(r,n),t.C=r+n,e)))}ie.cancel=function(){this.J=!0,fi(this)};function Ua(t){t.Y=Date.now()+t.P,lE(t,t.P)}function lE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=La(Ot(t.lb,t),e)}function $c(t){t.B&&(ye.clearTimeout(t.B),t.B=null)}ie.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(ax(this.j,this.A),this.L!=2&&(ha(),Lt(17)),fi(this),this.o=2,Ms(this)):lE(this,this.Y-t)};function Ms(t){t.l.H==0||t.J||NE(t.l,t)}function fi(t){$c(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,pg(t.V),J_(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Rd(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Pd(n.h,t))){if(!t.K&&Pd(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Mu(n),Bc(n);else break e;Sg(n),Lt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=La(Ot(n.ib,n),6e3));if(1>=mE(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else hi(n,11)}else if((t.K||n.g==t)&&Mu(n),!Cu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.J=h[1],n.oa=h[2];const c=h[3];c!=null&&(n.qa=c,n.j.info("VER="+n.qa));const f=h[4];f!=null&&(n.Ga=f,n.j.info("SVER="+n.Ga));const u=h[5];u!=null&&typeof u=="number"&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const v=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.h;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(wg(o,o.h),o.h=null))}if(r.F){const y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,je(r.G,r.F,y))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=PE(r,r.I?r.oa:null,r.Y),s.K){vE(r.h,s);var a=s,l=r.K;l&&a.setTimeout(l),a.B&&($c(a),Ua(a)),r.g=s}else IE(r);0<n.i.length&&qc(n)}else h[0]!="stop"&&h[0]!="close"||hi(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?hi(n,7):Tg(n):h[0]!="noop"&&n.l&&n.l.Aa(h),n.A=0)}}ha(4)}catch{}}function fx(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ic(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function hx(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ic(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function uE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ic(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=hx(t),r=fx(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var cE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dx(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function vi(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof vi){this.h=e!==void 0?e:t.h,Du(this,t.j),this.s=t.s,this.g=t.g,Lu(this,t.m),this.l=t.l,e=t.i;var n=new da;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),sy(this,n),this.o=t.o}else t&&(n=String(t).match(cE))?(this.h=!!e,Du(this,n[1]||"",!0),this.s=bs(n[2]||""),this.g=bs(n[3]||"",!0),Lu(this,n[4]),this.l=bs(n[5]||"",!0),sy(this,n[6]||"",!0),this.o=bs(n[7]||"")):(this.h=!!e,this.i=new da(null,this.h))}vi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ts(e,ay,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ts(e,ay,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ts(n,n.charAt(0)=="/"?mx:gx,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ts(n,yx)),t.join("")};function sr(t){return new vi(t)}function Du(t,e,n){t.j=n?bs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Lu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function sy(t,e,n){e instanceof da?(t.i=e,wx(t.i,t.h)):(n||(e=Ts(e,vx)),t.i=new da(e,t.h))}function je(t,e,n){t.i.set(e,n)}function Uc(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function bs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ts(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,px),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function px(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ay=/[#\/\?@]/g,gx=/[#\?:]/g,mx=/[#\?]/g,vx=/[#\?@]/g,yx=/#/g;function da(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Zr(t){t.g||(t.g=new Map,t.h=0,t.i&&dx(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ie=da.prototype;ie.add=function(t,e){Zr(this),this.i=null,t=Bo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function fE(t,e){Zr(t),e=Bo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function hE(t,e){return Zr(t),e=Bo(t,e),t.g.has(e)}ie.forEach=function(t,e){Zr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ie.sa=function(){Zr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};ie.Z=function(t){Zr(this);let e=[];if(typeof t=="string")hE(this,t)&&(e=e.concat(this.g.get(Bo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ie.set=function(t,e){return Zr(this),this.i=null,t=Bo(this,t),hE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ie.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function dE(t,e,n){fE(t,e),0<n.length&&(t.i=null,t.g.set(Bo(t,e),sg(n)),t.h+=n.length)}ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Bo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wx(t,e){e&&!t.j&&(Zr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(fE(this,r),dE(this,i,n))},t)),t.j=e}var _x=class{constructor(t,e){this.h=t,this.g=e}};function pE(t){this.l=t||Ex,ye.PerformanceNavigationTiming?(t=ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ye.g&&ye.g.Ka&&ye.g.Ka()&&ye.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ex=10;function gE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function mE(t){return t.h?1:t.g?t.g.size:0}function Pd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function wg(t,e){t.g?t.g.add(e):t.h=e}function vE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}pE.prototype.cancel=function(){if(this.i=yE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function yE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return sg(t.i)}function _g(){}_g.prototype.stringify=function(t){return ye.JSON.stringify(t,void 0)};_g.prototype.parse=function(t){return ye.JSON.parse(t,void 0)};function bx(){this.g=new _g}function Tx(t,e,n){const r=n||"";try{uE(t,function(i,o){let s=i;Pa(i)&&(s=dg(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sx(t,e){const n=new Pc;if(ye.Image){const r=new Image;r.onload=yl(_l,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yl(_l,n,r,"TestLoadImage: error",!1,e),r.onabort=yl(_l,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yl(_l,n,r,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function _l(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ja(t){this.l=t.fc||null,this.j=t.ob||!1}ht(ja,mg);ja.prototype.g=function(){return new jc(this.l,this.j)};ja.prototype.i=function(t){return function(){return t}}({});function jc(t,e){ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Eg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ht(jc,ft);var Eg=0;ie=jc.prototype;ie.open=function(t,e){if(this.readyState!=Eg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,pa(this)};ie.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=Eg};ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wE(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function wE(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fa(this):pa(this),this.readyState==3&&wE(this)}};ie.Za=function(t){this.g&&(this.response=this.responseText=t,Fa(this))};ie.Ya=function(t){this.g&&(this.response=t,Fa(this))};ie.ka=function(){this.g&&Fa(this)};function Fa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,pa(t)}ie.setRequestHeader=function(t,e){this.v.append(t,e)};ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function pa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var kx=ye.JSON.parse;function We(t){ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_E,this.L=this.M=!1}ht(We,ft);var _E="",Ax=/^https?$/i,Ox=["POST","PUT"];ie=We.prototype;ie.Oa=function(t){this.M=t};ie.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xd.g(),this.C=this.u?oy(this.u):oy(xd),this.g.onreadystatechange=Ot(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){ly(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ye.FormData&&t instanceof ye.FormData,!(0<=L_(Ox,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TE(this),0<this.B&&((this.L=Ix(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.ua,this)):this.A=gg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){ly(this,o)}};function Ix(t){return Oo&&HI()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ie.ua=function(){typeof og<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yt(this,"timeout"),this.abort(8))};function ly(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,EE(t),Fc(t)}function EE(t){t.F||(t.F=!0,yt(t,"complete"),yt(t,"error"))}ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,yt(this,"complete"),yt(this,"abort"),Fc(this))};ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fc(this,!0)),We.$.N.call(this)};ie.La=function(){this.s||(this.G||this.v||this.l?bE(this):this.kb())};ie.kb=function(){bE(this)};function bE(t){if(t.h&&typeof og<"u"&&(!t.C[1]||Yn(t)!=4||t.da()!=2)){if(t.v&&Yn(t)==4)gg(t.La,0,t);else if(yt(t,"readystatechange"),Yn(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(cE)[1]||null;if(!i&&ye.self&&ye.self.location){var o=ye.self.location.protocol;i=o.substr(0,o.length-1)}r=!Ax.test(i?i.toLowerCase():"")}n=r}if(n)yt(t,"complete"),yt(t,"success");else{t.m=6;try{var s=2<Yn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",EE(t)}}finally{Fc(t)}}}}function Fc(t,e){if(t.g){TE(t);const n=t.g,r=t.C[0]?Nu:null;t.g=null,t.C=null,e||yt(t,"ready");try{n.onreadystatechange=r}catch{}}}function TE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ye.clearTimeout(t.A),t.A=null)}function Yn(t){return t.g?t.g.readyState:0}ie.da=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}};ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),kx(e)}};function uy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _E:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ie.Ia=function(){return this.m};ie.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function SE(t){let e="";return lg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function bg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=SE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):je(t,e,n))}function fs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kE(t){this.Ga=0,this.i=[],this.j=new Pc,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fs("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fs("baseRetryDelayMs",5e3,t),this.hb=fs("retryDelaySeedMs",1e4,t),this.eb=fs("forwardChannelMaxRetries",2,t),this.xa=fs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new pE(t&&t.concurrentRequestLimit),this.Ja=new bx,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}ie=kE.prototype;ie.qa=8;ie.H=1;function Tg(t){if(AE(t),t.H==3){var e=t.W++,n=sr(t.G);je(n,"SID",t.J),je(n,"RID",e),je(n,"TYPE","terminate"),Ba(t,n),e=new $a(t,t.j,e,void 0),e.L=2,e.v=Uc(sr(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon&&(n=ye.navigator.sendBeacon(e.v.toString(),"")),!n&&ye.Image&&(new Image().src=e.v,n=!0),n||(e.g=DE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ua(e)}RE(t)}function Bc(t){t.g&&(kg(t),t.g.cancel(),t.g=null)}function AE(t){Bc(t),t.u&&(ye.clearTimeout(t.u),t.u=null),Mu(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ye.clearTimeout(t.m),t.m=null)}function qc(t){gE(t.h)||t.m||(t.m=!0,G_(t.Na,t),t.C=0)}function xx(t,e){return mE(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=La(Ot(t.Na,t,e),CE(t,t.C)),t.C++,!0)}ie.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new $a(this,this.j,t,void 0);let o=this.s;if(this.U&&(o?(o=F_(o),B_(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=OE(this,i,e),n=sr(this.G),je(n,"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),Ba(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(SE(o)))+"&"+e:this.o&&bg(n,this.o,o)),wg(this.h,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.ba=!0,Cd(i,n,null)):Cd(i,n,e),this.H=2}}else this.H==3&&(t?cy(this,t):this.i.length==0||gE(this.h)||cy(this))};function cy(t,e){var n;e?n=e.m:n=t.W++;const r=sr(t.G);je(r,"SID",t.J),je(r,"RID",n),je(r,"AID",t.V),Ba(t,r),t.o&&t.s&&bg(r,t.o,t.s),n=new $a(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=OE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),wg(t.h,n),Cd(n,r,e)}function Ba(t,e){t.ma&&lg(t.ma,function(n,r){je(e,r,n)}),t.l&&uE({},function(n,r){je(e,r,n)})}function OE(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Ot(t.l.Va,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let h=i[l].h;const c=i[l].g;if(h-=o,0>h)o=Math.max(0,i[l].h-100),a=!1;else try{Tx(c,s,"req"+h+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function IE(t){t.g||t.u||(t.ba=1,G_(t.Ma,t),t.A=0)}function Sg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=La(Ot(t.Ma,t),CE(t,t.A)),t.A++,!0)}ie.Ma=function(){if(this.u=null,xE(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=La(Ot(this.jb,this),t)}};ie.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Lt(10),Bc(this),xE(this))};function kg(t){t.B!=null&&(ye.clearTimeout(t.B),t.B=null)}function xE(t){t.g=new $a(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=sr(t.wa);je(e,"RID","rpc"),je(e,"SID",t.J),je(e,"CI",t.M?"0":"1"),je(e,"AID",t.V),je(e,"TYPE","xmlhttp"),Ba(t,e),t.o&&t.s&&bg(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Uc(sr(e)),n.s=null,n.S=!0,oE(n,t)}ie.ib=function(){this.v!=null&&(this.v=null,Bc(this),Sg(this),Lt(19))};function Mu(t){t.v!=null&&(ye.clearTimeout(t.v),t.v=null)}function NE(t,e){var n=null;if(t.g==e){Mu(t),kg(t),t.g=null;var r=2}else if(Pd(t.h,e))n=e.F,vE(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Dc(),yt(r,new tE(r,n)),qc(t)}else IE(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&xx(t,e)||r==2&&Sg(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:hi(t,5);break;case 4:hi(t,10);break;case 3:hi(t,6);break;default:hi(t,2)}}}function CE(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function hi(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Ot(t.pb,t);n||(n=new vi("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||Du(n,"https"),Uc(n)),Sx(n.toString(),r)}else Lt(2);t.H=0,t.l&&t.l.za(e),RE(t),AE(t)}ie.pb=function(t){t?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function RE(t){if(t.H=0,t.pa=[],t.l){const e=yE(t.h);(e.length!=0||t.i.length!=0)&&(Zv(t.pa,e),Zv(t.pa,t.i),t.h.i.length=0,sg(t.i),t.i.length=0),t.l.ya()}}function PE(t,e,n){var r=n instanceof vi?sr(n):new vi(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Lu(r,r.m);else{var i=ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new vi(null,void 0);r&&Du(o,r),e&&(o.g=e),i&&Lu(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&je(r,n,e),je(r,"VER",t.qa),Ba(t,r),r}function DE(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new We(new ja({ob:!0})):new We(t.va),e.Oa(t.I),e}function LE(){}ie=LE.prototype;ie.Ba=function(){};ie.Aa=function(){};ie.za=function(){};ie.ya=function(){};ie.Va=function(){};function $u(){if(Oo&&!(10<=Number(KI)))throw Error("Environmental error: no available transport.")}$u.prototype.g=function(t,e){return new nn(t,e)};function nn(t,e){ft.call(this),this.g=new kE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Cu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new qo(this)}ht(nn,ft);nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;Lt(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=PE(t,null,t.Y),qc(t)};nn.prototype.close=function(){Tg(this.g)};nn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=dg(t),t=n);e.i.push(new _x(e.fb++,t)),e.H==3&&qc(e)};nn.prototype.N=function(){this.g.l=null,delete this.j,Tg(this.g),delete this.g,nn.$.N.call(this)};function ME(t){vg.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ht(ME,vg);function $E(){yg.call(this),this.status=1}ht($E,yg);function qo(t){this.g=t}ht(qo,LE);qo.prototype.Ba=function(){yt(this.g,"a")};qo.prototype.Aa=function(t){yt(this.g,new ME(t))};qo.prototype.za=function(t){yt(this.g,new $E)};qo.prototype.ya=function(){yt(this.g,"b")};function Nx(){this.blockSize=-1}function Tn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ht(Tn,Nx);Tn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ah(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Tn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)ah(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){ah(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){ah(this,r),i=0;break}}this.h=i,this.i+=e};Tn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Re(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var Cx={};function Ag(t){return-128<=t&&128>t?M_(Cx,t,function(e){return new Re([e|0],0>e?-1:0)}):new Re([t|0],0>t?-1:0)}function Rn(t){if(isNaN(t)||!isFinite(t))return po;if(0>t)return mt(Rn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Dd;return new Re(e,0)}function UE(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return mt(UE(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Rn(Math.pow(e,8)),r=po,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Rn(Math.pow(e,o)),r=r.R(o).add(Rn(s))):(r=r.R(n),r=r.add(Rn(s)))}return r}var Dd=4294967296,po=Ag(0),Ld=Ag(1),fy=Ag(16777216);ie=Re.prototype;ie.ea=function(){if(un(this))return-mt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Dd+r)*e,e*=Dd}return t};ie.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Xn(this))return"0";if(un(this))return"-"+mt(this).toString(t);for(var e=Rn(Math.pow(t,6)),n=this,r="";;){var i=ju(n,e).g;n=Uu(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Xn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Xn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function un(t){return t.h==-1}ie.X=function(t){return t=Uu(this,t),un(t)?-1:Xn(t)?0:1};function mt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Re(n,~t.h).add(Ld)}ie.abs=function(){return un(this)?mt(this):this};ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Re(n,n[n.length-1]&-2147483648?-1:0)};function Uu(t,e){return t.add(mt(e))}ie.R=function(t){if(Xn(this)||Xn(t))return po;if(un(this))return un(t)?mt(this).R(mt(t)):mt(mt(this).R(t));if(un(t))return mt(this.R(mt(t)));if(0>this.X(fy)&&0>t.X(fy))return Rn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,El(n,2*r+2*i),n[2*r+2*i+1]+=o*l,El(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,El(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,El(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Re(n,0)};function El(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function hs(t,e){this.g=t,this.h=e}function ju(t,e){if(Xn(e))throw Error("division by zero");if(Xn(t))return new hs(po,po);if(un(t))return e=ju(mt(t),e),new hs(mt(e.g),mt(e.h));if(un(e))return e=ju(t,mt(e)),new hs(mt(e.g),e.h);if(30<t.g.length){if(un(t)||un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ld,r=e;0>=r.X(t);)n=hy(n),r=hy(r);var i=qi(n,1),o=qi(r,1);for(r=qi(r,2),n=qi(n,2);!Xn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=qi(r,1),n=qi(n,1)}return e=Uu(t,i.R(e)),new hs(i,e)}for(i=po;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Rn(n),s=o.R(e);un(s)||0<s.X(t);)n-=r,o=Rn(n),s=o.R(e);Xn(o)&&(o=Ld),i=i.add(o),t=Uu(t,s)}return new hs(i,t)}ie.gb=function(t){return ju(this,t).h};ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Re(n,this.h&t.h)};ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Re(n,this.h|t.h)};ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Re(n,this.h^t.h)};function hy(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Re(n,t.h)}function qi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Re(i,t.h)}$u.prototype.createWebChannel=$u.prototype.g;nn.prototype.send=nn.prototype.u;nn.prototype.open=nn.prototype.m;nn.prototype.close=nn.prototype.close;Lc.NO_ERROR=0;Lc.TIMEOUT=8;Lc.HTTP_ERROR=6;nE.COMPLETE="complete";rE.EventType=Ma;Ma.OPEN="a";Ma.CLOSE="b";Ma.ERROR="c";Ma.MESSAGE="d";ft.prototype.listen=ft.prototype.O;We.prototype.listenOnce=We.prototype.P;We.prototype.getLastError=We.prototype.Sa;We.prototype.getLastErrorCode=We.prototype.Ia;We.prototype.getStatus=We.prototype.da;We.prototype.getResponseJson=We.prototype.Wa;We.prototype.getResponseText=We.prototype.ja;We.prototype.send=We.prototype.ha;We.prototype.setWithCredentials=We.prototype.Oa;Tn.prototype.digest=Tn.prototype.l;Tn.prototype.reset=Tn.prototype.reset;Tn.prototype.update=Tn.prototype.j;Re.prototype.add=Re.prototype.add;Re.prototype.multiply=Re.prototype.R;Re.prototype.modulo=Re.prototype.gb;Re.prototype.compare=Re.prototype.X;Re.prototype.toNumber=Re.prototype.ea;Re.prototype.toString=Re.prototype.toString;Re.prototype.getBits=Re.prototype.D;Re.fromNumber=Rn;Re.fromString=UE;var Rx=function(){return new $u},Px=function(){return Dc()},lh=Lc,Dx=nE,Lx=$i,dy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mx=ja,bl=rE,$x=We,Ux=Tn,go=Re;const py="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new ng("@firebase/firestore");function gy(){return Oi.logLevel}function ue(t,...e){if(Oi.logLevel<=Ie.DEBUG){const n=e.map(Og);Oi.debug(`Firestore (${zo}): ${t}`,...n)}}function ar(t,...e){if(Oi.logLevel<=Ie.ERROR){const n=e.map(Og);Oi.error(`Firestore (${zo}): ${t}`,...n)}}function Io(t,...e){if(Oi.logLevel<=Ie.WARN){const n=e.map(Og);Oi.warn(`Firestore (${zo}): ${t}`,...n)}}function Og(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: `+t;throw ar(e),new Error(e)}function $e(t,e){t||ve()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class Fx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bx{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new jE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Tt(e)}}class qx{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class zx{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new qx(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hx{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.T=n.token,new Vx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Kx(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new at(0,0))}static max(){return new _e(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ga.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ga?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends ga{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const Wx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends ga{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return Wx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Fe.fromString(e))}static fromName(e){return new he(Fe.fromString(e).popFirst(5))}static empty(){return new he(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Fe(e.slice()))}}function Gx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Hr(i,he.empty(),e)}function Qx(t){return new Hr(t.readTime,t.key,-1)}class Hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hr(_e.min(),he.empty(),-1)}static max(){return new Hr(_e.max(),he.empty(),-1)}}function Yx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==Xx)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const h=l;n(e[h]).next(c=>{s[h]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function za(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Ig.ct=-1;function zc(t){return t==null}function Fu(t){return t===0&&1/t==-1/0}function Zx(t){return typeof t=="number"&&Number.isInteger(t)&&!Fu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ui(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tl(this.root,e,this.comparator,!0)}}class Tl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??gt.RED,this.left=i??gt.EMPTY,this.right=o??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new gt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(t,e,n,r,i){return this}insert(t,e,n){return new gt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vy(this.data.getIterator())}getIteratorFrom(e){return new vy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class vy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new xt(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new qE("Invalid base64 string: "+i):i}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const eN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if($e(!!t),typeof t=="string"){let e=0;const n=eN.exec(t);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ii(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ng(t){const e=t.mapValue.fields.__previous_value__;return xg(e)?Ng(e):e}function ma(t){const e=Kr(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,r,i,o,s,a,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}}class va{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new va("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xg(t)?4:nN(t)?9007199254740991:10:ve()}function Fn(t,e){if(t===e)return!0;const n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ma(t).isEqual(ma(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Kr(r.timestampValue),s=Kr(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ii(r.bytesValue).isEqual(Ii(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return et(r.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(r.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return et(r.integerValue)===et(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=et(r.doubleValue),s=et(i.doubleValue);return o===s?Fu(o)===Fu(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(my(o)!==my(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Fn(o[a],s[a])))return!1;return!0}(t,e);default:return ve()}}function ya(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function No(t,e){if(t===e)return 0;const n=xi(t),r=xi(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=et(i.integerValue||i.doubleValue),a=et(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return yy(t.timestampValue,e.timestampValue);case 4:return yy(ma(t),ma(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Ii(i),a=Ii(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const h=Ne(s[l],a[l]);if(h!==0)return h}return Ne(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Ne(et(i.latitude),et(o.latitude));return s!==0?s:Ne(et(i.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const h=No(s[l],a[l]);if(h)return h}return Ne(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Sl.mapValue&&o===Sl.mapValue)return 0;if(i===Sl.mapValue)return 1;if(o===Sl.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},h=Object.keys(l);a.sort(),h.sort();for(let c=0;c<a.length&&c<h.length;++c){const f=Ne(a[c],h[c]);if(f!==0)return f;const u=No(s[a[c]],l[h[c]]);if(u!==0)return u}return Ne(a.length,h.length)}(t.mapValue,e.mapValue);default:throw ve()}}function yy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Kr(t),r=Kr(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function Co(t){return Md(t)}function Md(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Kr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ii(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,he.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=Md(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${Md(r.fields[a])}`;return o+"}"}(t.mapValue):ve();var e,n}function $d(t){return!!t&&"integerValue"in t}function Cg(t){return!!t&&"arrayValue"in t}function wy(t){return!!t&&"nullValue"in t}function _y(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vl(t){return!!t&&"mapValue"in t}function $s(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ui(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$s(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$s(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$s(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=$s(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Vl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ui(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new qt($s(this.value))}}function zE(t){const e=[];return Ui(t.fields,(n,r)=>{const i=new At([n]);if(Vl(r)){const o=zE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,_e.min(),_e.min(),_e.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,_e.min(),_e.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,_e.min(),_e.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.position=e,this.inclusive=n}}function Ey(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=No(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function by(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n="asc"){this.field=e,this.dir=n}}function rN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{}class ot extends VE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oN(e,n,r):n==="array-contains"?new lN(e,r):n==="in"?new uN(e,r):n==="not-in"?new cN(e,r):n==="array-contains-any"?new fN(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sN(e,r):new aN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(No(n,this.value)):n!==null&&xi(this.value)===xi(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Bn extends VE{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Bn(e,n)}matches(e){return HE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function HE(t){return t.op==="and"}function KE(t){return iN(t)&&HE(t)}function iN(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}function Ud(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(KE(t))return t.filters.map(e=>Ud(e)).join(",");{const e=t.filters.map(n=>Ud(n)).join(",");return`${t.op}(${e})`}}function WE(t,e){return t instanceof ot?function(n,r){return r instanceof ot&&n.op===r.op&&n.field.isEqual(r.field)&&Fn(n.value,r.value)}(t,e):t instanceof Bn?function(n,r){return r instanceof Bn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&WE(o,r.filters[s]),!0):!1}(t,e):void ve()}function GE(t){return t instanceof ot?function(e){return`${e.field.canonicalString()} ${e.op} ${Co(e.value)}`}(t):t instanceof Bn?function(e){return e.op.toString()+" {"+e.getFilters().map(GE).join(" ,")+"}"}(t):"Filter"}class oN extends ot{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class sN extends ot{constructor(e,n){super(e,"in",n),this.keys=QE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aN extends ot{constructor(e,n){super(e,"not-in",n),this.keys=QE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class lN extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cg(n)&&ya(n.arrayValue,this.value)}}class uN extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ya(this.value.arrayValue,n)}}class cN extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ya(this.value.arrayValue,n)}}class fN extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ya(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function Ty(t,e=null,n=[],r=[],i=null,o=null,s=null){return new hN(t,e,n,r,i,o,s)}function Rg(t){const e=Ee(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ud(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),zc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e.dt=n}return e.dt}function Pg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!by(t.startAt,e.startAt)&&by(t.endAt,e.endAt)}function jd(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function dN(t,e,n,r,i,o,s,a){return new Vc(t,e,n,r,i,o,s,a)}function Dg(t){return new Vc(t)}function Sy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pN(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function gN(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function mN(t){return t.collectionGroup!==null}function mo(t){const e=Ee(t);if(e.wt===null){e.wt=[];const n=gN(e),r=pN(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Us(n)),e.wt.push(new Us(At.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Us(At.keyField(),o))}}}return e.wt}function lr(t){const e=Ee(t);if(!e._t)if(e.limitType==="F")e._t=Ty(e.path,e.collectionGroup,mo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of mo(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new Us(o.field,s))}const r=e.endAt?new Bu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bu(e.startAt.position,e.startAt.inclusive):null;e._t=Ty(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Fd(t,e,n){return new Vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hc(t,e){return Pg(lr(t),lr(e))&&t.limitType===e.limitType}function YE(t){return`${Rg(lr(t))}|lt:${t.limitType}`}function Bd(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>GE(r)).join(", ")}]`),zc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),`Target(${n})`}(lr(t))}; limitType=${t.limitType})`}function Kc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):he.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of mo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=Ey(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,mo(n),r)||n.endAt&&!function(i,o,s){const a=Ey(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,mo(n),r))}(t,e)}function vN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XE(t){return(e,n)=>{let r=!1;for(const i of mo(t)){const o=yN(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function yN(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return a!==null&&l!==null?No(a,l):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return BE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new Ve(he.comparator);function ur(){return wN}const JE=new Ve(he.comparator);function Ss(...t){let e=JE;for(const n of t)e=e.insert(n.key,n);return e}function ZE(t){let e=JE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function di(){return js()}function e2(){return js()}function js(){return new Vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const _N=new Ve(he.comparator),EN=new xt(he.comparator);function Se(...t){let e=EN;for(const n of t)e=e.add(n);return e}const bN=new xt(Ne);function TN(){return bN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function n2(t){return{integerValue:""+t}}function SN(t,e){return Zx(e)?n2(e):t2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this._=void 0}}function kN(t,e,n){return t instanceof qu?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&xg(i)&&(i=Ng(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof wa?i2(t,e):t instanceof _a?o2(t,e):function(r,i){const o=r2(r,i),s=ky(o)+ky(r.gt);return $d(o)&&$d(r.gt)?n2(s):t2(r.serializer,s)}(t,e)}function AN(t,e,n){return t instanceof wa?i2(t,e):t instanceof _a?o2(t,e):n}function r2(t,e){return t instanceof zu?$d(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class qu extends Wc{}class wa extends Wc{constructor(e){super(),this.elements=e}}function i2(t,e){const n=s2(e);for(const r of t.elements)n.some(i=>Fn(i,r))||n.push(r);return{arrayValue:{values:n}}}class _a extends Wc{constructor(e){super(),this.elements=e}}function o2(t,e){let n=s2(e);for(const r of t.elements)n=n.filter(i=>!Fn(i,r));return{arrayValue:{values:n}}}class zu extends Wc{constructor(e,n){super(),this.serializer=e,this.gt=n}}function ky(t){return et(t.integerValue||t.doubleValue)}function s2(t){return Cg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ON(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof wa&&r instanceof wa||n instanceof _a&&r instanceof _a?xo(n.elements,r.elements,Fn):n instanceof zu&&r instanceof zu?Fn(n.gt,r.gt):n instanceof qu&&r instanceof qu}(t.transform,e.transform)}class IN{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gc{}function a2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lg(t.key,En.none()):new Va(t.key,t.data,En.none());{const n=t.data,r=qt.empty();let i=new xt(At.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ei(t.key,r,new Xt(i.toArray()),En.none())}}function xN(t,e,n){t instanceof Va?function(r,i,o){const s=r.value.clone(),a=Oy(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ei?function(r,i,o){if(!Hl(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=Oy(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(l2(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fs(t,e,n,r){return t instanceof Va?function(i,o,s,a){if(!Hl(i.precondition,o))return s;const l=i.value.clone(),h=Iy(i.fieldTransforms,a,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ei?function(i,o,s,a){if(!Hl(i.precondition,o))return s;const l=Iy(i.fieldTransforms,a,o),h=o.data;return h.setAll(l2(i)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,o,s){return Hl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function NN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=r2(r.transform,i||null);o!=null&&(n===null&&(n=qt.empty()),n.set(r.field,o))}return n||null}function Ay(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&xo(n,r,(i,o)=>ON(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Va extends Gc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ei extends Gc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function l2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Oy(t,e,n){const r=new Map;$e(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,AN(s,a,n[i]))}return r}function Iy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,kN(o,s,e))}return r}class Lg extends Gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CN extends Gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&xN(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=e2();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=a2(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>Ay(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>Ay(n,r))}}class Mg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length);let i=_N;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Mg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,Ae;function LN(t){switch(t){default:return ve();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function u2(t){if(t===void 0)return ar("GRPC error has no .code"),J.UNKNOWN;switch(t){case Ze.OK:return J.OK;case Ze.CANCELLED:return J.CANCELLED;case Ze.UNKNOWN:return J.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return J.INTERNAL;case Ze.UNAVAILABLE:return J.UNAVAILABLE;case Ze.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ze.NOT_FOUND:return J.NOT_FOUND;case Ze.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ze.ABORTED:return J.ABORTED;case Ze.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ze.DATA_LOSS:return J.DATA_LOSS;default:return ve()}}(Ae=Ze||(Ze={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return kl}static getOrCreateInstance(){return kl===null&&(kl=new $g),kl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let kl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new go([4294967295,4294967295],0);function xy(t){const e=MN().encode(t),n=new Ux;return n.update(e),new Uint8Array(n.digest())}function Ny(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new go([n,r],0),new go([i,o],0)]}class Ug{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ks(`Invalid padding: ${n}`);if(r<0)throw new ks(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ks(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ks(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=go.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(go.fromNumber(r)));return i.compare($N)===1&&(i=new go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=xy(e),[r,i]=Ny(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ug(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.It===0)return;const n=xy(e),[r,i]=Ny(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ks extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ha.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qc(_e.min(),i,new Ve(Ne),ur(),Se())}}class Ha{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ha(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class c2{constructor(e,n){this.targetId=e,this.Vt=n}}class f2{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Cy{constructor(){this.St=0,this.Dt=Py(),this.Ct=Rt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Se(),n=Se(),r=Se();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new Ha(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Py()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class UN{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ur(),this.zt=Ry(),this.Wt=new Ve(Ne)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(jd(s))if(i===0){const a=new he(s.path);this.Yt(r,a,kt.newNoDocument(a,_e.min()))}else $e(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,h)}(n=$g.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,c,f){var u,d,v,y,_,p;const g={localCacheCount:c,existenceFilterCount:f.count},w=f.unchangedNames;return w&&(g.bloomFilter={applied:h===0,hashCount:(u=w==null?void 0:w.hashCount)!==null&&u!==void 0?u:0,bitmapLength:(y=(v=(d=w==null?void 0:w.bits)===null||d===void 0?void 0:d.bitmap)===null||v===void 0?void 0:v.length)!==null&&y!==void 0?y:0,padding:(p=(_=w==null?void 0:w.bits)===null||_===void 0?void 0:_.padding)!==null&&p!==void 0?p:0}),g}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,h;try{l=Ii(o).toUint8Array()}catch(c){if(c instanceof qE)return Io("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{h=new Ug(l,s,a)}catch(c){return Io(c instanceof ks?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return h.It===0?1:i!==n-this.oe(e.targetId,h)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&jd(a.target)){const l=new he(a.target.path);this.jt.get(l)!==null||this.ae(s,l)||this.Yt(s,l,kt.newNoDocument(l,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=Se();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const h=this.se(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Qc(e,n,this.Wt,this.jt,r);return this.jt=ur(),this.zt=Ry(),this.Wt=new Ve(Ne),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Cy,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new xt(Ne),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Cy),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Ry(){return new Ve(he.comparator)}function Py(){return new Ve(he.comparator)}const jN=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),FN=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),BN=(()=>({and:"AND",or:"OR"}))();class qN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qd(t,e){return t.useProto3Json||zc(e)?e:{value:e}}function Vu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zN(t,e){return Vu(t,e.toTimestamp())}function $n(t){return $e(!!t),_e.fromTimestamp(function(e){const n=Kr(e);return new at(n.seconds,n.nanos)}(t))}function jg(t,e){return function(n){return new Fe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function d2(t){const e=Fe.fromString(t);return $e(v2(e)),e}function zd(t,e){return jg(t.databaseId,e.path)}function uh(t,e){const n=d2(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(p2(n))}function Vd(t,e){return jg(t.databaseId,e)}function VN(t){const e=d2(t);return e.length===4?Fe.emptyPath():p2(e)}function Hd(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function p2(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Dy(t,e,n){return{name:zd(t,e),fields:n.value.mapValue.fields}}function HN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?($e(h===void 0||typeof h=="string"),Rt.fromBase64String(h||"")):($e(h===void 0||h instanceof Uint8Array),Rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const h=l.code===void 0?J.UNKNOWN:u2(l.code);return new ce(h,l.message||"")}(s);n=new f2(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=uh(t,r.document.name),o=$n(r.document.updateTime),s=r.document.createTime?$n(r.document.createTime):_e.min(),a=new qt({mapValue:{fields:r.document.fields}}),l=kt.newFoundDocument(i,o,s,a),h=r.targetIds||[],c=r.removedTargetIds||[];n=new Kl(h,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=uh(t,r.document),o=r.readTime?$n(r.readTime):_e.min(),s=kt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Kl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=uh(t,r.document),o=r.removedTargetIds||[];n=new Kl([],o,i,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new DN(i,o),a=r.targetId;n=new c2(a,s)}}return n}function KN(t,e){let n;if(e instanceof Va)n={update:Dy(t,e.key,e.value)};else if(e instanceof Lg)n={delete:zd(t,e.key)};else if(e instanceof ei)n={update:Dy(t,e.key,e.data),updateMask:tC(e.fieldMask)};else{if(!(e instanceof CN))return ve();n={verify:zd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof qu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof wa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof _a)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof zu)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:zN(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ve()}(t,e.precondition)),n}function WN(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?$n(r.updateTime):$n(i);return o.isEqual(_e.min())&&(o=$n(i)),new IN(o,r.transformResults||[])}(n,e))):[]}function GN(t,e){return{documents:[Vd(t,e.path)]}}function QN(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Vd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Vd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return m2(Bn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(h=>function(c){return{field:Vi(c.field),direction:JN(c.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=qd(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function YN(t){let e=VN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(c){const f=g2(c);return f instanceof Bn&&KE(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(c=>function(f){return new Us(Hi(f.field),function(u){switch(u){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,zc(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,u=c.values||[];return new Bu(u,f)}(n.startAt));let h=null;return n.endAt&&(h=function(c){const f=!c.before,u=c.values||[];return new Bu(u,f)}(n.endAt)),dN(e,i,s,o,a,"F",l,h)}function XN(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function g2(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Hi(e.unaryFilter.field);return ot.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Hi(e.unaryFilter.field);return ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hi(e.unaryFilter.field);return ot.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hi(e.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(e){return ot.create(Hi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Bn.create(e.compositeFilter.filters.map(n=>g2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ve()}}(e.compositeFilter.op))}(t):ve()}function JN(t){return jN[t]}function ZN(t){return FN[t]}function eC(t){return BN[t]}function Vi(t){return{fieldPath:t.canonicalString()}}function Hi(t){return At.fromServerFormat(t.fieldPath)}function m2(t){return t instanceof ot?function(e){if(e.op==="=="){if(_y(e.value))return{unaryFilter:{field:Vi(e.field),op:"IS_NAN"}};if(wy(e.value))return{unaryFilter:{field:Vi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(_y(e.value))return{unaryFilter:{field:Vi(e.field),op:"IS_NOT_NAN"}};if(wy(e.value))return{unaryFilter:{field:Vi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vi(e.field),op:ZN(e.op),value:e.value}}}(t):t instanceof Bn?function(e){const n=e.getFilters().map(r=>m2(r));return n.length===1?n[0]:{compositeFilter:{op:eC(e.op),filters:n}}}(t):ve()}function tC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function v2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,i,o=_e.min(),s=_e.min(),a=Rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.fe=e}}function rC(t){const e=YN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.rn=new oC}addToCollectionParentIndex(e,n){return this.rn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Hr.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class oC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ro(0)}static Mn(){return new Ro(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.changes=new Vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fs(r.mutation,i,Xt.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=di();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ss();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ur();const s=js(),a=js();return n.forEach((l,h)=>{const c=r.get(h.key);i.has(h.key)&&(c===void 0||c.mutation instanceof ei)?o=o.insert(h.key,h):c!==void 0?(s.set(h.key,c.mutation.getFieldMask()),Fs(c.mutation,h,c.mutation.getFieldMask(),at.now())):s.set(h.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((h,c)=>s.set(h,c)),n.forEach((h,c)=>{var f;return a.set(h,new aC(c,(f=s.get(h))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=js();let i=new Ve((s,a)=>s-a),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let c=r.get(l)||Xt.empty();c=a.applyToLocalView(h,c),r.set(l,c);const f=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,c=l.value,f=e2();c.forEach(u=>{if(!o.has(u)){const d=a2(n.get(u),r.get(u));d!==null&&f.set(u,d),o=o.add(u)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,f))}return ee.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(di());let a=-1,l=o;return s.next(h=>ee.forEach(h,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?ee.resolve():this.remoteDocumentCache.getEntry(e,c).next(u=>{l=l.insert(c,u)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,l,h,Se())).next(c=>({batchId:a,changes:ZE(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=Ss();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Ss();return this.indexManager.getCollectionParents(e,i).next(s=>ee.forEach(s,a=>{const l=function(h,c){return new Vc(c,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(h=>{h.forEach((c,f)=>{o=o.insert(c,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const h=l.getKey();o.get(h)===null&&(o=o.insert(h,kt.newInvalidDocument(h)))});let s=Ss();return o.forEach((a,l)=>{const h=i.get(a);h!==void 0&&Fs(h.mutation,l,Xt.empty(),at.now()),Kc(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return ee.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:$n(r.createTime)}),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:rC(r.bundledQuery),readTime:$n(r.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.overlays=new Ve(he.comparator),this.ls=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=di();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=di(),o=n.length+1,s=new he(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ve((h,c)=>h-c);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let c=o.get(h.largestBatchId);c===null&&(c=di(),o=o.insert(h.largestBatchId,c)),c.set(h.getKey(),h)}}const a=di(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,c)=>a.set(h,c)),!(a.size()>=i)););return ee.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new PN(n,r));let o=this.ls.get(n);o===void 0&&(o=Se(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.fs=new xt(lt.ds),this.ws=new xt(lt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new lt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new lt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new he(new Fe([])),r=new lt(n,e),i=new lt(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new he(new Fe([])),r=new lt(n,e),i=new lt(n,e+1);let o=Se();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new lt(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return he.comparator(e.key,n.key)||Ne(e.As,n.As)}static _s(e,n){return Ne(e.As,n.As)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new xt(lt.ds)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new RN(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new lt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(s)}lookupMutationBatch(e,n){return ee.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Ne);return n.forEach(i=>{const o=new lt(i,0),s=new lt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),ee.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;he.isDocumentKey(o)||(o=o.child(""));const s=new lt(new he(o),0);let a=new xt(Ne);return this.Rs.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.As)),!0)},s),ee.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$e(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(n.mutations,i=>{const o=new lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new lt(n,0),i=this.Rs.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.Ds=e,this.docs=new Ve(he.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=ur();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():kt.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ur();const s=n.path,a=new he(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:c}}=l.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||Yx(Qx(c),r)<=0||(i.has(c.key)||Kc(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ve()}Cs(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dC(this)}getSize(e){return ee.resolve(this.size)}}class dC extends sC{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.persistence=e,this.xs=new Vo(n=>Rg(n),Pg),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Fg,this.targetCount=0,this.Ms=Ro.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),ee.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Fn(n),ee.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n){this.$s={},this.overlays={},this.Os=new Ig(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new pC(this),this.indexManager=new iC,this.remoteDocumentCache=function(r){return new hC(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new nC(n),this.qs=new uC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new fC(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new mC(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return ee.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class mC extends Jx{constructor(e){super(),this.currentSequenceNumber=e}}class Bg{constructor(e){this.persistence=e,this.Qs=new Fg,this.js=null}static zs(e){return new Bg(e)}get Ws(){if(this.js)return this.js;throw ve()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Ws,r=>{const i=he.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,_e.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return ee.or([()=>ee.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Se(),i=Se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new qg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(Sy(n))return ee.resolve(null);let r=lr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fd(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Se(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.ji(n,a);return this.zi(n,h,s,l.readTime)?this.Ki(e,Fd(n,null,"F")):this.Wi(e,h,n,l)}))})))}Gi(e,n,r,i){return Sy(n)||i.isEqual(_e.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(gy()<=Ie.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bd(n)),this.Wi(e,s,n,Gx(i,-1)))})}ji(e,n){let r=new xt(XE(e));return n.forEach((i,o)=>{Kc(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return gy()<=Ie.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Bd(n)),this.Ui.getDocumentsMatchingQuery(e,n,Hr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ve(Ne),this.Yi=new Vo(o=>Rg(o),Pg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function wC(t,e,n,r){return new yC(t,e,n,r)}async function y2(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Se();for(const h of i){s.push(h.batchId);for(const c of h.mutations)l=l.add(c.key)}for(const h of o){a.push(h.batchId);for(const c of h.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(h=>({er:h,removedBatchIds:s,addedBatchIds:a}))})})}function _C(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,h){const c=l.batch,f=c.keys();let u=ee.resolve();return f.forEach(d=>{u=u.next(()=>h.getEntry(a,d)).next(v=>{const y=l.docVersions.get(d);$e(y!==null),v.version.compareTo(y)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),h.addEntry(v)))})}),u.next(()=>s.mutationQueue.removeMutationBatch(a,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Se();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function w2(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function EC(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,f)=>{const u=i.get(f);if(!u)return;a.push(n.Bs.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(o,c.addedDocuments,f)));let d=u.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?d=d.withResumeToken(Rt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(f,d),function(v,y,_){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(u,d,c)&&a.push(n.Bs.updateTargetData(o,d))});let l=ur(),h=Se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(bC(o,s,e.documentUpdates).next(c=>{l=c.nr,h=c.sr})),!r.isEqual(_e.min())){const c=n.Bs.getLastRemoteSnapshotVersion(o).next(f=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return ee.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,h)).next(()=>l)}).then(o=>(n.Ji=i,o))}function bC(t,e,n){let r=Se(),i=Se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ur();return n.forEach((a,l)=>{const h=o.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{nr:s,sr:i}})}function TC(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SC(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new xr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Kd(t,e,n){const r=Ee(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!za(s))throw s;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Ly(t,e,n){const r=Ee(t);let i=_e.min(),o=Se();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,h){const c=Ee(a),f=c.Yi.get(h);return f!==void 0?ee.resolve(c.Ji.get(f)):c.Bs.getTargetData(l,h)}(r,s,lr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:_e.min(),n?o:Se())).next(a=>(kC(r,vN(e),a),{documents:a,ir:o})))}function kC(t,e,n){let r=t.Xi.get(e)||_e.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}class My{constructor(){this.activeTargetIds=TN()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AC{constructor(){this.Hr=new My,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new My,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=null;function ch(){return Al===null?Al=268435456+Math.round(2147483648*Math.random()):Al++,"0x"+Al.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class NC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=ch(),a=this.To(e,n);ue("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.Eo(l,i,o),this.Ao(e,a,l,r).then(h=>(ue("RestConnection",`Received RPC '${e}' ${s}: `,h),h),h=>{throw Io("RestConnection",`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){const r=IC[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=ch();return new Promise((s,a)=>{const l=new $x;l.setWithCredentials(!0),l.listenOnce(Dx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lh.NO_ERROR:const c=l.getResponseJson();ue(bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case lh.TIMEOUT:ue(bt,`RPC '${e}' ${o} timed out`),a(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const f=l.getStatus();if(ue(bt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let u=l.getResponseJson();Array.isArray(u)&&(u=u[0]);const d=u==null?void 0:u.error;if(d&&d.status&&d.message){const v=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(_)>=0?_:J.UNKNOWN}(d.status);a(new ce(v,d.message))}else a(new ce(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(J.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ue(bt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);ue(bt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",h,r,15)})}Ro(e,n,r){const i=ch(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Rx(),a=Px(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.xmlHttpFactory=new Mx({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ue(bt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let u=!1,d=!1;const v=new xC({ro:_=>{d?ue(bt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(u||(ue(bt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),u=!0),ue(bt,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},oo:()=>f.close()}),y=(_,p,g)=>{_.listen(p,w=>{try{g(w)}catch(m){setTimeout(()=>{throw m},0)}})};return y(f,bl.EventType.OPEN,()=>{d||ue(bt,`RPC '${e}' stream ${i} transport opened.`)}),y(f,bl.EventType.CLOSE,()=>{d||(d=!0,ue(bt,`RPC '${e}' stream ${i} transport closed`),v.wo())}),y(f,bl.EventType.ERROR,_=>{d||(d=!0,Io(bt,`RPC '${e}' stream ${i} transport errored:`,_),v.wo(new ce(J.UNAVAILABLE,"The operation could not be completed")))}),y(f,bl.EventType.MESSAGE,_=>{var p;if(!d){const g=_.data[0];$e(!!g);const w=g,m=w.error||((p=w[0])===null||p===void 0?void 0:p.error);if(m){ue(bt,`RPC '${e}' stream ${i} received error:`,m);const b=m.status;let k=function(E){const O=Ze[E];if(O!==void 0)return u2(O)}(b),I=m.message;k===void 0&&(k=J.INTERNAL,I="Unknown error status: "+b+" with message "+m.message),d=!0,v.wo(new ce(k,I)),f.close()}else ue(bt,`RPC '${e}' stream ${i} received:`,g),v._o(g)}}),y(a,Lx.STAT_EVENT,_=>{_.stat===dy.PROXY?ue(bt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===dy.NOPROXY&&ue(bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function fh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){return new qN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,i,o,s,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new _2(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new ce(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CC extends E2{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=HN(this.serializer,e),r=function(i){if(!("targetChange"in i))return _e.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?$n(o.readTime):_e.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Hd(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=jd(a)?{documents:GN(i,a)}:{query:QN(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=h2(i,o.resumeToken);const l=qd(i,o.expectedCount);l!==null&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(_e.min())>0){s.readTime=Vu(i,o.snapshotVersion.toTimestamp());const l=qd(i,o.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const r=XN(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Hd(this.serializer),n.removeTarget=e,this.Wo(n)}}class RC extends E2{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if($e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=WN(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.cu(r,n)}return $e(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Hd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KN(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(J.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(J.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class DC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ar(n),this.mu=!1):ue("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(s=>{r.enqueueAndForget(async()=>{ji(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Ee(a);l.vu.add(4),await Ka(l),l.bu.set("Unknown"),l.vu.delete(4),await Xc(l)}(this))})}),this.bu=new DC(r,i)}}async function Xc(t){if(ji(t))for(const e of t.Ru)await e(!0)}async function Ka(t){for(const e of t.Ru)await e(!1)}function b2(t,e){const n=Ee(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Hg(n)?Vg(n):Ho(n).Ko()&&zg(n,e))}function T2(t,e){const n=Ee(t),r=Ho(n);n.Au.delete(e),r.Ko()&&S2(n,e),n.Au.size===0&&(r.Ko()?r.jo():ji(n)&&n.bu.set("Unknown"))}function zg(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(t).su(e)}function S2(t,e){t.Vu.qt(e),Ho(t).iu(e)}function Vg(t){t.Vu=new UN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.bu.gu()}function Hg(t){return ji(t)&&!Ho(t).Uo()&&t.Au.size>0}function ji(t){return Ee(t).vu.size===0}function k2(t){t.Vu=void 0}async function MC(t){t.Au.forEach((e,n)=>{zg(t,e)})}async function $C(t,e){k2(t),Hg(t)?(t.bu.Iu(e),Vg(t)):t.bu.set("Unknown")}async function UC(t,e,n){if(t.bu.set("Online"),e instanceof f2&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.Au.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.Au.delete(s),r.Vu.removeTarget(s))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hu(t,r)}else if(e instanceof Kl?t.Vu.Ht(e):e instanceof c2?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(_e.min()))try{const r=await w2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const h=i.Au.get(l);h&&i.Au.set(l,h.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const h=i.Au.get(a);if(!h)return;i.Au.set(a,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),S2(i,a);const c=new xr(h.target,a,l,h.sequenceNumber);zg(i,c)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await Hu(t,r)}}async function Hu(t,e,n){if(!za(e))throw e;t.vu.add(1),await Ka(t),t.bu.set("Offline"),n||(n=()=>w2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Xc(t)})}function A2(t,e){return e().catch(n=>Hu(t,n,e))}async function Jc(t){const e=Ee(t),n=Wr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;jC(e);)try{const i=await TC(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,FC(e,i)}catch(i){await Hu(e,i)}O2(e)&&I2(e)}function jC(t){return ji(t)&&t.Eu.length<10}function FC(t,e){t.Eu.push(e);const n=Wr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function O2(t){return ji(t)&&!Wr(t).Uo()&&t.Eu.length>0}function I2(t){Wr(t).start()}async function BC(t){Wr(t).hu()}async function qC(t){const e=Wr(t);for(const n of t.Eu)e.uu(n.mutations)}async function zC(t,e,n){const r=t.Eu.shift(),i=Mg.from(r,e,n);await A2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jc(t)}async function VC(t,e){e&&Wr(t).ou&&await async function(n,r){if(i=r.code,LN(i)&&i!==J.ABORTED){const o=n.Eu.shift();Wr(n).Qo(),await A2(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Jc(n)}var i}(t,e),O2(t)&&I2(t)}async function Uy(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=ji(n);n.vu.add(3),await Ka(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Xc(n)}async function HC(t,e){const n=Ee(t);e?(n.vu.delete(2),await Xc(n)):e||(n.vu.add(2),await Ka(n),n.bu.set("Unknown"))}function Ho(t){return t.Su||(t.Su=function(e,n,r){const i=Ee(e);return i.fu(),new CC(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:MC.bind(null,t),ao:$C.bind(null,t),nu:UC.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Hg(t)?Vg(t):t.bu.set("Unknown")):(await t.Su.stop(),k2(t))})),t.Su}function Wr(t){return t.Du||(t.Du=function(e,n,r){const i=Ee(e);return i.fu(),new RC(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:BC.bind(null,t),ao:VC.bind(null,t),au:qC.bind(null,t),cu:zC.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Jc(t)):(await t.Du.stop(),t.Eu.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Kg(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(t,e){if(ar("AsyncQueue",`${e}: ${t}`),za(t))return new ce(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Ss(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.Cu=new Ve(he.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ve():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Po{constructor(e,n,r,i,o,s,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Po(e,n,vo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.Nu=void 0,this.listeners=[]}}class WC{constructor(){this.queries=new Vo(e=>YE(e),Hc),this.onlineState="Unknown",this.ku=new Set}}async function x2(t,e){const n=Ee(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new KC),i)try{o.Nu=await n.onListen(r)}catch(s){const a=Wg(s,`Initialization of query '${Bd(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&Gg(n)}async function N2(t,e){const n=Ee(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function GC(t,e){const n=Ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&Gg(n)}function QC(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Gg(t){t.ku.forEach(e=>{e.next()})}class C2{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.key=e}}class P2{constructor(e){this.key=e}}class YC{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Se(),this.mutatedKeys=Se(),this.tc=XE(e),this.ec=new vo(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new jy,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const u=i.get(c),d=Kc(this.query,f)?f:null,v=!!u&&this.mutatedKeys.has(u.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let _=!1;u&&d?u.data.isEqual(d.data)?v!==y&&(r.track({type:3,doc:d}),_=!0):this.rc(u,d)||(r.track({type:2,doc:d}),_=!0,(l&&this.tc(d,l)>0||h&&this.tc(d,h)<0)&&(a=!0)):!u&&d?(r.track({type:0,doc:d}),_=!0):u&&!d&&(r.track({type:1,doc:u}),_=!0,(l||h)&&(a=!0)),_&&(d?(s=s.add(d),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((h,c)=>function(f,u){const d=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return d(f)-d(u)}(h.type,c.type)||this.tc(h.doc,c.doc)),this.oc(r);const s=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,o.length!==0||l?{snapshot:new Po(this.query,e.ec,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Se(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new P2(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new R2(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Po.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class XC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JC{constructor(e){this.key=e,this.fc=!1}}class ZC{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Vo(a=>YE(a),Hc),this._c=new Map,this.mc=new Set,this.gc=new Ve(he.comparator),this.yc=new Map,this.Ic=new Fg,this.Tc={},this.Ec=new Map,this.Ac=Ro.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function eR(t,e){const n=cR(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=await SC(n.localStore,lr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await tR(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&b2(n.remoteStore,s)}return i}async function tR(t,e,n,r,i){t.Rc=(f,u,d)=>async function(v,y,_,p){let g=y.view.sc(_);g.zi&&(g=await Ly(v.localStore,y.query,!1).then(({documents:b})=>y.view.sc(b,g)));const w=p&&p.targetChanges.get(y.targetId),m=y.view.applyChanges(g,v.isPrimaryClient,w);return By(v,y.targetId,m.cc),m.snapshot}(t,f,u,d);const o=await Ly(t.localStore,e,!0),s=new YC(e,o.ir),a=s.sc(o.documents),l=Ha.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=s.applyChanges(a,t.isPrimaryClient,l);By(t,n,h.cc);const c=new XC(e,n,s);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),h.snapshot}async function nR(t,e){const n=Ee(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!Hc(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Kd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),T2(n.remoteStore,r.targetId),Wd(n,r.targetId)}).catch(qa)):(Wd(n,r.targetId),await Kd(n.localStore,r.targetId,!0))}async function rR(t,e,n){const r=fR(t);try{const i=await function(o,s){const a=Ee(o),l=at.now(),h=s.reduce((u,d)=>u.add(d.key),Se());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",u=>{let d=ur(),v=Se();return a.Zi.getEntries(u,h).next(y=>{d=y,d.forEach((_,p)=>{p.isValidDocument()||(v=v.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(u,d)).next(y=>{c=y;const _=[];for(const p of s){const g=NN(p,c.get(p.key).overlayedDocument);g!=null&&_.push(new ei(p.key,g,zE(g.value.mapValue),En.exists(!0)))}return a.mutationQueue.addMutationBatch(u,l,_,s)}).next(y=>{f=y;const _=y.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(u,y.batchId,_)})}).then(()=>({batchId:f.batchId,changes:ZE(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new Ve(Ne)),l=l.insert(s,a),o.Tc[o.currentUser.toKey()]=l}(r,i.batchId,n),await Wa(r,i.changes),await Jc(r.remoteStore)}catch(i){const o=Wg(i,"Failed to persist write");n.reject(o)}}async function D2(t,e){const n=Ee(t);try{const r=await EC(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?$e(s.fc):i.removedDocuments.size>0&&($e(s.fc),s.fc=!1))}),await Wa(n,r,e)}catch(r){await qa(r)}}function Fy(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=Ee(o);a.onlineState=s;let l=!1;a.queries.forEach((h,c)=>{for(const f of c.listeners)f.Mu(s)&&(l=!0)}),l&&Gg(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iR(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new Ve(he.comparator);s=s.insert(o,kt.newNoDocument(o,_e.min()));const a=Se().add(o),l=new Qc(_e.min(),new Map,new Ve(Ne),s,a);await D2(r,l),r.gc=r.gc.remove(o),r.yc.delete(e),Qg(r)}else await Kd(r.localStore,e,!1).then(()=>Wd(r,e,n)).catch(qa)}async function oR(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await _C(n.localStore,e);M2(n,r,null),L2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wa(n,i)}catch(i){await qa(i)}}async function sR(t,e,n){const r=Ee(t);try{const i=await function(o,s){const a=Ee(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return a.mutationQueue.lookupMutationBatch(l,s).next(c=>($e(c!==null),h=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,h,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>a.localDocuments.getDocuments(l,h))})}(r.localStore,e);M2(r,e,n),L2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wa(r,i)}catch(i){await qa(i)}}function L2(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function M2(t,e,n){const r=Ee(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Wd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||$2(t,r)})}function $2(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(T2(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Qg(t))}function By(t,e,n){for(const r of n)r instanceof R2?(t.Ic.addReference(r.key,e),aR(t,r)):r instanceof P2?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||$2(t,r.key)):ve()}function aR(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.mc.add(r),Qg(t))}function Qg(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new he(Fe.fromString(e)),r=t.Ac.next();t.yc.set(r,new JC(n)),t.gc=t.gc.insert(n,r),b2(t.remoteStore,new xr(lr(Dg(n.path)),r,"TargetPurposeLimboResolution",Ig.ct))}}async function Wa(t,e,n){const r=Ee(t),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{s.push(r.Rc(l,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const c=qg.Li(l.targetId,h);o.push(c)}}))}),await Promise.all(s),r.dc.nu(i),await async function(a,l){const h=Ee(a);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>ee.forEach(l,f=>ee.forEach(f.Fi,u=>h.persistence.referenceDelegate.addReference(c,f.targetId,u)).next(()=>ee.forEach(f.Bi,u=>h.persistence.referenceDelegate.removeReference(c,f.targetId,u)))))}catch(c){if(!za(c))throw c;ue("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const u=h.Ji.get(f),d=u.snapshotVersion,v=u.withLastLimboFreeSnapshotVersion(d);h.Ji=h.Ji.insert(f,v)}}}(r.localStore,o))}async function lR(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await y2(n.localStore,e);n.currentUser=e,function(i,o){i.Ec.forEach(s=>{s.forEach(a=>{a.reject(new ce(J.CANCELLED,o))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wa(n,r.er)}}function uR(t,e){const n=Ee(t),r=n.yc.get(e);if(r&&r.fc)return Se().add(r.key);{let i=Se();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}function cR(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=D2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iR.bind(null,e),e.dc.nu=GC.bind(null,e.eventManager),e.dc.Pc=QC.bind(null,e.eventManager),e}function fR(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sR.bind(null,e),e}class qy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Yc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return wC(this.persistence,new vC,e.initialUser,this.serializer)}createPersistence(e){return new gC(Bg.zs,this.serializer)}createSharedClientState(e){return new AC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lR.bind(null,this.syncEngine),await HC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new WC}createDatastore(e){const n=Yc(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new NC(i));var i;return function(o,s,a,l){return new PC(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Fy(this.syncEngine,a,0),s=$y.D()?new $y:new OC,new LC(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,l,h){const c=new ZC(r,i,o,s,a,l);return h&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ee(e);ue("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Ka(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=FE.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hh(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await y2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gR(t);ue("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Uy(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Uy(e.remoteStore,o)),t._onlineComponents=e}function pR(t){return t.name==="FirebaseError"?t.code===J.FAILED_PRECONDITION||t.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function gR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await hh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!pR(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await hh(t,new qy)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await hh(t,new qy);return t._offlineComponents}async function j2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await zy(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await zy(t,new hR))),t._onlineComponents}function mR(t){return j2(t).then(e=>e.syncEngine)}async function F2(t){const e=await j2(t),n=e.eventManager;return n.onListen=eR.bind(null,e.syncEngine),n.onUnlisten=nR.bind(null,e.syncEngine),n}function vR(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const h=new U2({next:f=>{o.enqueueAndForget(()=>N2(i,c));const u=f.docs.has(s);!u&&f.fromCache?l.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&f.fromCache&&a&&a.source==="server"?l.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new C2(Dg(s.path),h,{includeMetadataChanges:!0,Ku:!0});return x2(i,c)}(await F2(t),t.asyncQueue,e,n,r)),r.promise}function yR(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const h=new U2({next:f=>{o.enqueueAndForget(()=>N2(i,c)),f.fromCache&&a.source==="server"?l.reject(new ce(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new C2(s,h,{includeMetadataChanges:!0,Ku:!0});return x2(i,c)}(await F2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t,e,n){if(!n)throw new ce(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wR(t,e,n,r){if(e===!0&&r===!0)throw new ce(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Hy(t){if(!he.isDocumentKey(t))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ky(t){if(he.isDocumentKey(t))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yg(t);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Zc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jx;switch(n.type){case"firstParty":return new zx(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Vy.get(e);n&&(ue("ComponentProvider","Removing Datastore"),Vy.delete(e),n.terminate())}(this),Promise.resolve()}}function _R(t,e,n,r={}){var i;const o=(t=cr(t,Zc))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&Io("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if(typeof r.mockUserToken=="string")s=r.mockUserToken,a=Tt.MOCK_USER;else{s=x_(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Tt(l)}t._authCredentials=new Fx(new jE(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class ef{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ef(this.firestore,e,this._query)}}class Br extends ef{constructor(e,n,r){super(e,n,Dg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new he(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function z2(t,e,...n){if(t=Ke(t),q2("collection","path",e),t instanceof Zc){const r=Fe.fromString(e,...n);return Ky(r),new Br(t,null,r)}{if(!(t instanceof en||t instanceof Br))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return Ky(r),new Br(t.firestore,null,r)}}function Ku(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=FE.A()),q2("doc","path",e),t instanceof Zc){const r=Fe.fromString(e,...n);return Hy(r),new en(t,null,new he(r))}{if(!(t instanceof en||t instanceof Br))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return Hy(r),new en(t.firestore,t instanceof Br?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _2(this,"async_queue_retry"),this.Xc=()=>{const n=fh();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=fh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=fh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new tr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!za(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw ar("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Kg.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&ve()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ko extends Zc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ER,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||V2(this),this._firestoreClient.terminate()}}function bR(t,e){const n=typeof t=="object"?t:ig(),r=typeof t=="string"?t:e||"(default)",i=Oc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=A_("firestore");o&&_R(i,...o)}return i}function Xg(t){return t._firestoreClient||V2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function V2(t){var e,n,r;const i=t._freezeSettings(),o=function(s,a,l,h){return new tN(s,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,B2(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new dR(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(Rt.fromBase64String(e))}catch(n){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Do(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=/^__.*__$/;class SR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new Va(e,this.data,n,this.fieldTransforms)}}class H2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function K2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class em{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new em(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Wu(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(K2(this.ca)&&TR.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class kR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yc(e)}ya(e,n,r,i=!1){return new em({ca:e,methodName:n,ga:r,path:At.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W2(t){const e=t._freezeSettings(),n=Yc(t._databaseId);return new kR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AR(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);tm("Data must be an object, but it was:",s,r);const a=G2(r,s);let l,h;if(o.merge)l=new Xt(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const u=Gd(e,f,n);if(!s.contains(u))throw new ce(J.INVALID_ARGUMENT,`Field '${u}' is specified in your field mask but missing from your input data.`);Y2(c,u)||c.push(u)}l=new Xt(c),h=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,h=s.fieldTransforms;return new SR(new qt(a),l,h)}class nf extends Jg{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}function OR(t,e,n,r){const i=t.ya(1,e,n);tm("Data must be an object, but it was:",i,r);const o=[],s=qt.empty();Ui(r,(l,h)=>{const c=nm(e,l,n);h=Ke(h);const f=i.da(c);if(h instanceof nf)o.push(c);else{const u=rf(h,f);u!=null&&(o.push(c),s.set(c,u))}});const a=new Xt(o);return new H2(s,a,i.fieldTransforms)}function IR(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[Gd(e,r,n)],l=[i];if(o.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let u=0;u<o.length;u+=2)a.push(Gd(e,o[u])),l.push(o[u+1]);const h=[],c=qt.empty();for(let u=a.length-1;u>=0;--u)if(!Y2(h,a[u])){const d=a[u];let v=l[u];v=Ke(v);const y=s.da(d);if(v instanceof nf)h.push(d);else{const _=rf(v,y);_!=null&&(h.push(d),c.set(d,_))}}const f=new Xt(h);return new H2(c,f,s.fieldTransforms)}function rf(t,e){if(Q2(t=Ke(t)))return tm("Unsupported field value:",e,t),G2(t,e);if(t instanceof Jg)return function(n,r){if(!K2(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=rf(s,r.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ke(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return SN(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=at.fromDate(n);return{timestampValue:Vu(r.serializer,i)}}if(n instanceof at){const i=new at(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vu(r.serializer,i)}}if(n instanceof Zg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Do)return{bytesValue:h2(r.serializer,n._byteString)};if(n instanceof en){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Yg(n)}`)}(t,e)}function G2(t,e){const n={};return BE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(t,(r,i)=>{const o=rf(i,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Q2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Zg||t instanceof Do||t instanceof en||t instanceof Jg)}function tm(t,e,n){if(!Q2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Yg(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Gd(t,e,n){if((e=Ke(e))instanceof tf)return e._internalPath;if(typeof e=="string")return nm(t,e);throw Wu("Field path arguments must be of type string or ",t,!1,void 0,n)}const xR=new RegExp("[~\\*/\\[\\]]");function nm(t,e,n){if(e.search(xR)>=0)throw Wu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tf(...e.split("."))._internalPath}catch{throw Wu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ce(J.INVALID_ARGUMENT,a+t+l)}function Y2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(J2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NR extends X2{data(){return super.data()}}function J2(t,e){return typeof e=="string"?nm(t,e):e instanceof tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RR{convertValue(e,n="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ui(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Zg(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ng(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ma(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);$e(v2(r));const i=new va(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(n)||ar(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z2 extends X2{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(J2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wl extends Z2{data(e={}){return super.data(e)}}class DR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new As(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wl(this._firestore,this._userDataWriter,r.key,r,new As(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new Wl(r._firestore,r._userDataWriter,s.doc.key,s.doc,new As(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new Wl(r._firestore,r._userDataWriter,s.doc.key,s.doc,new As(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,h=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),h=o.indexOf(s.doc.key)),{type:LR(s.type),doc:a,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function LR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){t=cr(t,en);const e=cr(t.firestore,Ko);return vR(Xg(e),t._key).then(n=>FR(e,t,n))}class eb extends RR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function $R(t){t=cr(t,ef);const e=cr(t.firestore,Ko),n=Xg(e),r=new eb(e);return CR(t._query),yR(n,t._query).then(i=>new DR(e,r,t,i))}function Qd(t,e,n,...r){t=cr(t,en);const i=cr(t.firestore,Ko),o=W2(i);let s;return s=typeof(e=Ke(e))=="string"||e instanceof tf?IR(o,"updateDoc",t._key,e,n,r):OR(o,"updateDoc",t._key,e),rm(i,[s.toMutation(t._key,En.exists(!0))])}function UR(t){return rm(cr(t.firestore,Ko),[new Lg(t._key,En.none())])}function jR(t,e){const n=cr(t.firestore,Ko),r=Ku(t),i=PR(t.converter,e);return rm(n,[AR(W2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,En.exists(!1))]).then(()=>r)}function rm(t,e){return function(n,r){const i=new tr;return n.asyncQueue.enqueueAndForget(async()=>rR(await mR(n),r,i)),i.promise}(Xg(t),e)}function FR(t,e,n){const r=n.docs.get(e._key),i=new eb(t);return new Z2(t,i,e._key,r,new As(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){zo=n})(Mi),Ai(new Vr("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Ko(new Bx(n.getProvider("auth-internal")),new Hx(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new va(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Mn(py,"3.12.0",t),Mn(py,"3.12.0","esm2017")})();var BR="firebase",qR="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn(BR,qR,"app");function im(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tb(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zR=tb,nb=new Ca("auth","Firebase",tb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new ng("@firebase/auth");function VR(t,...e){Gu.logLevel<=Ie.WARN&&Gu.warn(`Auth (${Mi}): ${t}`,...e)}function Gl(t,...e){Gu.logLevel<=Ie.ERROR&&Gu.error(`Auth (${Mi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,...e){throw om(t,...e)}function Un(t,...e){return om(t,...e)}function HR(t,e,n){const r=Object.assign(Object.assign({},zR()),{[e]:n});return new Ca("auth","Firebase",r).create(e,{appName:t.name})}function om(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nb.create(t,...e)}function me(t,e,...n){if(!t)throw om(e,...n)}function Jn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gl(e),new Error(e)}function fr(t,e){t||Jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KR(){return Gy()==="http:"||Gy()==="https:"}function Gy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KR()||yO()||"connection"in navigator)?navigator.onLine:!0}function GR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=mO()||wO()}get(){return WR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e){fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Ga(3e4,6e4);function Qa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wo(t,e,n,r,i={}){return ib(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ra(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),rb.fetch()(ob(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function ib(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QR),e);try{const i=new XR(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Ol(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ol(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ol(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ol(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw HR(t,c,h);Sn(t,c)}}catch(i){if(i instanceof qn)throw i;Sn(t,"network-request-failed",{message:String(i)})}}async function of(t,e,n,r,i={}){const o=await Wo(t,e,n,r,i);return"mfaPendingCredential"in o&&Sn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function ob(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?sm(t.config,i):`${t.config.apiScheme}://${i}`}class XR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Un(this.auth,"network-request-failed")),YR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ol(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Un(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e){return Wo(t,"POST","/v1/accounts:delete",e)}async function ZR(t,e){return Wo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eP(t,e=!1){const n=Ke(t),r=await n.getIdToken(e),i=am(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Bs(dh(i.auth_time)),issuedAtTime:Bs(dh(i.iat)),expirationTime:Bs(dh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function dh(t){return Number(t)*1e3}function am(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gl("JWT malformed, contained fewer than 3 sections"),null;try{const i=S_(n);return i?JSON.parse(i):(Gl("Failed to decode base64 JWT payload"),null)}catch(i){return Gl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function tP(t){const e=am(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qn&&nP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bs(this.lastLoginAt),this.creationTime=Bs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ea(t,ZR(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?sP(o.providerUserInfo):[],a=oP(t.providerData,s),l=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?h:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new sb(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function iP(t){const e=Ke(t);await Qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sP(t){return t.map(e=>{var{providerId:n}=e,r=im(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e){const n=await ib(t,{},async()=>{const r=Ra({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=ob(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rb.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await aP(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ba;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ba,this.toJSON())}_performRefresh(){return Jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=im(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ea(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eP(this,e)}reload(){return iP(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ea(this,JR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,h,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,u=(i=n.email)!==null&&i!==void 0?i:void 0,d=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(h=n.createdAt)!==null&&h!==void 0?h:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:m,isAnonymous:b,providerData:k,stsTokenManager:I}=n;me(w&&I,e,"internal-error");const E=ba.fromJSON(this.name,I);me(typeof w=="string",e,"internal-error"),vr(f,e.name),vr(u,e.name),me(typeof m=="boolean",e,"internal-error"),me(typeof b=="boolean",e,"internal-error"),vr(d,e.name),vr(v,e.name),vr(y,e.name),vr(_,e.name),vr(p,e.name),vr(g,e.name);const O=new yi({uid:w,auth:e,email:u,emailVerified:m,displayName:f,isAnonymous:b,photoURL:v,phoneNumber:d,tenantId:y,stsTokenManager:E,createdAt:p,lastLoginAt:g});return k&&Array.isArray(k)&&(O.providerData=k.map(T=>Object.assign({},T))),_&&(O._redirectEventId=_),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new ba;i.updateFromServerResponse(n);const o=new yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qu(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Map;function Zn(t){fr(t instanceof Function,"Expected a class definition");let e=Qy.get(t);return e?(fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ab.type="NONE";const Yy=ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t,e,n){return`firebase:${t}:${e}:${n}`}class yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ql(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ql("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yo(Zn(Yy),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Zn(Yy);const s=Ql(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const c=await h._get(s);if(c){const f=yi._fromJSON(e,c);h!==o&&(a=f),o=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new yo(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(s)}catch{}})),new yo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hb(e))return"Blackberry";if(db(e))return"Webos";if(lm(e))return"Safari";if((e.includes("chrome/")||ub(e))&&!e.includes("edge/"))return"Chrome";if(fb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lb(t=Ct()){return/firefox\//i.test(t)}function lm(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ub(t=Ct()){return/crios\//i.test(t)}function cb(t=Ct()){return/iemobile/i.test(t)}function fb(t=Ct()){return/android/i.test(t)}function hb(t=Ct()){return/blackberry/i.test(t)}function db(t=Ct()){return/webos/i.test(t)}function sf(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lP(t=Ct()){var e;return sf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uP(){return _O()&&document.documentMode===10}function pb(t=Ct()){return sf(t)||fb(t)||db(t)||hb(t)||/windows phone/i.test(t)||cb(t)}function cP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e=[]){let n;switch(t){case"Browser":n=Xy(Ct());break;case"Worker":n=`${Xy(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mi}/${r}`}async function mb(t,e){return Wo(t,"GET","/v2/recaptchaConfig",Qa(t,e))}function Jy(t){return t!==void 0&&t.enterprise!==void 0}class vb{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function yb(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Un("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",fP().appendChild(r)})}function hP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dP="https://www.google.com/recaptcha/enterprise.js?render=",pP="recaptcha-enterprise",gP="NO_RECAPTCHA";class wb{constructor(e){this.type=pP,this.auth=Ya(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{mb(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const h=new vb(l);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,s(h.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Jy(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(h=>{s(h)}).catch(()=>{s(gP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Jy(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}yb(dP+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function Zy(t,e,n,r=!1){const i=new wb(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e1(this),this.idTokenSubscription=new e1(this),this.beforeStateQueue=new mP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ke(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}async initializeRecaptchaConfig(){const e=await mb(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new vb(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new wb(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ca("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zn(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return me(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ya(t){return Ke(t)}class e1{constructor(e){this.auth=e,this.observer=null,this.addObserver=OO(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t,e){const n=Oc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Iu(o,e??{}))return i;Sn(i,"already-initialized")}return n.initialize({options:e})}function wP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _P(t,e,n){const r=Ya(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=_b(e),{host:s,port:a}=EP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||bP()}function _b(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EP(t){const e=_b(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:t1(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:t1(s)}}}function t1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,n){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}}async function TP(t,e){return Wo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t,e){return of(t,"POST","/v1/accounts:signInWithPassword",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",Qa(t,e))}async function kP(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends um{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ta(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ta(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Zy(e,r,"signInWithPassword");return ph(e,i)}else return ph(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await Zy(e,r,"signInWithPassword");return ph(e,o)}else return Promise.reject(i)});case"emailLink":return SP(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return TP(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return kP(e,{idToken:n,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t,e){return of(t,"POST","/v1/accounts:signInWithIdp",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="http://localhost";class Ni extends um{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=im(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ni(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:AP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ra(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IP(t){const e=_s(Es(t)).link,n=e?_s(Es(e)).deep_link_id:null,r=_s(Es(t)).deep_link_id;return(r?_s(Es(r)).link:null)||r||n||e||t}class cm{constructor(e){var n,r,i,o,s,a;const l=_s(Es(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=OP((i=l.mode)!==null&&i!==void 0?i:null);me(h&&c&&f,"argument-error"),this.apiKey=h,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=IP(e);try{return new cm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return Ta._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cm.parseLink(n);return me(r,"argument-error"),Ta._fromEmailAndCode(e,r.code,r.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Eb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Xa{constructor(){super("facebook.com")}static credential(e){return Ni._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends Xa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ni._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wn.credential(n,r)}catch{return null}}}Wn.GOOGLE_SIGN_IN_METHOD="google.com";Wn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Xa{constructor(){super("github.com")}static credential(e){return Ni._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Xa{constructor(){super("twitter.com")}static credential(e,n){return Ni._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await yi._fromIdTokenResponse(e,r,i),s=n1(r);return new Lo({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=n1(r);return new Lo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function n1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends qn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yu.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Yu(e,n,r,i)}}function bb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Yu._fromErrorAndOperation(t,o,e,r):o})}async function xP(t,e,n=!1){const r=await Ea(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Ea(t,bb(r,i,e,t),n);me(o.idToken,r,"internal-error");const s=am(o.idToken);me(s,r,"internal-error");const{sub:a}=s;return me(t.uid===a,r,"user-mismatch"),Lo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Sn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(t,e,n=!1){const r="signIn",i=await bb(t,r,e),o=await Lo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function CP(t,e){return Tb(Ya(t),e)}function RP(t,e,n){return CP(Ke(t),Go.credential(e,n))}function PP(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function DP(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function LP(t){return Ke(t).signOut()}const Xu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xu,"1"),this.storage.removeItem(Xu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(){const t=Ct();return lm(t)||sf(t)}const $P=1e3,UP=10;class kb extends Sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=MP()&&cP(),this.fallbackToPolling=pb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);uP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$P)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kb.type="LOCAL";const jP=kb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends Sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ab.type="SESSION";const Ob=Ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new af(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async h=>h(n.origin,o)),l=await FP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const h=fm("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const u=f;if(u.data.eventId===h)switch(u.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(u.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return window}function qP(t){jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function zP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HP(){return Ib()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firebaseLocalStorageDb",KP=1,Ju="firebaseLocalStorage",Nb="fbase_key";class Ja{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lf(t,e){return t.transaction([Ju],e?"readwrite":"readonly").objectStore(Ju)}function WP(){const t=indexedDB.deleteDatabase(xb);return new Ja(t).toPromise()}function Xd(){const t=indexedDB.open(xb,KP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ju,{keyPath:Nb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ju)?e(r):(r.close(),await WP(),e(await Xd()))})})}async function r1(t,e,n){const r=lf(t,!0).put({[Nb]:e,value:n});return new Ja(r).toPromise()}async function GP(t,e){const n=lf(t,!1).get(e),r=await new Ja(n).toPromise();return r===void 0?null:r.value}function i1(t,e){const n=lf(t,!0).delete(e);return new Ja(n).toPromise()}const QP=800,YP=3;class Cb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ib()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(HP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zP(),!this.activeServiceWorker)return;this.sender=new BP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xd();return await r1(e,Xu,"1"),await i1(e,Xu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>r1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=lf(i,!1).getAll();return new Ja(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cb.type="LOCAL";const XP=Cb;new Ga(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e){return e?Zn(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends um{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZP(t){return Tb(t.auth,new hm(t),t.bypassAuthState)}function e4(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),NP(n,new hm(t),t.bypassAuthState)}async function t4(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),xP(n,new hm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZP;case"linkViaPopup":case"linkViaRedirect":return t4;case"reauthViaPopup":case"reauthViaRedirect":return e4;default:Sn(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new Ga(2e3,1e4);class oo extends Rb{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n4.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="pendingRedirect",Yl=new Map;class i4 extends Rb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yl.get(this.auth._key());if(!e){try{const r=await o4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yl.set(this.auth._key(),e)}return this.bypassAuthState||Yl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o4(t,e){const n=l4(e),r=a4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function s4(t,e){Yl.set(t._key(),e)}function a4(t){return Zn(t._redirectPersistence)}function l4(t){return Ql(r4,t.config.apiKey,t.name)}async function u4(t,e,n=!1){const r=Ya(t),i=JP(r,e),s=await new i4(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=10*60*1e3;class f4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Pb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c4&&this.cachedEventUids.clear(),this.cachedEventUids.has(o1(e))}saveEventToCache(e){this.cachedEventUids.add(o1(e)),this.lastProcessedEventTime=Date.now()}}function o1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Pb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(t,e={}){return Wo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g4=/^https?/;async function m4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await d4(t);for(const n of e)try{if(v4(n))return}catch{}Sn(t,"unauthorized-domain")}function v4(t){const e=Yd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!g4.test(n))return!1;if(p4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new Ga(3e4,6e4);function s1(){const t=jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function w4(t){return new Promise((e,n)=>{var r,i,o;function s(){s1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s1(),n(Un(t,"network-request-failed"))},timeout:y4.get()})}if(!((i=(r=jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=jn().gapi)===null||o===void 0)&&o.load)s();else{const a=hP("iframefcb");return jn()[a]=()=>{gapi.load?s():n(Un(t,"network-request-failed"))},yb(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xl=null,e})}let Xl=null;function _4(t){return Xl=Xl||w4(t),Xl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new Ga(5e3,15e3),b4="__/auth/iframe",T4="emulator/auth/iframe",S4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A4(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sm(e,T4):`https://${t.config.authDomain}/${b4}`,r={apiKey:e.apiKey,appName:t.name,v:Mi},i=k4.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ra(r).slice(1)}`}async function O4(t){const e=await _4(t),n=jn().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:A4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Un(t,"network-request-failed"),a=jn().setTimeout(()=>{o(s)},E4.get());function l(){jn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x4=500,N4=600,C4="_blank",R4="http://localhost";class a1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P4(t,e,n,r=x4,i=N4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},I4),{width:r.toString(),height:i.toString(),top:o,left:s}),h=Ct().toLowerCase();n&&(a=ub(h)?C4:n),lb(h)&&(e=e||R4,l.scrollbars="yes");const c=Object.entries(l).reduce((u,[d,v])=>`${u}${d}=${v},`,"");if(lP(h)&&a!=="_self")return D4(e||"",a),new a1(null);const f=window.open(e||"",a,c);me(f,t,"popup-blocked");try{f.focus()}catch{}return new a1(f)}function D4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="__/auth/handler",M4="emulator/auth/handler",$4=encodeURIComponent("fac");async function l1(t,e,n,r,i,o){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mi,eventId:i};if(e instanceof Eb){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",AO(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(o||{}))s[c]=f}if(e instanceof Xa){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),h=l?`#${$4}=${encodeURIComponent(l)}`:"";return`${U4(t)}?${Ra(a).slice(1)}${h}`}function U4({config:t}){return t.emulator?sm(t,M4):`https://${t.authDomain}/${L4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="webStorageSupport";class j4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ob,this._completeRedirectFn=u4,this._overrideRedirectResult=s4}async _openPopup(e,n,r,i){var o;fr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await l1(e,n,r,Yd(),i);return P4(e,s,fm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await l1(e,n,r,Yd(),i);return qP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(fr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await O4(e),r=new f4(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gh,{type:gh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[gh];s!==void 0&&n(!!s),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pb()||lm()||sf()}}const F4=j4;var u1="@firebase/auth",c1="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function z4(t){Ai(new Vr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gb(t)},h=new vP(r,i,o,l);return wP(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ai(new Vr("auth-internal",e=>{const n=Ya(e.getProvider("auth").getImmediate());return(r=>new B4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mn(u1,c1,q4(t)),Mn(u1,c1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=5*60,H4=I_("authIdTokenMaxAge")||V4;let f1=null;const K4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>H4)return;const i=n==null?void 0:n.token;f1!==i&&(f1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function W4(t=ig()){const e=Oc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yP(t,{popupRedirectResolver:F4,persistence:[XP,jP,Ob]}),r=I_("authTokenSyncURL");if(r){const o=K4(r);DP(n,o,()=>o(n.currentUser)),PP(n,s=>o(s))}const i=k_("auth");return i&&_P(n,`http://${i}`),n}z4("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="firebasestorage.googleapis.com",Lb="storageBucket",G4=2*60*1e3,Q4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe extends qn{constructor(e,n,r=0){super(mh(e),`Firebase Storage: ${n} (${mh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ge;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ge||(Ge={}));function mh(t){return"storage/"+t}function dm(){const t="An unknown error occurred, please check the error payload for server response.";return new Qe(Ge.UNKNOWN,t)}function Y4(t){return new Qe(Ge.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function X4(t){return new Qe(Ge.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function J4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qe(Ge.UNAUTHENTICATED,t)}function Z4(){return new Qe(Ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function e3(t){return new Qe(Ge.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function t3(){return new Qe(Ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function n3(){return new Qe(Ge.CANCELED,"User canceled the upload/download.")}function r3(t){return new Qe(Ge.INVALID_URL,"Invalid URL '"+t+"'.")}function i3(t){return new Qe(Ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function o3(){return new Qe(Ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Lb+"' property when initializing the app?")}function s3(){return new Qe(Ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function a3(){return new Qe(Ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function l3(t){return new Qe(Ge.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jd(t){return new Qe(Ge.INVALID_ARGUMENT,t)}function Mb(){return new Qe(Ge.APP_DELETED,"The Firebase app was deleted.")}function u3(t){return new Qe(Ge.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qs(t,e){return new Qe(Ge.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ds(t){throw new Qe(Ge.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Jt.makeFromUrl(e,n)}catch{return new Jt(e,"")}if(r.path==="")return r;throw i3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(m){m.path.charAt(m.path.length-1)==="/"&&(m.path_=m.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function h(m){m.path_=decodeURIComponent(m.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),u="(/([^?#]*).*)?$",d=new RegExp(`^https?://${f}/${c}/b/${i}/o${u}`,"i"),v={bucket:1,path:3},y=n===Db?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",p=new RegExp(`^https?://${y}/${i}/${_}`,"i"),w=[{regex:a,indices:l,postModify:o},{regex:d,indices:v,postModify:h},{regex:p,indices:{bucket:1,path:2},postModify:h}];for(let m=0;m<w.length;m++){const b=w[m],k=b.regex.exec(e);if(k){const I=k[b.indices.bucket];let E=k[b.indices.path];E||(E=""),r=new Jt(I,E),b.postModify(r);break}}if(r==null)throw r3(e);return r}}class c3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let h=!1;function c(..._){h||(h=!0,e.apply(null,_))}function f(_){i=setTimeout(()=>{i=null,t(d,l())},_)}function u(){o&&clearTimeout(o)}function d(_,...p){if(h){u();return}if(_){u(),c.call(null,_,...p);return}if(l()||s){u(),c.call(null,_,...p);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,f(w)}let v=!1;function y(_){v||(v=!0,u(),!h&&(i!==null?(_||(a=2),clearTimeout(i),f(0)):_||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,y(!0)},n),y}function h3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){return t!==void 0}function p3(t){return typeof t=="object"&&!Array.isArray(t)}function pm(t){return typeof t=="string"||t instanceof String}function h1(t){return gm()&&t instanceof Blob}function gm(){return typeof Blob<"u"&&!vO()}function d1(t,e,n,r){if(r<e)throw Jd(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Jd(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $b(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wi||(wi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r,i,o,s,a,l,h,c,f,u=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=h,this.progressCallback_=c,this.connectionFactory_=f,this.retry=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,v)=>{this.resolve_=d,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Il(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,h=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,h)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===wi.NO_ERROR,l=o.getStatus();if(!a||g3(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===wi.ABORT;r(!1,new Il(!1,null,c));return}const h=this.successCodes_.indexOf(l)!==-1;r(!0,new Il(h,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());d3(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=dm();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?Mb():n3();s(l)}else{const l=t3();s(l)}};this.canceled_?n(!1,new Il(!1,null,!0)):this.backoffId_=f3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&h3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Il{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function v3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function w3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function E3(t,e,n,r,i,o,s=!0){const a=$b(t.urlParams),l=t.url+a,h=Object.assign({},t.headers);return w3(h,e),v3(h,n),y3(h,o),_3(h,r),new m3(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function T3(...t){const e=b3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(gm())return new Blob(t);throw new Qe(Ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function S3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){if(typeof atob>"u")throw l3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vh{constructor(e,n){this.data=e,this.contentType=n||null}}function A3(t,e){switch(t){case Pn.RAW:return new vh(Ub(e));case Pn.BASE64:case Pn.BASE64URL:return new vh(jb(t,e));case Pn.DATA_URL:return new vh(I3(e),x3(e))}throw dm()}function Ub(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function O3(t){let e;try{e=decodeURIComponent(t)}catch{throw qs(Pn.DATA_URL,"Malformed data URL.")}return Ub(e)}function jb(t,e){switch(t){case Pn.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw qs(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Pn.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw qs(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=k3(e)}catch(i){throw i.message.includes("polyfill")?i:qs(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Fb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw qs(Pn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=N3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function I3(t){const e=new Fb(t);return e.base64?jb(Pn.BASE64,e.rest):O3(e.rest)}function x3(t){return new Fb(t).contentType}function N3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){let r=0,i="";h1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(h1(this.data_)){const r=this.data_,i=S3(r,e,n);return i===null?null:new kr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new kr(r,!0)}}static getBlob(...e){if(gm()){const n=e.map(r=>r instanceof kr?r.data_:r);return new kr(T3.apply(null,n))}else{const n=e.map(s=>pm(s)?A3(Pn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new kr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){let e;try{e=JSON.parse(t)}catch{return null}return p3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function R3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t,e){return e}class Pt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||P3}}let xl=null;function D3(t){return!pm(t)||t.length<2?t:qb(t)}function mm(){if(xl)return xl;const t=[];t.push(new Pt("bucket")),t.push(new Pt("generation")),t.push(new Pt("metageneration")),t.push(new Pt("name","fullPath",!0));function e(o,s){return D3(s)}const n=new Pt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Pt("size");return i.xform=r,t.push(i),t.push(new Pt("timeCreated")),t.push(new Pt("updated")),t.push(new Pt("md5Hash",null,!0)),t.push(new Pt("cacheControl",null,!0)),t.push(new Pt("contentDisposition",null,!0)),t.push(new Pt("contentEncoding",null,!0)),t.push(new Pt("contentLanguage",null,!0)),t.push(new Pt("contentType",null,!0)),t.push(new Pt("metadata","customMetadata",!0)),xl=t,xl}function L3(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Jt(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function M3(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return L3(r,t),r}function zb(t,e,n){const r=Bb(e);return r===null?null:M3(t,r,n)}function $3(t,e,n,r){const i=Bb(e);if(i===null||!pm(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(h=>{const c=t.bucket,f=t.fullPath,u="/b/"+s(c)+"/o/"+s(f),d=Za(u,n,r),v=$b({alt:"media",token:h});return d+v})[0]}function U3(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class uf{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){if(!t)throw dm()}function Hb(t,e){function n(r,i){const o=zb(t,i,e);return Vb(o!==null),o}return n}function j3(t,e){function n(r,i){const o=zb(t,i,e);return Vb(o!==null),$3(o,i,t.host,t._protocol)}return n}function Kb(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Z4():i=J4():n.getStatus()===402?i=X4(t.bucket):n.getStatus()===403?i=e3(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function vm(t){const e=Kb(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Y4(t.path)),o.serverResponse=i.serverResponse,o}return n}function F3(t,e,n){const r=e.fullServerUrl(),i=Za(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new uf(i,o,Hb(t,n),s);return a.errorHandler=vm(e),a}function B3(t,e,n){const r=e.fullServerUrl(),i=Za(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new uf(i,o,j3(t,n),s);return a.errorHandler=vm(e),a}function q3(t,e){const n=e.fullServerUrl(),r=Za(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,h){}const a=new uf(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=vm(e),a}function z3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function V3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=z3(null,e)),r}function H3(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let m=0;m<2;m++)w=w+Math.random().toString().slice(2);return w}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const h=V3(e,r,i),c=U3(h,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,u=`\r
--`+l+"--",d=kr.getBlob(f,r,u);if(d===null)throw s3();const v={name:h.fullPath},y=Za(o,t.host,t._protocol),_="POST",p=t.maxUploadRetryTime,g=new uf(y,_,Hb(t,n),p);return g.urlParams=v,g.headers=s,g.body=d.uploadData(),g.errorHandler=Kb(e),g}class K3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ds("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ds("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ds("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ds("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ds("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class W3 extends K3{initXhr(){this.xhr_.responseType="text"}}function cf(){return new W3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){this._service=e,n instanceof Jt?this._location=n:this._location=Jt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ci(e,n)}get root(){const e=new Jt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qb(this._location.path)}get storage(){return this._service}get parent(){const e=C3(this._location.path);if(e===null)return null;const n=new Jt(this._location.bucket,e);return new Ci(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw u3(e)}}function G3(t,e,n){t._throwIfRoot("uploadBytes");const r=H3(t.storage,t._location,mm(),new kr(e,!0),n);return t.storage.makeRequestWithTokens(r,cf).then(i=>({metadata:i,ref:t}))}function Q3(t){t._throwIfRoot("getMetadata");const e=F3(t.storage,t._location,mm());return t.storage.makeRequestWithTokens(e,cf)}function Y3(t){t._throwIfRoot("getDownloadURL");const e=B3(t.storage,t._location,mm());return t.storage.makeRequestWithTokens(e,cf).then(n=>{if(n===null)throw a3();return n})}function X3(t){t._throwIfRoot("deleteObject");const e=q3(t.storage,t._location);return t.storage.makeRequestWithTokens(e,cf)}function J3(t,e){const n=R3(t._location.path,e),r=new Jt(t._location.bucket,n);return new Ci(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){return/^[A-Za-z]+:\/\//.test(t)}function eD(t,e){return new Ci(t,e)}function Wb(t,e){if(t instanceof ym){const n=t;if(n._bucket==null)throw o3();const r=new Ci(n,n._bucket);return e!=null?Wb(r,e):r}else return e!==void 0?J3(t,e):t}function tD(t,e){if(e&&Z3(e)){if(t instanceof ym)return eD(t,e);throw Jd("To use ref(service, url), the first argument must be a Storage instance.")}else return Wb(t,e)}function p1(t,e){const n=e==null?void 0:e[Lb];return n==null?null:Jt.makeFromBucketSpec(n,t)}function nD(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:x_(i,t.app.options.projectId))}class ym{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Db,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=G4,this._maxUploadRetryTime=Q4,this._requests=new Set,i!=null?this._bucket=Jt.makeFromBucketSpec(i,this._host):this._bucket=p1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jt.makeFromBucketSpec(this._url,e):this._bucket=p1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){d1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){d1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ci(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new c3(Mb());{const s=E3(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const g1="@firebase/storage",m1="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="storage";function Qb(t,e,n){return t=Ke(t),G3(t,e,n)}function rD(t){return t=Ke(t),Q3(t)}function Yb(t){return t=Ke(t),Y3(t)}function Xb(t){return t=Ke(t),X3(t)}function Zu(t,e){return t=Ke(t),tD(t,e)}function iD(t=ig(),e){t=Ke(t);const r=Oc(t,Gb).getImmediate({identifier:e}),i=A_("storage");return i&&oD(r,...i),r}function oD(t,e,n,r={}){nD(t,e,n,r)}function sD(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ym(n,r,i,e,Mi)}function aD(){Ai(new Vr(Gb,sD,"PUBLIC").setMultipleInstances(!0)),Mn(g1,m1,""),Mn(g1,m1,"esm2017")}aD();const lD={apiKey:"AIzaSyBkY3WJeUz3WRUpYuQyn_8rnEx2MyeRU_8",authDomain:"blog-desserts.firebaseapp.com",projectId:"blog-desserts",storageBucket:"blog-desserts.appspot.com",messagingSenderId:"755706634859",appId:"1:755706634859:web:3d3c21c9e916ae3beec72e",measurementId:"G-31ZVM03QS3"},wm=R_(lD),Sa=bR(wm),Jb=W4(wm);new Wn;const ec=iD(wm);function uD({postList:t,isAuth:e}){const{slugName:n}=v_(),r=async(i,o)=>{try{const s=Ku(Sa,"posts",i);await UR(s);const a=Zu(ec,o);await Xb(a),console.log("Le post et l'image ont t supprims avec succs.")}catch(s){console.error("Une erreur s'est produite lors de la suppression du post et de l'image :",s)}};return K.jsx("div",{className:"flex flex-col gap-[2rem] max-w-[850px] m-auto read-area",children:K.jsx("div",{className:"flex flex-col gap-2 items-start",children:t.filter(i=>i.slug===n).map(i=>{const o=i.tempsDePreparation.replace(":","h");return K.jsxs("div",{className:"flex flex-col gap-[2rem] px-6",children:[K.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[K.jsx("span",{className:"title bg-[#4B6BFB] text-white px-3 py-1 rounded-md",children:i.dessertCategory}),K.jsx("span",{className:"text-[26px] md:text-[36px] md:leading-[40px]  font-semibold ",children:K.jsx("span",{children:i.title})}),K.jsx("div",{className:"flex flex-col gap-3",children:K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx("img",{className:"w-6",src:"/src/assets/icons/icon-persons.svg",alt:""})," ",K.jsx("span",{className:"",children:i.numberOfPersons})]})}),K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx("img",{className:"w-6",src:"/src/assets/icons/icon-time.svg",alt:""}),K.jsx("span",{className:"",children:"Prparation : "}),K.jsx("span",{className:"",children:o})]})]}),K.jsx("img",{src:i.imageUrl,alt:"",className:"w-[850px] h-[490px] object-cover rounded-xl mb-8 "}),K.jsx("div",{className:"text-lg md:text-xl pl-6 md:pl-0",dangerouslySetInnerHTML:{__html:i.content}}),e?K.jsxs("div",{className:"flex gap-4 items-center flex-wrap mt-8",children:[K.jsx("span",{onClick:()=>r(i.id,i.imageUrl),className:"cursor-pointer px-3 py-1 rounded-md hover:outline-2 hover:outline outline-red-500 duration-75  bg-red-500 bg-opacity-5 text-red-500 font-semibold w-fit",children:"Supprimer cette recette"}),K.jsx(Au,{className:"cursor-pointer px-3 py-1 rounded-md  hover:outline-2 hover:outline outline-[#4B6BFB] duration-75  bg-[#4B6BFB] bg-opacity-5 text-[#4B6BFB] font-semibold",to:"/admin-edit/"+i.id,children:"Modifier cette recette"})]}):null]})})})})}function cD(){this.__data__=[],this.size=0}var fD=cD;function hD(t,e){return t===e||t!==t&&e!==e}var Zb=hD,dD=Zb;function pD(t,e){for(var n=t.length;n--;)if(dD(t[n][0],e))return n;return-1}var ff=pD,gD=ff,mD=Array.prototype,vD=mD.splice;function yD(t){var e=this.__data__,n=gD(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():vD.call(e,n,1),--this.size,!0}var wD=yD,_D=ff;function ED(t){var e=this.__data__,n=_D(e,t);return n<0?void 0:e[n][1]}var bD=ED,TD=ff;function SD(t){return TD(this.__data__,t)>-1}var kD=SD,AD=ff;function OD(t,e){var n=this.__data__,r=AD(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ID=OD,xD=fD,ND=wD,CD=bD,RD=kD,PD=ID;function Qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qo.prototype.clear=xD;Qo.prototype.delete=ND;Qo.prototype.get=CD;Qo.prototype.has=RD;Qo.prototype.set=PD;var hf=Qo,DD=hf;function LD(){this.__data__=new DD,this.size=0}var MD=LD;function $D(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var UD=$D;function jD(t){return this.__data__.get(t)}var FD=jD;function BD(t){return this.__data__.has(t)}var qD=BD,zD=typeof Qt=="object"&&Qt&&Qt.Object===Object&&Qt,eT=zD,VD=eT,HD=typeof self=="object"&&self&&self.Object===Object&&self,KD=VD||HD||Function("return this")(),dr=KD,WD=dr,GD=WD.Symbol,_m=GD,v1=_m,tT=Object.prototype,QD=tT.hasOwnProperty,YD=tT.toString,ps=v1?v1.toStringTag:void 0;function XD(t){var e=QD.call(t,ps),n=t[ps];try{t[ps]=void 0;var r=!0}catch{}var i=YD.call(t);return r&&(e?t[ps]=n:delete t[ps]),i}var JD=XD,ZD=Object.prototype,eL=ZD.toString;function tL(t){return eL.call(t)}var nL=tL,y1=_m,rL=JD,iL=nL,oL="[object Null]",sL="[object Undefined]",w1=y1?y1.toStringTag:void 0;function aL(t){return t==null?t===void 0?sL:oL:w1&&w1 in Object(t)?rL(t):iL(t)}var df=aL;function lL(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var nT=lL,uL=df,cL=nT,fL="[object AsyncFunction]",hL="[object Function]",dL="[object GeneratorFunction]",pL="[object Proxy]";function gL(t){if(!cL(t))return!1;var e=uL(t);return e==hL||e==dL||e==fL||e==pL}var rT=gL,mL=dr,vL=mL["__core-js_shared__"],yL=vL,yh=yL,_1=function(){var t=/[^.]+$/.exec(yh&&yh.keys&&yh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wL(t){return!!_1&&_1 in t}var _L=wL,EL=Function.prototype,bL=EL.toString;function TL(t){if(t!=null){try{return bL.call(t)}catch{}try{return t+""}catch{}}return""}var iT=TL,SL=rT,kL=_L,AL=nT,OL=iT,IL=/[\\^$.*+?()[\]{}|]/g,xL=/^\[object .+?Constructor\]$/,NL=Function.prototype,CL=Object.prototype,RL=NL.toString,PL=CL.hasOwnProperty,DL=RegExp("^"+RL.call(PL).replace(IL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LL(t){if(!AL(t)||kL(t))return!1;var e=SL(t)?DL:xL;return e.test(OL(t))}var ML=LL;function $L(t,e){return t==null?void 0:t[e]}var UL=$L,jL=ML,FL=UL;function BL(t,e){var n=FL(t,e);return jL(n)?n:void 0}var Yo=BL,qL=Yo,zL=dr,VL=qL(zL,"Map"),Em=VL,HL=Yo,KL=HL(Object,"create"),pf=KL,E1=pf;function WL(){this.__data__=E1?E1(null):{},this.size=0}var GL=WL;function QL(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var YL=QL,XL=pf,JL="__lodash_hash_undefined__",ZL=Object.prototype,e5=ZL.hasOwnProperty;function t5(t){var e=this.__data__;if(XL){var n=e[t];return n===JL?void 0:n}return e5.call(e,t)?e[t]:void 0}var n5=t5,r5=pf,i5=Object.prototype,o5=i5.hasOwnProperty;function s5(t){var e=this.__data__;return r5?e[t]!==void 0:o5.call(e,t)}var a5=s5,l5=pf,u5="__lodash_hash_undefined__";function c5(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=l5&&e===void 0?u5:e,this}var f5=c5,h5=GL,d5=YL,p5=n5,g5=a5,m5=f5;function Xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xo.prototype.clear=h5;Xo.prototype.delete=d5;Xo.prototype.get=p5;Xo.prototype.has=g5;Xo.prototype.set=m5;var v5=Xo,b1=v5,y5=hf,w5=Em;function _5(){this.size=0,this.__data__={hash:new b1,map:new(w5||y5),string:new b1}}var E5=_5;function b5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var T5=b5,S5=T5;function k5(t,e){var n=t.__data__;return S5(e)?n[typeof e=="string"?"string":"hash"]:n.map}var gf=k5,A5=gf;function O5(t){var e=A5(this,t).delete(t);return this.size-=e?1:0,e}var I5=O5,x5=gf;function N5(t){return x5(this,t).get(t)}var C5=N5,R5=gf;function P5(t){return R5(this,t).has(t)}var D5=P5,L5=gf;function M5(t,e){var n=L5(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var $5=M5,U5=E5,j5=I5,F5=C5,B5=D5,q5=$5;function Jo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jo.prototype.clear=U5;Jo.prototype.delete=j5;Jo.prototype.get=F5;Jo.prototype.has=B5;Jo.prototype.set=q5;var oT=Jo,z5=hf,V5=Em,H5=oT,K5=200;function W5(t,e){var n=this.__data__;if(n instanceof z5){var r=n.__data__;if(!V5||r.length<K5-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new H5(r)}return n.set(t,e),this.size=n.size,this}var G5=W5,Q5=hf,Y5=MD,X5=UD,J5=FD,Z5=qD,eM=G5;function Zo(t){var e=this.__data__=new Q5(t);this.size=e.size}Zo.prototype.clear=Y5;Zo.prototype.delete=X5;Zo.prototype.get=J5;Zo.prototype.has=Z5;Zo.prototype.set=eM;var tM=Zo,nM="__lodash_hash_undefined__";function rM(t){return this.__data__.set(t,nM),this}var iM=rM;function oM(t){return this.__data__.has(t)}var sM=oM,aM=oT,lM=iM,uM=sM;function tc(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new aM;++e<n;)this.add(t[e])}tc.prototype.add=tc.prototype.push=lM;tc.prototype.has=uM;var cM=tc;function fM(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var hM=fM;function dM(t,e){return t.has(e)}var pM=dM,gM=cM,mM=hM,vM=pM,yM=1,wM=2;function _M(t,e,n,r,i,o){var s=n&yM,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var h=o.get(t),c=o.get(e);if(h&&c)return h==e&&c==t;var f=-1,u=!0,d=n&wM?new gM:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var v=t[f],y=e[f];if(r)var _=s?r(y,v,f,e,t,o):r(v,y,f,t,e,o);if(_!==void 0){if(_)continue;u=!1;break}if(d){if(!mM(e,function(p,g){if(!vM(d,g)&&(v===p||i(v,p,n,r,o)))return d.push(g)})){u=!1;break}}else if(!(v===y||i(v,y,n,r,o))){u=!1;break}}return o.delete(t),o.delete(e),u}var sT=_M,EM=dr,bM=EM.Uint8Array,TM=bM;function SM(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var kM=SM;function AM(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var OM=AM,T1=_m,S1=TM,IM=Zb,xM=sT,NM=kM,CM=OM,RM=1,PM=2,DM="[object Boolean]",LM="[object Date]",MM="[object Error]",$M="[object Map]",UM="[object Number]",jM="[object RegExp]",FM="[object Set]",BM="[object String]",qM="[object Symbol]",zM="[object ArrayBuffer]",VM="[object DataView]",k1=T1?T1.prototype:void 0,wh=k1?k1.valueOf:void 0;function HM(t,e,n,r,i,o,s){switch(n){case VM:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case zM:return!(t.byteLength!=e.byteLength||!o(new S1(t),new S1(e)));case DM:case LM:case UM:return IM(+t,+e);case MM:return t.name==e.name&&t.message==e.message;case jM:case BM:return t==e+"";case $M:var a=NM;case FM:var l=r&RM;if(a||(a=CM),t.size!=e.size&&!l)return!1;var h=s.get(t);if(h)return h==e;r|=PM,s.set(t,e);var c=xM(a(t),a(e),r,i,o,s);return s.delete(t),c;case qM:if(wh)return wh.call(t)==wh.call(e)}return!1}var KM=HM;function WM(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var GM=WM,QM=Array.isArray,bm=QM,YM=GM,XM=bm;function JM(t,e,n){var r=e(t);return XM(t)?r:YM(r,n(t))}var ZM=JM;function e6(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var t6=e6;function n6(){return[]}var r6=n6,i6=t6,o6=r6,s6=Object.prototype,a6=s6.propertyIsEnumerable,A1=Object.getOwnPropertySymbols,l6=A1?function(t){return t==null?[]:(t=Object(t),i6(A1(t),function(e){return a6.call(t,e)}))}:o6,u6=l6;function c6(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var f6=c6;function h6(t){return t!=null&&typeof t=="object"}var mf=h6,d6=df,p6=mf,g6="[object Arguments]";function m6(t){return p6(t)&&d6(t)==g6}var v6=m6,O1=v6,y6=mf,aT=Object.prototype,w6=aT.hasOwnProperty,_6=aT.propertyIsEnumerable,E6=O1(function(){return arguments}())?O1:function(t){return y6(t)&&w6.call(t,"callee")&&!_6.call(t,"callee")},b6=E6,nc={exports:{}};function T6(){return!1}var S6=T6;nc.exports;(function(t,e){var n=dr,r=S6,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,h=l||r;t.exports=h})(nc,nc.exports);var lT=nc.exports,k6=9007199254740991,A6=/^(?:0|[1-9]\d*)$/;function O6(t,e){var n=typeof t;return e=e??k6,!!e&&(n=="number"||n!="symbol"&&A6.test(t))&&t>-1&&t%1==0&&t<e}var I6=O6,x6=9007199254740991;function N6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=x6}var uT=N6,C6=df,R6=uT,P6=mf,D6="[object Arguments]",L6="[object Array]",M6="[object Boolean]",$6="[object Date]",U6="[object Error]",j6="[object Function]",F6="[object Map]",B6="[object Number]",q6="[object Object]",z6="[object RegExp]",V6="[object Set]",H6="[object String]",K6="[object WeakMap]",W6="[object ArrayBuffer]",G6="[object DataView]",Q6="[object Float32Array]",Y6="[object Float64Array]",X6="[object Int8Array]",J6="[object Int16Array]",Z6="[object Int32Array]",e$="[object Uint8Array]",t$="[object Uint8ClampedArray]",n$="[object Uint16Array]",r$="[object Uint32Array]",Le={};Le[Q6]=Le[Y6]=Le[X6]=Le[J6]=Le[Z6]=Le[e$]=Le[t$]=Le[n$]=Le[r$]=!0;Le[D6]=Le[L6]=Le[W6]=Le[M6]=Le[G6]=Le[$6]=Le[U6]=Le[j6]=Le[F6]=Le[B6]=Le[q6]=Le[z6]=Le[V6]=Le[H6]=Le[K6]=!1;function i$(t){return P6(t)&&R6(t.length)&&!!Le[C6(t)]}var o$=i$;function s$(t){return function(e){return t(e)}}var a$=s$,rc={exports:{}};rc.exports;(function(t,e){var n=eT,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(rc,rc.exports);var l$=rc.exports,u$=o$,c$=a$,I1=l$,x1=I1&&I1.isTypedArray,f$=x1?c$(x1):u$,cT=f$,h$=f6,d$=b6,p$=bm,g$=lT,m$=I6,v$=cT,y$=Object.prototype,w$=y$.hasOwnProperty;function _$(t,e){var n=p$(t),r=!n&&d$(t),i=!n&&!r&&g$(t),o=!n&&!r&&!i&&v$(t),s=n||r||i||o,a=s?h$(t.length,String):[],l=a.length;for(var h in t)(e||w$.call(t,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||m$(h,l)))&&a.push(h);return a}var E$=_$,b$=Object.prototype;function T$(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||b$;return t===n}var S$=T$;function k$(t,e){return function(n){return t(e(n))}}var A$=k$,O$=A$,I$=O$(Object.keys,Object),x$=I$,N$=S$,C$=x$,R$=Object.prototype,P$=R$.hasOwnProperty;function D$(t){if(!N$(t))return C$(t);var e=[];for(var n in Object(t))P$.call(t,n)&&n!="constructor"&&e.push(n);return e}var L$=D$,M$=rT,$$=uT;function U$(t){return t!=null&&$$(t.length)&&!M$(t)}var j$=U$,F$=E$,B$=L$,q$=j$;function z$(t){return q$(t)?F$(t):B$(t)}var V$=z$,H$=ZM,K$=u6,W$=V$;function G$(t){return H$(t,W$,K$)}var Q$=G$,N1=Q$,Y$=1,X$=Object.prototype,J$=X$.hasOwnProperty;function Z$(t,e,n,r,i,o){var s=n&Y$,a=N1(t),l=a.length,h=N1(e),c=h.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var u=a[f];if(!(s?u in e:J$.call(e,u)))return!1}var d=o.get(t),v=o.get(e);if(d&&v)return d==e&&v==t;var y=!0;o.set(t,e),o.set(e,t);for(var _=s;++f<l;){u=a[f];var p=t[u],g=e[u];if(r)var w=s?r(g,p,u,e,t,o):r(p,g,u,t,e,o);if(!(w===void 0?p===g||i(p,g,n,r,o):w)){y=!1;break}_||(_=u=="constructor")}if(y&&!_){var m=t.constructor,b=e.constructor;m!=b&&"constructor"in t&&"constructor"in e&&!(typeof m=="function"&&m instanceof m&&typeof b=="function"&&b instanceof b)&&(y=!1)}return o.delete(t),o.delete(e),y}var e9=Z$,t9=Yo,n9=dr,r9=t9(n9,"DataView"),i9=r9,o9=Yo,s9=dr,a9=o9(s9,"Promise"),l9=a9,u9=Yo,c9=dr,f9=u9(c9,"Set"),h9=f9,d9=Yo,p9=dr,g9=d9(p9,"WeakMap"),m9=g9,Zd=i9,ep=Em,tp=l9,np=h9,rp=m9,fT=df,es=iT,C1="[object Map]",v9="[object Object]",R1="[object Promise]",P1="[object Set]",D1="[object WeakMap]",L1="[object DataView]",y9=es(Zd),w9=es(ep),_9=es(tp),E9=es(np),b9=es(rp),ai=fT;(Zd&&ai(new Zd(new ArrayBuffer(1)))!=L1||ep&&ai(new ep)!=C1||tp&&ai(tp.resolve())!=R1||np&&ai(new np)!=P1||rp&&ai(new rp)!=D1)&&(ai=function(t){var e=fT(t),n=e==v9?t.constructor:void 0,r=n?es(n):"";if(r)switch(r){case y9:return L1;case w9:return C1;case _9:return R1;case E9:return P1;case b9:return D1}return e});var T9=ai,_h=tM,S9=sT,k9=KM,A9=e9,M1=T9,$1=bm,U1=lT,O9=cT,I9=1,j1="[object Arguments]",F1="[object Array]",Nl="[object Object]",x9=Object.prototype,B1=x9.hasOwnProperty;function N9(t,e,n,r,i,o){var s=$1(t),a=$1(e),l=s?F1:M1(t),h=a?F1:M1(e);l=l==j1?Nl:l,h=h==j1?Nl:h;var c=l==Nl,f=h==Nl,u=l==h;if(u&&U1(t)){if(!U1(e))return!1;s=!0,c=!1}if(u&&!c)return o||(o=new _h),s||O9(t)?S9(t,e,n,r,i,o):k9(t,e,l,n,r,i,o);if(!(n&I9)){var d=c&&B1.call(t,"__wrapped__"),v=f&&B1.call(e,"__wrapped__");if(d||v){var y=d?t.value():t,_=v?e.value():e;return o||(o=new _h),i(y,_,n,r,o)}}return u?(o||(o=new _h),A9(t,e,n,r,i,o)):!1}var C9=N9,R9=C9,q1=mf;function hT(t,e,n,r,i){return t===e?!0:t==null||e==null||!q1(t)&&!q1(e)?t!==t&&e!==e:R9(t,e,n,r,hT,i)}var P9=hT,D9=P9;function L9(t,e){return D9(t,e)}var M9=L9,dT={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Qt,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),h=i(46),c=i(47),f=i(48),u=i(49),d=i(12),v=i(32),y=i(33),_=i(31),p=i(1),g={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:h.default,Text:u.default,Attributor:{Attribute:d.default,Class:v.default,Style:y.default,Store:_.default}};r.default=g},function(n,r,i){var o=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var w in g)g.hasOwnProperty(w)&&(p[w]=g[w])};return function(p,g){_(p,g);function w(){this.constructor=p}p.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(_){o(p,_);function p(g){var w=this;return g="[Parchment] "+g,w=_.call(this,g)||this,w.message=g,w.name=w.constructor.name,w}return p}(Error);r.ParchmentError=s;var a={},l={},h={},c={};r.DATA_KEY="__blot";var f;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function u(_,p){var g=v(_);if(g==null)throw new s("Unable to create "+_+" blot");var w=g,m=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:w.create(p);return new w(m,p)}r.create=u;function d(_,p){return p===void 0&&(p=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:p?d(_.parentNode,p):null}r.find=d;function v(_,p){p===void 0&&(p=f.ANY);var g;if(typeof _=="string")g=c[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)g=c.text;else if(typeof _=="number")_&f.LEVEL&f.BLOCK?g=c.block:_&f.LEVEL&f.INLINE&&(g=c.inline);else if(_ instanceof HTMLElement){var w=(_.getAttribute("class")||"").split(/\s+/);for(var m in w)if(g=l[w[m]],g)break;g=g||h[_.tagName]}return g==null?null:p&f.LEVEL&g.scope&&p&f.TYPE&g.scope?g:null}r.query=v;function y(){for(var _=[],p=0;p<arguments.length;p++)_[p]=arguments[p];if(_.length>1)return _.map(function(m){return y(m)});var g=_[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new s("Invalid definition");if(g.blotName==="abstract")throw new s("Cannot register abstract class");if(c[g.blotName||g.attrName]=g,typeof g.keyName=="string")a[g.keyName]=g;else if(g.className!=null&&(l[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(m){return m.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var w=Array.isArray(g.tagName)?g.tagName:[g.tagName];w.forEach(function(m){(h[m]==null||g.className==null)&&(h[m]=g)})}return g}r.register=y},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),h=String.fromCharCode(0),c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,u){var d={};return f.length===0?this:(d.insert=f,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(d.attributes=u),this.push(d))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,u){if(f<=0)return this;var d={retain:f};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(d.attributes=u),this.push(d)},c.prototype.push=function(f){var u=this.ops.length,d=this.ops[u-1];if(f=a(!0,{},f),typeof d=="object"){if(typeof f.delete=="number"&&typeof d.delete=="number")return this.ops[u-1]={delete:d.delete+f.delete},this;if(typeof d.delete=="number"&&f.insert!=null&&(u-=1,d=this.ops[u-1],typeof d!="object"))return this.ops.unshift(f),this;if(s(f.attributes,d.attributes)){if(typeof f.insert=="string"&&typeof d.insert=="string")return this.ops[u-1]={insert:d.insert+f.insert},typeof f.attributes=="object"&&(this.ops[u-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof d.retain=="number")return this.ops[u-1]={retain:d.retain+f.retain},typeof f.attributes=="object"&&(this.ops[u-1].attributes=f.attributes),this}}return u===this.ops.length?this.ops.push(f):this.ops.splice(u,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var u=[],d=[];return this.forEach(function(v){var y=f(v)?u:d;y.push(v)}),[u,d]},c.prototype.reduce=function(f,u){return this.ops.reduce(f,u)},c.prototype.changeLength=function(){return this.reduce(function(f,u){return u.insert?f+l.length(u):u.delete?f-u.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,u){return f+l.length(u)},0)},c.prototype.slice=function(f,u){f=f||0,typeof u!="number"&&(u=1/0);for(var d=[],v=l.iterator(this.ops),y=0;y<u&&v.hasNext();){var _;y<f?_=v.next(f-y):(_=v.next(u-y),d.push(_)),y+=l.length(_)}return new c(d)},c.prototype.compose=function(f){var u=l.iterator(this.ops),d=l.iterator(f.ops),v=[],y=d.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var _=y.retain;u.peekType()==="insert"&&u.peekLength()<=_;)_-=u.peekLength(),v.push(u.next());y.retain-_>0&&d.next(y.retain-_)}for(var p=new c(v);u.hasNext()||d.hasNext();)if(d.peekType()==="insert")p.push(d.next());else if(u.peekType()==="delete")p.push(u.next());else{var g=Math.min(u.peekLength(),d.peekLength()),w=u.next(g),m=d.next(g);if(typeof m.retain=="number"){var b={};typeof w.retain=="number"?b.retain=g:b.insert=w.insert;var k=l.attributes.compose(w.attributes,m.attributes,typeof w.retain=="number");if(k&&(b.attributes=k),p.push(b),!d.hasNext()&&s(p.ops[p.ops.length-1],b)){var I=new c(u.rest());return p.concat(I).chop()}}else typeof m.delete=="number"&&typeof w.retain=="number"&&p.push(m)}return p.chop()},c.prototype.concat=function(f){var u=new c(this.ops.slice());return f.ops.length>0&&(u.push(f.ops[0]),u.ops=u.ops.concat(f.ops.slice(1))),u},c.prototype.diff=function(f,u){if(this.ops===f.ops)return new c;var d=[this,f].map(function(g){return g.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:h;var m=g===f?"on":"with";throw new Error("diff() called "+m+" non-document")}).join("")}),v=new c,y=o(d[0],d[1],u),_=l.iterator(this.ops),p=l.iterator(f.ops);return y.forEach(function(g){for(var w=g[1].length;w>0;){var m=0;switch(g[0]){case o.INSERT:m=Math.min(p.peekLength(),w),v.push(p.next(m));break;case o.DELETE:m=Math.min(w,_.peekLength()),_.next(m),v.delete(m);break;case o.EQUAL:m=Math.min(_.peekLength(),p.peekLength(),w);var b=_.next(m),k=p.next(m);s(b.insert,k.insert)?v.retain(m,l.attributes.diff(b.attributes,k.attributes)):v.push(k).delete(m);break}w-=m}}),v.chop()},c.prototype.eachLine=function(f,u){u=u||`
`;for(var d=l.iterator(this.ops),v=new c,y=0;d.hasNext();){if(d.peekType()!=="insert")return;var _=d.peek(),p=l.length(_)-d.peekLength(),g=typeof _.insert=="string"?_.insert.indexOf(u,p)-p:-1;if(g<0)v.push(d.next());else if(g>0)v.push(d.next(g));else{if(f(v,d.next(1).attributes||{},y)===!1)return;y+=1,v=new c}}v.length()>0&&f(v,{},y)},c.prototype.transform=function(f,u){if(u=!!u,typeof f=="number")return this.transformPosition(f,u);for(var d=l.iterator(this.ops),v=l.iterator(f.ops),y=new c;d.hasNext()||v.hasNext();)if(d.peekType()==="insert"&&(u||v.peekType()!=="insert"))y.retain(l.length(d.next()));else if(v.peekType()==="insert")y.push(v.next());else{var _=Math.min(d.peekLength(),v.peekLength()),p=d.next(_),g=v.next(_);if(p.delete)continue;g.delete?y.push(g):y.retain(_,l.attributes.transform(p.attributes,g.attributes,u))}return y.chop()},c.prototype.transformPosition=function(f,u){u=!!u;for(var d=l.iterator(this.ops),v=0;d.hasNext()&&v<=f;){var y=d.peekLength(),_=d.peekType();if(d.next(),_==="delete"){f-=Math.min(y,f-v);continue}else _==="insert"&&(v<f||!u)&&(f+=y);v+=y}return f},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):o.call(d)==="[object Array]"},h=function(d){if(!d||o.call(d)!=="[object Object]")return!1;var v=i.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&i.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!v&&!y)return!1;var _;for(_ in d);return typeof _>"u"||i.call(d,_)},c=function(d,v){s&&v.name==="__proto__"?s(d,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):d[v.name]=v.newValue},f=function(d,v){if(v==="__proto__")if(i.call(d,v)){if(a)return a(d,v).value}else return;return d[v]};n.exports=function u(){var d,v,y,_,p,g,w=arguments[0],m=1,b=arguments.length,k=!1;for(typeof w=="boolean"&&(k=w,w=arguments[1]||{},m=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});m<b;++m)if(d=arguments[m],d!=null)for(v in d)y=f(w,v),_=f(d,v),w!==_&&(k&&_&&(h(_)||(p=l(_)))?(p?(p=!1,g=y&&l(y)?y:[]):g=y&&h(y)?y:{},c(w,{name:v,newValue:u(k,g,_)})):typeof _<"u"&&c(w,{name:v,newValue:_}));return w}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function S(A,N){for(var x=0;x<N.length;x++){var D=N[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(A,D.key,D)}}return function(A,N,x){return N&&S(A.prototype,N),x&&S(A,x),A}}(),s=function S(A,N,x){A===null&&(A=Function.prototype);var D=Object.getOwnPropertyDescriptor(A,N);if(D===void 0){var R=Object.getPrototypeOf(A);return R===null?void 0:S(R,N,x)}else{if("value"in D)return D.value;var C=D.get;return C===void 0?void 0:C.call(x)}},a=i(3),l=w(a),h=i(2),c=w(h),f=i(0),u=w(f),d=i(16),v=w(d),y=i(6),_=w(y),p=i(7),g=w(p);function w(S){return S&&S.__esModule?S:{default:S}}function m(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function b(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function k(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var I=1,E=function(S){k(A,S);function A(){return m(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"attach",value:function(){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(x,D){var R=u.default.query(x,u.default.Scope.BLOCK_ATTRIBUTE);R!=null&&this.attributes.attribute(R,D)}},{key:"formatAt",value:function(x,D,R,C){this.format(R,C)}},{key:"insertAt",value:function(x,D,R){if(typeof D=="string"&&D.endsWith(`
`)){var C=u.default.create(O.blotName);this.parent.insertBefore(C,x===0?this:this.next),C.insertAt(0,D.slice(0,-1))}else s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,x,D,R)}}]),A}(u.default.Embed);E.scope=u.default.Scope.BLOCK_BLOT;var O=function(S){k(A,S);function A(N){m(this,A);var x=b(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,N));return x.cache={},x}return o(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(u.default.Leaf).reduce(function(x,D){return D.length()===0?x:x.insert(D.value(),T(D))},new c.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(x,D){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,x,D),this.cache={}}},{key:"formatAt",value:function(x,D,R,C){D<=0||(u.default.query(R,u.default.Scope.BLOCK)?x+D===this.length()&&this.format(R,C):s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,x,Math.min(D,this.length()-x-1),R,C),this.cache={})}},{key:"insertAt",value:function(x,D,R){if(R!=null)return s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,x,D,R);if(D.length!==0){var C=D.split(`
`),B=C.shift();B.length>0&&(x<this.length()-1||this.children.tail==null?s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(x,this.length()-1),B):this.children.tail.insertAt(this.children.tail.length(),B),this.cache={});var M=this;C.reduce(function(L,P){return M=M.split(L,!0),M.insertAt(0,P),P.length},x+B.length)}}},{key:"insertBefore",value:function(x,D){var R=this.children.head;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,x,D),R instanceof v.default&&R.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+I),this.cache.length}},{key:"moveChildren",value:function(x,D){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,x,D),this.cache={}}},{key:"optimize",value:function(x){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,x),this.cache={}}},{key:"path",value:function(x){return s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,x,!0)}},{key:"removeChild",value:function(x){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,x),this.cache={}}},{key:"split",value:function(x){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D&&(x===0||x>=this.length()-I)){var R=this.clone();return x===0?(this.parent.insertBefore(R,this),this):(this.parent.insertBefore(R,this.next),R)}else{var C=s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,x,D);return this.cache={},C}}}]),A}(u.default.Block);O.blotName="block",O.tagName="P",O.defaultChild="break",O.allowedChildren=[_.default,u.default.Embed,g.default];function T(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(A=(0,l.default)(A,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?A:T(S.parent,A)}r.bubbleFormats=T,r.BlockEmbed=E,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s=function(){function M(L,P){var $=[],j=!0,q=!1,F=void 0;try{for(var U=L[Symbol.iterator](),z;!(j=(z=U.next()).done)&&($.push(z.value),!(P&&$.length===P));j=!0);}catch(H){q=!0,F=H}finally{try{!j&&U.return&&U.return()}finally{if(q)throw F}}return $}return function(L,P){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return M(L,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function M(L,P){for(var $=0;$<P.length;$++){var j=P[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(L,j.key,j)}}return function(L,P,$){return P&&M(L.prototype,P),$&&M(L,$),L}}();i(50);var l=i(2),h=T(l),c=i(14),f=T(c),u=i(8),d=T(u),v=i(9),y=T(v),_=i(0),p=T(_),g=i(15),w=T(g),m=i(3),b=T(m),k=i(10),I=T(k),E=i(34),O=T(E);function T(M){return M&&M.__esModule?M:{default:M}}function S(M,L,P){return L in M?Object.defineProperty(M,L,{value:P,enumerable:!0,configurable:!0,writable:!0}):M[L]=P,M}function A(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}var N=(0,I.default)("quill"),x=function(){a(M,null,[{key:"debug",value:function(P){P===!0&&(P="log"),I.default.level(P)}},{key:"find",value:function(P){return P.__quill||p.default.find(P)}},{key:"import",value:function(P){return this.imports[P]==null&&N.error("Cannot import "+P+". Are you sure it was registered?"),this.imports[P]}},{key:"register",value:function(P,$){var j=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof P!="string"){var F=P.attrName||P.blotName;typeof F=="string"?this.register("formats/"+F,P,$):Object.keys(P).forEach(function(U){j.register(U,P[U],$)})}else this.imports[P]!=null&&!q&&N.warn("Overwriting "+P+" with",$),this.imports[P]=$,(P.startsWith("blots/")||P.startsWith("formats/"))&&$.blotName!=="abstract"?p.default.register($):P.startsWith("modules")&&typeof $.register=="function"&&$.register()}}]);function M(L){var P=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,M),this.options=D(L,$),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",L);this.options.debug&&M.debug(this.options.debug);var j=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(F){F===d.default.events.TEXT_CHANGE&&P.root.classList.toggle("ql-blank",P.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(F,U){var z=P.selection.lastRange,H=z&&z.length===0?z.index:void 0;R.call(P,function(){return P.editor.update(null,U,H)},F)});var q=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+j+"<p><br></p></div>");this.setContents(q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(M,[{key:"addContainer",value:function(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof P=="string"){var j=P;P=document.createElement("div"),P.classList.add(j)}return this.container.insertBefore(P,$),P}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(P,$,j){var q=this,F=C(P,$,j),U=s(F,4);return P=U[0],$=U[1],j=U[3],R.call(this,function(){return q.editor.deleteText(P,$)},j,P,-1*$)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(P),this.container.classList.toggle("ql-disabled",!P)}},{key:"focus",value:function(){var P=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=P,this.scrollIntoView()}},{key:"format",value:function(P,$){var j=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return R.call(this,function(){var F=j.getSelection(!0),U=new h.default;if(F==null)return U;if(p.default.query(P,p.default.Scope.BLOCK))U=j.editor.formatLine(F.index,F.length,S({},P,$));else{if(F.length===0)return j.selection.format(P,$),U;U=j.editor.formatText(F.index,F.length,S({},P,$))}return j.setSelection(F,d.default.sources.SILENT),U},q)}},{key:"formatLine",value:function(P,$,j,q,F){var U=this,z=void 0,H=C(P,$,j,q,F),V=s(H,4);return P=V[0],$=V[1],z=V[2],F=V[3],R.call(this,function(){return U.editor.formatLine(P,$,z)},F,P,0)}},{key:"formatText",value:function(P,$,j,q,F){var U=this,z=void 0,H=C(P,$,j,q,F),V=s(H,4);return P=V[0],$=V[1],z=V[2],F=V[3],R.call(this,function(){return U.editor.formatText(P,$,z)},F,P,0)}},{key:"getBounds",value:function(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=void 0;typeof P=="number"?j=this.selection.getBounds(P,$):j=this.selection.getBounds(P.index,P.length);var q=this.container.getBoundingClientRect();return{bottom:j.bottom-q.top,height:j.height,left:j.left-q.left,right:j.right-q.left,top:j.top-q.top,width:j.width}}},{key:"getContents",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,j=C(P,$),q=s(j,2);return P=q[0],$=q[1],this.editor.getContents(P,$)}},{key:"getFormat",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof P=="number"?this.editor.getFormat(P,$):this.editor.getFormat(P.index,P.length)}},{key:"getIndex",value:function(P){return P.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(P){return this.scroll.leaf(P)}},{key:"getLine",value:function(P){return this.scroll.line(P)}},{key:"getLines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof P!="number"?this.scroll.lines(P.index,P.length):this.scroll.lines(P,$)}},{key:"getModule",value:function(P){return this.theme.modules[P]}},{key:"getSelection",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return P&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,j=C(P,$),q=s(j,2);return P=q[0],$=q[1],this.editor.getText(P,$)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(P,$,j){var q=this,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M.sources.API;return R.call(this,function(){return q.editor.insertEmbed(P,$,j)},F,P)}},{key:"insertText",value:function(P,$,j,q,F){var U=this,z=void 0,H=C(P,0,j,q,F),V=s(H,4);return P=V[0],z=V[2],F=V[3],R.call(this,function(){return U.editor.insertText(P,$,z)},F,P,$.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(P,$,j){this.clipboard.dangerouslyPasteHTML(P,$,j)}},{key:"removeFormat",value:function(P,$,j){var q=this,F=C(P,$,j),U=s(F,4);return P=U[0],$=U[1],j=U[3],R.call(this,function(){return q.editor.removeFormat(P,$)},j,P)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(P){var $=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return R.call(this,function(){P=new h.default(P);var q=$.getLength(),F=$.editor.deleteText(0,q),U=$.editor.applyDelta(P),z=U.ops[U.ops.length-1];z!=null&&typeof z.insert=="string"&&z.insert[z.insert.length-1]===`
`&&($.editor.deleteText($.getLength()-1,1),U.delete(1));var H=F.compose(U);return H},j)}},{key:"setSelection",value:function(P,$,j){if(P==null)this.selection.setRange(null,$||M.sources.API);else{var q=C(P,$,j),F=s(q,4);P=F[0],$=F[1],j=F[3],this.selection.setRange(new g.Range(P,$),j),j!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,j=new h.default().insert(P);return this.setContents(j,$)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,$=this.scroll.update(P);return this.selection.update(P),$}},{key:"updateContents",value:function(P){var $=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return R.call(this,function(){return P=new h.default(P),$.editor.applyDelta(P,j)},j,!0)}}]),M}();x.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},x.events=d.default.events,x.sources=d.default.sources,x.version="1.3.7",x.imports={delta:h.default,parchment:p.default,"core/module":y.default,"core/theme":O.default};function D(M,L){if(L=(0,b.default)(!0,{container:M,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===x.DEFAULTS.theme)L.theme=O.default;else if(L.theme=x.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var P=(0,b.default)(!0,{},L.theme.DEFAULTS);[P,L].forEach(function(q){q.modules=q.modules||{},Object.keys(q.modules).forEach(function(F){q.modules[F]===!0&&(q.modules[F]={})})});var $=Object.keys(P.modules).concat(Object.keys(L.modules)),j=$.reduce(function(q,F){var U=x.import("modules/"+F);return U==null?N.error("Cannot load "+F+" module. Are you sure you registered it?"):q[F]=U.DEFAULTS||{},q},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,b.default)(!0,{},x.DEFAULTS,{modules:j},P,L),["bounds","container","scrollingContainer"].forEach(function(q){typeof L[q]=="string"&&(L[q]=document.querySelector(L[q]))}),L.modules=Object.keys(L.modules).reduce(function(q,F){return L.modules[F]&&(q[F]=L.modules[F]),q},{}),L}function R(M,L,P,$){if(this.options.strict&&!this.isEnabled()&&L===d.default.sources.USER)return new h.default;var j=P==null?null:this.getSelection(),q=this.editor.delta,F=M();if(j!=null&&(P===!0&&(P=j.index),$==null?j=B(j,F,L):$!==0&&(j=B(j,P,$,L)),this.setSelection(j,d.default.sources.SILENT)),F.length()>0){var U,z=[d.default.events.TEXT_CHANGE,F,q,L];if((U=this.emitter).emit.apply(U,[d.default.events.EDITOR_CHANGE].concat(z)),L!==d.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,z)}}return F}function C(M,L,P,$,j){var q={};return typeof M.index=="number"&&typeof M.length=="number"?typeof L!="number"?(j=$,$=P,P=L,L=M.length,M=M.index):(L=M.length,M=M.index):typeof L!="number"&&(j=$,$=P,P=L,L=0),(typeof P>"u"?"undefined":o(P))==="object"?(q=P,j=$):typeof P=="string"&&($!=null?q[P]=$:j=P),j=j||d.default.sources.API,[M,L,q,j]}function B(M,L,P,$){if(M==null)return null;var j=void 0,q=void 0;if(L instanceof h.default){var F=[M.index,M.index+M.length].map(function(V){return L.transformPosition(V,$!==d.default.sources.USER)}),U=s(F,2);j=U[0],q=U[1]}else{var z=[M.index,M.index+M.length].map(function(V){return V<L||V===L&&$===d.default.sources.USER?V:P>=0?V+P:Math.max(L,V+P)}),H=s(z,2);j=H[0],q=H[1]}return new g.Range(j,q-j)}r.expandConfig=D,r.overload=C,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(p,g){for(var w=0;w<g.length;w++){var m=g[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,g,w){return g&&_(p.prototype,g),w&&_(p,w),p}}(),s=function _(p,g,w){p===null&&(p=Function.prototype);var m=Object.getOwnPropertyDescriptor(p,g);if(m===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:_(b,g,w)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(w)}},a=i(7),l=f(a),h=i(0),c=f(h);function f(_){return _&&_.__esModule?_:{default:_}}function u(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function d(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function v(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var y=function(_){v(p,_);function p(){return u(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"formatAt",value:function(w,m,b,k){if(p.compare(this.statics.blotName,b)<0&&c.default.query(b,c.default.Scope.BLOT)){var I=this.isolate(w,m);k&&I.wrap(b,k)}else s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,w,m,b,k)}},{key:"optimize",value:function(w){if(s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,w),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var m=this.parent.isolate(this.offset(),this.length());this.moveChildren(m),m.wrap(this)}}}],[{key:"compare",value:function(w,m){var b=p.order.indexOf(w),k=p.order.indexOf(m);return b>=0||k>=0?b-k:w===m?0:w<m?-1:1}}]),p}(c.default.Inline);y.allowedChildren=[y,c.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}function l(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function h(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function c(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var f=function(u){c(d,u);function d(){return l(this,d),h(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(w,m){for(var b=0;b<m.length;b++){var k=m[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,m,b){return m&&g(w.prototype,m),b&&g(w,b),w}}(),s=function g(w,m,b){w===null&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,m);if(k===void 0){var I=Object.getPrototypeOf(w);return I===null?void 0:g(I,m,b)}else{if("value"in k)return k.value;var E=k.get;return E===void 0?void 0:E.call(b)}},a=i(54),l=f(a),h=i(10),c=f(h);function f(g){return g&&g.__esModule?g:{default:g}}function u(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function d(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function v(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var y=(0,c.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(g){document.addEventListener(g,function(){for(var w=arguments.length,m=Array(w),b=0;b<w;b++)m[b]=arguments[b];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var I;(I=k.__quill.emitter).handleDOM.apply(I,m)}})})});var p=function(g){v(w,g);function w(){u(this,w);var m=d(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return m.listeners={},m.on("error",y.error),m}return o(w,[{key:"emit",value:function(){y.log.apply(y,arguments),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(b){for(var k=arguments.length,I=Array(k>1?k-1:0),E=1;E<k;E++)I[E-1]=arguments[E];(this.listeners[b.type]||[]).forEach(function(O){var T=O.node,S=O.handler;(b.target===T||T.contains(b.target))&&S.apply(void 0,[b].concat(I))})}},{key:"listenDOM",value:function(b,k,I){this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push({node:k,handler:I})}}]),w}(l.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=h};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(h){if(o.indexOf(h)<=o.indexOf(s)){for(var c,f=arguments.length,u=Array(f>1?f-1:0),d=1;d<f;d++)u[d-1]=arguments[d];(c=console)[h].apply(c,u)}}function l(h){return o.reduce(function(c,f){return c[f]=a.bind(console,f,h),c},{})}a.level=l.level=function(h){s=h},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(u,d,v){return v||(v={}),u===d?!0:u instanceof Date&&d instanceof Date?u.getTime()===d.getTime():!u||!d||typeof u!="object"&&typeof d!="object"?v.strict?u===d:u==d:f(u,d,v)};function h(u){return u==null}function c(u){return!(!u||typeof u!="object"||typeof u.length!="number"||typeof u.copy!="function"||typeof u.slice!="function"||u.length>0&&typeof u[0]!="number")}function f(u,d,v){var y,_;if(h(u)||h(d)||u.prototype!==d.prototype)return!1;if(a(u))return a(d)?(u=o.call(u),d=o.call(d),l(u,d,v)):!1;if(c(u)){if(!c(d)||u.length!==d.length)return!1;for(y=0;y<u.length;y++)if(u[y]!==d[y])return!1;return!0}try{var p=s(u),g=s(d)}catch{return!1}if(p.length!=g.length)return!1;for(p.sort(),g.sort(),y=p.length-1;y>=0;y--)if(p[y]!=g[y])return!1;for(y=p.length-1;y>=0;y--)if(_=p[y],!l(u[_],d[_],v))return!1;return typeof u==typeof d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,h,c){c===void 0&&(c={}),this.attrName=l,this.keyName=h;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(h){return h.name})},a.prototype.add=function(l,h){return this.canAdd(l,h)?(l.setAttribute(this.keyName,h),!0):!1},a.prototype.canAdd=function(l,h){var c=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof h=="string"?this.whitelist.indexOf(h.replace(/["']/g,""))>-1:this.whitelist.indexOf(h)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var h=l.getAttribute(this.keyName);return this.canAdd(l,h)&&h?h:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function E(O,T){var S=[],A=!0,N=!1,x=void 0;try{for(var D=O[Symbol.iterator](),R;!(A=(R=D.next()).done)&&(S.push(R.value),!(T&&S.length===T));A=!0);}catch(C){N=!0,x=C}finally{try{!A&&D.return&&D.return()}finally{if(N)throw x}}return S}return function(O,T){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return E(O,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(O,T){for(var S=0;S<T.length;S++){var A=T[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,T,S){return T&&E(O.prototype,T),S&&E(O,S),O}}(),a=function E(O,T,S){O===null&&(O=Function.prototype);var A=Object.getOwnPropertyDescriptor(O,T);if(A===void 0){var N=Object.getPrototypeOf(O);return N===null?void 0:E(N,T,S)}else{if("value"in A)return A.value;var x=A.get;return x===void 0?void 0:x.call(S)}},l=i(2),h=g(l),c=i(0),f=g(c),u=i(4),d=g(u),v=i(6),y=g(v),_=i(7),p=g(_);function g(E){return E&&E.__esModule?E:{default:E}}function w(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function m(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function b(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var k=function(E){b(O,E);function O(){return w(this,O),m(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return O}(y.default);k.blotName="code",k.tagName="CODE";var I=function(E){b(O,E);function O(){return w(this,O),m(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return s(O,[{key:"delta",value:function(){var S=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(N,x){return N.insert(x).insert(`
`,S.formats())},new h.default)}},{key:"format",value:function(S,A){if(!(S===this.statics.blotName&&A)){var N=this.descendant(p.default,this.length()-1),x=o(N,1),D=x[0];D!=null&&D.deleteAt(D.length()-1,1),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,S,A)}}},{key:"formatAt",value:function(S,A,N,x){if(A!==0&&!(f.default.query(N,f.default.Scope.BLOCK)==null||N===this.statics.blotName&&x===this.statics.formats(this.domNode))){var D=this.newlineIndex(S);if(!(D<0||D>=S+A)){var R=this.newlineIndex(S,!0)+1,C=D-R+1,B=this.isolate(R,C),M=B.next;B.format(N,x),M instanceof O&&M.formatAt(0,S-R+A-C,N,x)}}}},{key:"insertAt",value:function(S,A,N){if(N==null){var x=this.descendant(p.default,S),D=o(x,2),R=D[0],C=D[1];R.insertAt(C,A)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var N=this.domNode.textContent.slice(S).indexOf(`
`);return N>-1?S+N:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,S);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(S),A.moveChildren(this),A.remove())}},{key:"replace",value:function(S){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var N=f.default.find(A);N==null?A.parentNode.removeChild(A):N instanceof f.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(S){var A=a(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,S);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),O}(d.default);I.blotName="code-block",I.tagName="PRE",I.TAB="  ",r.Code=k,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s=function(){function M(L,P){var $=[],j=!0,q=!1,F=void 0;try{for(var U=L[Symbol.iterator](),z;!(j=(z=U.next()).done)&&($.push(z.value),!(P&&$.length===P));j=!0);}catch(H){q=!0,F=H}finally{try{!j&&U.return&&U.return()}finally{if(q)throw F}}return $}return function(L,P){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return M(L,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function M(L,P){for(var $=0;$<P.length;$++){var j=P[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(L,j.key,j)}}return function(L,P,$){return P&&M(L.prototype,P),$&&M(L,$),L}}(),l=i(2),h=A(l),c=i(20),f=A(c),u=i(0),d=A(u),v=i(13),y=A(v),_=i(24),p=A(_),g=i(4),w=A(g),m=i(16),b=A(m),k=i(21),I=A(k),E=i(11),O=A(E),T=i(3),S=A(T);function A(M){return M&&M.__esModule?M:{default:M}}function N(M,L,P){return L in M?Object.defineProperty(M,L,{value:P,enumerable:!0,configurable:!0,writable:!0}):M[L]=P,M}function x(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}var D=/^[ -~]*$/,R=function(){function M(L){x(this,M),this.scroll=L,this.delta=this.getDelta()}return a(M,[{key:"applyDelta",value:function(P){var $=this,j=!1;this.scroll.update();var q=this.scroll.length();return this.scroll.batchStart(),P=B(P),P.reduce(function(F,U){var z=U.retain||U.delete||U.insert.length||1,H=U.attributes||{};if(U.insert!=null){if(typeof U.insert=="string"){var V=U.insert;V.endsWith(`
`)&&j&&(j=!1,V=V.slice(0,-1)),F>=q&&!V.endsWith(`
`)&&(j=!0),$.scroll.insertAt(F,V);var Q=$.scroll.line(F),re=s(Q,2),se=re[0],pe=re[1],ge=(0,S.default)({},(0,g.bubbleFormats)(se));if(se instanceof w.default){var fe=se.descendant(d.default.Leaf,pe),xe=s(fe,1),we=xe[0];ge=(0,S.default)(ge,(0,g.bubbleFormats)(we))}H=f.default.attributes.diff(ge,H)||{}}else if(o(U.insert)==="object"){var W=Object.keys(U.insert)[0];if(W==null)return F;$.scroll.insertAt(F,W,U.insert[W])}q+=z}return Object.keys(H).forEach(function(G){$.scroll.formatAt(F,z,G,H[G])}),F+z},0),P.reduce(function(F,U){return typeof U.delete=="number"?($.scroll.deleteAt(F,U.delete),F):F+(U.retain||U.insert.length||1)},0),this.scroll.batchEnd(),this.update(P)}},{key:"deleteText",value:function(P,$){return this.scroll.deleteAt(P,$),this.update(new h.default().retain(P).delete($))}},{key:"formatLine",value:function(P,$){var j=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(q).forEach(function(F){if(!(j.scroll.whitelist!=null&&!j.scroll.whitelist[F])){var U=j.scroll.lines(P,Math.max($,1)),z=$;U.forEach(function(H){var V=H.length();if(!(H instanceof y.default))H.format(F,q[F]);else{var Q=P-H.offset(j.scroll),re=H.newlineIndex(Q+z)-Q+1;H.formatAt(Q,re,F,q[F])}z-=V})}}),this.scroll.optimize(),this.update(new h.default().retain(P).retain($,(0,I.default)(q)))}},{key:"formatText",value:function(P,$){var j=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(q).forEach(function(F){j.scroll.formatAt(P,$,F,q[F])}),this.update(new h.default().retain(P).retain($,(0,I.default)(q)))}},{key:"getContents",value:function(P,$){return this.delta.slice(P,P+$)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(P,$){return P.concat($.delta())},new h.default)}},{key:"getFormat",value:function(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=[],q=[];$===0?this.scroll.path(P).forEach(function(U){var z=s(U,1),H=z[0];H instanceof w.default?j.push(H):H instanceof d.default.Leaf&&q.push(H)}):(j=this.scroll.lines(P,$),q=this.scroll.descendants(d.default.Leaf,P,$));var F=[j,q].map(function(U){if(U.length===0)return{};for(var z=(0,g.bubbleFormats)(U.shift());Object.keys(z).length>0;){var H=U.shift();if(H==null)return z;z=C((0,g.bubbleFormats)(H),z)}return z});return S.default.apply(S.default,F)}},{key:"getText",value:function(P,$){return this.getContents(P,$).filter(function(j){return typeof j.insert=="string"}).map(function(j){return j.insert}).join("")}},{key:"insertEmbed",value:function(P,$,j){return this.scroll.insertAt(P,$,j),this.update(new h.default().retain(P).insert(N({},$,j)))}},{key:"insertText",value:function(P,$){var j=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $=$.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(P,$),Object.keys(q).forEach(function(F){j.scroll.formatAt(P,$.length,F,q[F])}),this.update(new h.default().retain(P).insert($,(0,I.default)(q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var P=this.scroll.children.head;return P.statics.blotName!==w.default.blotName||P.children.length>1?!1:P.children.head instanceof b.default}},{key:"removeFormat",value:function(P,$){var j=this.getText(P,$),q=this.scroll.line(P+$),F=s(q,2),U=F[0],z=F[1],H=0,V=new h.default;U!=null&&(U instanceof y.default?H=U.newlineIndex(z)-z+1:H=U.length()-z,V=U.delta().slice(z,z+H-1).insert(`
`));var Q=this.getContents(P,$+H),re=Q.diff(new h.default().insert(j).concat(V)),se=new h.default().retain(P).concat(re);return this.applyDelta(se)}},{key:"update",value:function(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,q=this.delta;if($.length===1&&$[0].type==="characterData"&&$[0].target.data.match(D)&&d.default.find($[0].target)){var F=d.default.find($[0].target),U=(0,g.bubbleFormats)(F),z=F.offset(this.scroll),H=$[0].oldValue.replace(p.default.CONTENTS,""),V=new h.default().insert(H),Q=new h.default().insert(F.value()),re=new h.default().retain(z).concat(V.diff(Q,j));P=re.reduce(function(se,pe){return pe.insert?se.insert(pe.insert,U):se.push(pe)},new h.default),this.delta=q.compose(P)}else this.delta=this.getDelta(),(!P||!(0,O.default)(q.compose(P),this.delta))&&(P=q.diff(this.delta,j));return P}}]),M}();function C(M,L){return Object.keys(L).reduce(function(P,$){return M[$]==null||(L[$]===M[$]?P[$]=L[$]:Array.isArray(L[$])?L[$].indexOf(M[$])<0&&(P[$]=L[$].concat([M[$]])):P[$]=[L[$],M[$]]),P},{})}function B(M){return M.reduce(function(L,P){if(P.insert===1){var $=(0,I.default)(P.attributes);return delete $.image,L.insert({image:P.attributes.image},$)}if(P.attributes!=null&&(P.attributes.list===!0||P.attributes.bullet===!0)&&(P=(0,I.default)(P),P.attributes.list?P.attributes.list="ordered":(P.attributes.list="bullet",delete P.attributes.bullet)),typeof P.insert=="string"){var j=P.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert(j,P.attributes)}return L.push(P)},new h.default)}r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function E(O,T){var S=[],A=!0,N=!1,x=void 0;try{for(var D=O[Symbol.iterator](),R;!(A=(R=D.next()).done)&&(S.push(R.value),!(T&&S.length===T));A=!0);}catch(C){N=!0,x=C}finally{try{!A&&D.return&&D.return()}finally{if(N)throw x}}return S}return function(O,T){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return E(O,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(O,T){for(var S=0;S<T.length;S++){var A=T[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,T,S){return T&&E(O.prototype,T),S&&E(O,S),O}}(),a=i(0),l=p(a),h=i(21),c=p(h),f=i(11),u=p(f),d=i(8),v=p(d),y=i(10),_=p(y);function p(E){return E&&E.__esModule?E:{default:E}}function g(E){if(Array.isArray(E)){for(var O=0,T=Array(E.length);O<E.length;O++)T[O]=E[O];return T}else return Array.from(E)}function w(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}var m=(0,_.default)("quill:selection"),b=function E(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,E),this.index=O,this.length=T},k=function(){function E(O,T){var S=this;w(this,E),this.emitter=T,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(A,N){A===v.default.events.TEXT_CHANGE&&N.length()>0&&S.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var A=S.getNativeRange();A!=null&&A.start.node!==S.cursor.textNode&&S.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(A,N){if(N.range){var x=N.range,D=x.startNode,R=x.startOffset,C=x.endNode,B=x.endOffset;S.setNativeRange(D,R,C,B)}}),this.update(v.default.sources.SILENT)}return s(E,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var S=T.cursor.restore();if(!S)return;setTimeout(function(){T.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||l.default.query(T,l.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var N=l.default.find(A.start.node,!1);if(N==null)return;if(N instanceof l.default.Leaf){var x=N.split(A.start.offset);N.parent.insertBefore(this.cursor,x)}else N.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(T,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();T=Math.min(T,A-1),S=Math.min(T+S,A-1)-T;var N=void 0,x=this.scroll.leaf(T),D=o(x,2),R=D[0],C=D[1];if(R==null)return null;var B=R.position(C,!0),M=o(B,2);N=M[0],C=M[1];var L=document.createRange();if(S>0){L.setStart(N,C);var P=this.scroll.leaf(T+S),$=o(P,2);if(R=$[0],C=$[1],R==null)return null;var j=R.position(C,!0),q=o(j,2);return N=q[0],C=q[1],L.setEnd(N,C),L.getBoundingClientRect()}else{var F="left",U=void 0;return N instanceof Text?(C<N.data.length?(L.setStart(N,C),L.setEnd(N,C+1)):(L.setStart(N,C-1),L.setEnd(N,C),F="right"),U=L.getBoundingClientRect()):(U=R.domNode.getBoundingClientRect(),C>0&&(F="right")),{bottom:U.top+U.height,height:U.height,left:U[F],right:U[F],top:U.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var S=T.getRangeAt(0);if(S==null)return null;var A=this.normalizeNative(S);return m.info("getNativeRange",A),A}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var S=this.normalizedToRange(T);return[S,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var S=this,A=[[T.start.node,T.start.offset]];T.native.collapsed||A.push([T.end.node,T.end.offset]);var N=A.map(function(R){var C=o(R,2),B=C[0],M=C[1],L=l.default.find(B,!0),P=L.offset(S.scroll);return M===0?P:L instanceof l.default.Container?P+L.length():P+L.index(B,M)}),x=Math.min(Math.max.apply(Math,g(N)),this.scroll.length()-1),D=Math.min.apply(Math,[x].concat(g(N)));return new b(D,x-D)}},{key:"normalizeNative",value:function(T){if(!I(this.root,T.startContainer)||!T.collapsed&&!I(this.root,T.endContainer))return null;var S={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[S.start,S.end].forEach(function(A){for(var N=A.node,x=A.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>x)N=N.childNodes[x],x=0;else if(N.childNodes.length===x)N=N.lastChild,x=N instanceof Text?N.data.length:N.childNodes.length+1;else break;A.node=N,A.offset=x}),S}},{key:"rangeToNative",value:function(T){var S=this,A=T.collapsed?[T.index]:[T.index,T.index+T.length],N=[],x=this.scroll.length();return A.forEach(function(D,R){D=Math.min(x-1,D);var C=void 0,B=S.scroll.leaf(D),M=o(B,2),L=M[0],P=M[1],$=L.position(P,R!==0),j=o($,2);C=j[0],P=j[1],N.push(C,P)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(T){var S=this.lastRange;if(S!=null){var A=this.getBounds(S.index,S.length);if(A!=null){var N=this.scroll.length()-1,x=this.scroll.line(Math.min(S.index,N)),D=o(x,1),R=D[0],C=R;if(S.length>0){var B=this.scroll.line(Math.min(S.index+S.length,N)),M=o(B,1);C=M[0]}if(!(R==null||C==null)){var L=T.getBoundingClientRect();A.top<L.top?T.scrollTop-=L.top-A.top:A.bottom>L.bottom&&(T.scrollTop+=A.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(T,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(m.info("setNativeRange",T,S,A,N),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||A.parentNode==null))){var D=document.getSelection();if(D!=null)if(T!=null){this.hasFocus()||this.root.focus();var R=(this.getNativeRange()||{}).native;if(R==null||x||T!==R.startContainer||S!==R.startOffset||A!==R.endContainer||N!==R.endOffset){T.tagName=="BR"&&(S=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),A.tagName=="BR"&&(N=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var C=document.createRange();C.setStart(T,S),C.setEnd(A,N),D.removeAllRanges(),D.addRange(C)}}else D.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof S=="string"&&(A=S,S=!1),m.info("setRange",T),T!=null){var N=this.rangeToNative(T);this.setNativeRange.apply(this,g(N).concat([S]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,S=this.lastRange,A=this.getRange(),N=o(A,2),x=N[0],D=N[1];if(this.lastRange=x,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,u.default)(S,this.lastRange)){var R;!this.composing&&D!=null&&D.native.collapsed&&D.start.node!==this.cursor.textNode&&this.cursor.restore();var C=[v.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(S),T];if((R=this.emitter).emit.apply(R,[v.default.events.EDITOR_CHANGE].concat(C)),T!==v.default.sources.SILENT){var B;(B=this.emitter).emit.apply(B,C)}}}}]),E}();function I(E,O){try{O.parentNode}catch{return!1}return O instanceof Text&&(O=O.parentNode),E.contains(O)}r.Range=b,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,_){for(var p=0;p<_.length;p++){var g=_[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,_,p){return _&&v(y.prototype,_),p&&v(y,p),y}}(),s=function v(y,_,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,_);if(g===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,_,p)}else{if("value"in g)return g.value;var m=g.get;return m===void 0?void 0:m.call(p)}},a=i(0),l=h(a);function h(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function u(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var d=function(v){u(y,v);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"insertInto",value:function(p,g){p.children.length===0?s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,p,g):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);d.blotName="break",d.tagName="BR",r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var v in d)d.hasOwnProperty(v)&&(u[v]=d[v])};return function(u,d){f(u,d);function v(){this.constructor=u}u.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),h=function(f){o(u,f);function u(d){var v=f.call(this,d)||this;return v.build(),v}return u.prototype.appendChild=function(d){this.insertBefore(d)},u.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},u.prototype.build=function(){var d=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var y=c(v);d.insertBefore(y,d.children.head||void 0)}catch(_){if(_ instanceof l.ParchmentError)return;throw _}})},u.prototype.deleteAt=function(d,v){if(d===0&&v===this.length())return this.remove();this.children.forEachAt(d,v,function(y,_,p){y.deleteAt(_,p)})},u.prototype.descendant=function(d,v){var y=this.children.find(v),_=y[0],p=y[1];return d.blotName==null&&d(_)||d.blotName!=null&&_ instanceof d?[_,p]:_ instanceof u?_.descendant(d,p):[null,-1]},u.prototype.descendants=function(d,v,y){v===void 0&&(v=0),y===void 0&&(y=Number.MAX_VALUE);var _=[],p=y;return this.children.forEachAt(v,y,function(g,w,m){(d.blotName==null&&d(g)||d.blotName!=null&&g instanceof d)&&_.push(g),g instanceof u&&(_=_.concat(g.descendants(d,w,p))),p-=m}),_},u.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),f.prototype.detach.call(this)},u.prototype.formatAt=function(d,v,y,_){this.children.forEachAt(d,v,function(p,g,w){p.formatAt(g,w,y,_)})},u.prototype.insertAt=function(d,v,y){var _=this.children.find(d),p=_[0],g=_[1];if(p)p.insertAt(g,v,y);else{var w=y==null?l.create("text",v):l.create(v,y);this.appendChild(w)}},u.prototype.insertBefore=function(d,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return d instanceof y}))throw new l.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,v)},u.prototype.length=function(){return this.children.reduce(function(d,v){return d+v.length()},0)},u.prototype.moveChildren=function(d,v){this.children.forEach(function(y){d.insertBefore(y,v)})},u.prototype.optimize=function(d){if(f.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(d)}else this.remove()},u.prototype.path=function(d,v){v===void 0&&(v=!1);var y=this.children.find(d,v),_=y[0],p=y[1],g=[[this,d]];return _ instanceof u?g.concat(_.path(p,v)):(_!=null&&g.push([_,p]),g)},u.prototype.removeChild=function(d){this.children.remove(d)},u.prototype.replace=function(d){d instanceof u&&d.moveChildren(this),f.prototype.replace.call(this,d)},u.prototype.split=function(d,v){if(v===void 0&&(v=!1),!v){if(d===0)return this;if(d===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(d,this.length(),function(_,p,g){_=_.split(p,v),y.appendChild(_)}),y},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(d,v){var y=this,_=[],p=[];d.forEach(function(g){g.target===y.domNode&&g.type==="childList"&&(_.push.apply(_,g.addedNodes),p.push.apply(p,g.removedNodes))}),p.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(g);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===y.domNode)&&w.detach()}}),_.filter(function(g){return g.parentNode==y.domNode}).sort(function(g,w){return g===w?0:g.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var w=null;g.nextSibling!=null&&(w=l.find(g.nextSibling));var m=c(g);(m.next!=w||m.next==null)&&(m.parent!=null&&m.parent.removeChild(y),y.insertBefore(m,w||void 0))})},u}(a.default);function c(f){var u=l.find(f);if(u==null)try{u=l.create(f)}catch{u=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){u.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(u.domNode,f),u.attach()}return u}r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var v in d)d.hasOwnProperty(v)&&(u[v]=d[v])};return function(u,d){f(u,d);function v(){this.constructor=u}u.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),h=i(1),c=function(f){o(u,f);function u(d){var v=f.call(this,d)||this;return v.attributes=new a.default(v.domNode),v}return u.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},u.prototype.format=function(d,v){var y=h.query(d);y instanceof s.default?this.attributes.attribute(y,v):v&&y!=null&&(d!==this.statics.blotName||this.formats()[d]!==v)&&this.replaceWith(d,v)},u.prototype.formats=function(){var d=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(d[this.statics.blotName]=v),d},u.prototype.replaceWith=function(d,v){var y=f.prototype.replaceWith.call(this,d,v);return this.attributes.copy(y),y},u.prototype.update=function(d,v){var y=this;f.prototype.update.call(this,d,v),d.some(function(_){return _.target===y.domNode&&_.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(d,v){var y=f.prototype.wrap.call(this,d,v);return y instanceof u&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},u}(l.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var u in f)f.hasOwnProperty(u)&&(c[u]=f[u])};return function(c,f){h(c,f);function u(){this.constructor=c}c.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(h){o(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,u){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},c.prototype.position=function(f,u){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(d+=1),[this.parent.domNode,d]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(h,c,f){typeof h!="object"&&(h={}),typeof c!="object"&&(c={});var u=s(!0,{},c);f||(u=Object.keys(u).reduce(function(v,y){return u[y]!=null&&(v[y]=u[y]),v},{}));for(var d in h)h[d]!==void 0&&c[d]===void 0&&(u[d]=h[d]);return Object.keys(u).length>0?u:void 0},diff:function(h,c){typeof h!="object"&&(h={}),typeof c!="object"&&(c={});var f=Object.keys(h).concat(Object.keys(c)).reduce(function(u,d){return o(h[d],c[d])||(u[d]=c[d]===void 0?null:c[d]),u},{});return Object.keys(f).length>0?f:void 0},transform:function(h,c,f){if(typeof h!="object")return c;if(typeof c=="object"){if(!f)return c;var u=Object.keys(c).reduce(function(d,v){return h[v]===void 0&&(d[v]=c[v]),d},{});return Object.keys(u).length>0?u:void 0}}},iterator:function(h){return new l(h)},length:function(h){return typeof h.delete=="number"?h.delete:typeof h.retain=="number"?h.retain:typeof h.insert=="string"?h.insert.length:1}};function l(h){this.ops=h,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(h){h||(h=1/0);var c=this.ops[this.index];if(c){var f=this.offset,u=a.length(c);if(h>=u-f?(h=u-f,this.index+=1,this.offset=0):this.offset+=h,typeof c.delete=="number")return{delete:h};var d={};return c.attributes&&(d.attributes=c.attributes),typeof c.retain=="number"?d.retain=h:typeof c.insert=="string"?d.insert=c.insert.substr(f,h):d.insert=c.insert,d}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var h=this.offset,c=this.index,f=this.next(),u=this.ops.slice(this.index);return this.offset=h,this.index=c,[f].concat(u)}else return[]},n.exports=a},function(n,r){var i=function(){function o(y,_){return _!=null&&y instanceof _}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function h(y,_,p,g,w){typeof _=="object"&&(p=_.depth,g=_.prototype,w=_.includeNonEnumerable,_=_.circular);var m=[],b=[],k=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof p>"u"&&(p=1/0);function I(E,O){if(E===null)return null;if(O===0)return E;var T,S;if(typeof E!="object")return E;if(o(E,s))T=new s;else if(o(E,a))T=new a;else if(o(E,l))T=new l(function(L,P){E.then(function($){L(I($,O-1))},function($){P(I($,O-1))})});else if(h.__isArray(E))T=[];else if(h.__isRegExp(E))T=new RegExp(E.source,v(E)),E.lastIndex&&(T.lastIndex=E.lastIndex);else if(h.__isDate(E))T=new Date(E.getTime());else{if(k&&Buffer.isBuffer(E))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(E.length):T=new Buffer(E.length),E.copy(T),T;o(E,Error)?T=Object.create(E):typeof g>"u"?(S=Object.getPrototypeOf(E),T=Object.create(S)):(T=Object.create(g),S=g)}if(_){var A=m.indexOf(E);if(A!=-1)return b[A];m.push(E),b.push(T)}o(E,s)&&E.forEach(function(L,P){var $=I(P,O-1),j=I(L,O-1);T.set($,j)}),o(E,a)&&E.forEach(function(L){var P=I(L,O-1);T.add(P)});for(var N in E){var x;S&&(x=Object.getOwnPropertyDescriptor(S,N)),!(x&&x.set==null)&&(T[N]=I(E[N],O-1))}if(Object.getOwnPropertySymbols)for(var D=Object.getOwnPropertySymbols(E),N=0;N<D.length;N++){var R=D[N],C=Object.getOwnPropertyDescriptor(E,R);C&&!C.enumerable&&!w||(T[R]=I(E[R],O-1),C.enumerable||Object.defineProperty(T,R,{enumerable:!1}))}if(w)for(var B=Object.getOwnPropertyNames(E),N=0;N<B.length;N++){var M=B[N],C=Object.getOwnPropertyDescriptor(E,M);C&&C.enumerable||(T[M]=I(E[M],O-1),Object.defineProperty(T,M,{enumerable:!1}))}return T}return I(y,p)}h.clonePrototype=function(_){if(_===null)return null;var p=function(){};return p.prototype=_,new p};function c(y){return Object.prototype.toString.call(y)}h.__objToStr=c;function f(y){return typeof y=="object"&&c(y)==="[object Date]"}h.__isDate=f;function u(y){return typeof y=="object"&&c(y)==="[object Array]"}h.__isArray=u;function d(y){return typeof y=="object"&&c(y)==="[object RegExp]"}h.__isRegExp=d;function v(y){var _="";return y.global&&(_+="g"),y.ignoreCase&&(_+="i"),y.multiline&&(_+="m"),_}return h.__getRegExpFlags=v,h}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(S,A){var N=[],x=!0,D=!1,R=void 0;try{for(var C=S[Symbol.iterator](),B;!(x=(B=C.next()).done)&&(N.push(B.value),!(A&&N.length===A));x=!0);}catch(M){D=!0,R=M}finally{try{!x&&C.return&&C.return()}finally{if(D)throw R}}return N}return function(S,A){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return T(S,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(S,A){for(var N=0;N<A.length;N++){var x=A[N];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}return function(S,A,N){return A&&T(S.prototype,A),N&&T(S,N),S}}(),a=function T(S,A,N){S===null&&(S=Function.prototype);var x=Object.getOwnPropertyDescriptor(S,A);if(x===void 0){var D=Object.getPrototypeOf(S);return D===null?void 0:T(D,A,N)}else{if("value"in x)return x.value;var R=x.get;return R===void 0?void 0:R.call(N)}},l=i(0),h=m(l),c=i(8),f=m(c),u=i(4),d=m(u),v=i(16),y=m(v),_=i(13),p=m(_),g=i(25),w=m(g);function m(T){return T&&T.__esModule?T:{default:T}}function b(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function k(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function I(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}function E(T){return T instanceof d.default||T instanceof u.BlockEmbed}var O=function(T){I(S,T);function S(A,N){b(this,S);var x=k(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A));return x.emitter=N.emitter,Array.isArray(N.whitelist)&&(x.whitelist=N.whitelist.reduce(function(D,R){return D[R]=!0,D},{})),x.domNode.addEventListener("DOMNodeInserted",function(){}),x.optimize(),x.enable(),x}return s(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,x){var D=this.line(N),R=o(D,2),C=R[0],B=R[1],M=this.line(N+x),L=o(M,1),P=L[0];if(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,N,x),P!=null&&C!==P&&B>0){if(C instanceof u.BlockEmbed||P instanceof u.BlockEmbed){this.optimize();return}if(C instanceof p.default){var $=C.newlineIndex(C.length(),!0);if($>-1&&(C=C.split($+1),C===P)){this.optimize();return}}else if(P instanceof p.default){var j=P.newlineIndex(0);j>-1&&P.split(j+1)}var q=P.children.head instanceof y.default?null:P.children.head;C.moveChildren(P,q),C.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,x,D,R){this.whitelist!=null&&!this.whitelist[D]||(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,N,x,D,R),this.optimize())}},{key:"insertAt",value:function(N,x,D){if(!(D!=null&&this.whitelist!=null&&!this.whitelist[x])){if(N>=this.length())if(D==null||h.default.query(x,h.default.Scope.BLOCK)==null){var R=h.default.create(this.statics.defaultChild);this.appendChild(R),D==null&&x.endsWith(`
`)&&(x=x.slice(0,-1)),R.insertAt(0,x,D)}else{var C=h.default.create(x,D);this.appendChild(C)}else a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,N,x,D);this.optimize()}}},{key:"insertBefore",value:function(N,x){if(N.statics.scope===h.default.Scope.INLINE_BLOT){var D=h.default.create(this.statics.defaultChild);D.appendChild(N),N=D}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,N,x)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(E,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,D=function R(C,B,M){var L=[],P=M;return C.children.forEachAt(B,M,function($,j,q){E($)?L.push($):$ instanceof h.default.Container&&(L=L.concat(R($,j,P))),P-=q}),L};return D(this,N,x)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,N,x),N.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,N,x))}},{key:"path",value:function(N){return a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var x=f.default.sources.USER;typeof N=="string"&&(x=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,x,N),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,x,N)}}}]),S}(h.default.Scroll);O.blotName="scroll",O.className="ql-editor",O.tagName="DIV",O.defaultChild="block",O.allowedChildren=[d.default,u.BlockEmbed,w.default],r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},s=function(){function U(z,H){var V=[],Q=!0,re=!1,se=void 0;try{for(var pe=z[Symbol.iterator](),ge;!(Q=(ge=pe.next()).done)&&(V.push(ge.value),!(H&&V.length===H));Q=!0);}catch(fe){re=!0,se=fe}finally{try{!Q&&pe.return&&pe.return()}finally{if(re)throw se}}return V}return function(z,H){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return U(z,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function U(z,H){for(var V=0;V<H.length;V++){var Q=H[V];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(z,Q.key,Q)}}return function(z,H,V){return H&&U(z.prototype,H),V&&U(z,V),z}}(),l=i(21),h=T(l),c=i(11),f=T(c),u=i(3),d=T(u),v=i(2),y=T(v),_=i(20),p=T(_),g=i(0),w=T(g),m=i(5),b=T(m),k=i(10),I=T(k),E=i(9),O=T(E);function T(U){return U&&U.__esModule?U:{default:U}}function S(U,z,H){return z in U?Object.defineProperty(U,z,{value:H,enumerable:!0,configurable:!0,writable:!0}):U[z]=H,U}function A(U,z){if(!(U instanceof z))throw new TypeError("Cannot call a class as a function")}function N(U,z){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:U}function x(U,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);U.prototype=Object.create(z&&z.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(U,z):U.__proto__=z)}var D=(0,I.default)("quill:keyboard"),R=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",C=function(U){x(z,U),a(z,null,[{key:"match",value:function(V,Q){return Q=F(Q),["altKey","ctrlKey","metaKey","shiftKey"].some(function(re){return!!Q[re]!==V[re]&&Q[re]!==null})?!1:Q.key===(V.which||V.keyCode)}}]);function z(H,V){A(this,z);var Q=N(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,H,V));return Q.bindings={},Object.keys(Q.options.bindings).forEach(function(re){re==="list autofill"&&H.scroll.whitelist!=null&&!H.scroll.whitelist.list||Q.options.bindings[re]&&Q.addBinding(Q.options.bindings[re])}),Q.addBinding({key:z.keys.ENTER,shiftKey:null},$),Q.addBinding({key:z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Q.addBinding({key:z.keys.BACKSPACE},{collapsed:!0},M),Q.addBinding({key:z.keys.DELETE},{collapsed:!0},L)):(Q.addBinding({key:z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},M),Q.addBinding({key:z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),Q.addBinding({key:z.keys.BACKSPACE},{collapsed:!1},P),Q.addBinding({key:z.keys.DELETE},{collapsed:!1},P),Q.addBinding({key:z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},M),Q.listen(),Q}return a(z,[{key:"addBinding",value:function(V){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se=F(V);if(se==null||se.key==null)return D.warn("Attempted to add invalid keyboard binding",se);typeof Q=="function"&&(Q={handler:Q}),typeof re=="function"&&(re={handler:re}),se=(0,d.default)(se,Q,re),this.bindings[se.key]=this.bindings[se.key]||[],this.bindings[se.key].push(se)}},{key:"listen",value:function(){var V=this;this.quill.root.addEventListener("keydown",function(Q){if(!Q.defaultPrevented){var re=Q.which||Q.keyCode,se=(V.bindings[re]||[]).filter(function(Te){return z.match(Q,Te)});if(se.length!==0){var pe=V.quill.getSelection();if(!(pe==null||!V.quill.hasFocus())){var ge=V.quill.getLine(pe.index),fe=s(ge,2),xe=fe[0],we=fe[1],W=V.quill.getLeaf(pe.index),G=s(W,2),te=G[0],ne=G[1],Y=pe.length===0?[te,ne]:V.quill.getLeaf(pe.index+pe.length),le=s(Y,2),ae=le[0],de=le[1],Ye=te instanceof w.default.Text?te.value().slice(0,ne):"",jt=ae instanceof w.default.Text?ae.value().slice(de):"",be={collapsed:pe.length===0,empty:pe.length===0&&xe.length()<=1,format:V.quill.getFormat(pe),offset:we,prefix:Ye,suffix:jt},zn=se.some(function(Te){if(Te.collapsed!=null&&Te.collapsed!==be.collapsed||Te.empty!=null&&Te.empty!==be.empty||Te.offset!=null&&Te.offset!==be.offset)return!1;if(Array.isArray(Te.format)){if(Te.format.every(function(Je){return be.format[Je]==null}))return!1}else if(o(Te.format)==="object"&&!Object.keys(Te.format).every(function(Je){return Te.format[Je]===!0?be.format[Je]!=null:Te.format[Je]===!1?be.format[Je]==null:(0,f.default)(Te.format[Je],be.format[Je])}))return!1;return Te.prefix!=null&&!Te.prefix.test(be.prefix)||Te.suffix!=null&&!Te.suffix.test(be.suffix)?!1:Te.handler.call(V,pe,be)!==!0});zn&&Q.preventDefault()}}}})}}]),z}(O.default);C.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},C.DEFAULTS={bindings:{bold:q("bold"),italic:q("italic"),underline:q("underline"),indent:{key:C.keys.TAB,format:["blockquote","indent","list"],handler:function(z,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","+1",b.default.sources.USER)}},outdent:{key:C.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(z,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","-1",b.default.sources.USER)}},"outdent backspace":{key:C.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(z,H){H.format.indent!=null?this.quill.format("indent","-1",b.default.sources.USER):H.format.list!=null&&this.quill.format("list",!1,b.default.sources.USER)}},"indent code-block":j(!0),"outdent code-block":j(!1),"remove tab":{key:C.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(z){this.quill.deleteText(z.index-1,1,b.default.sources.USER)}},tab:{key:C.keys.TAB,handler:function(z){this.quill.history.cutoff();var H=new y.default().retain(z.index).delete(z.length).insert("	");this.quill.updateContents(H,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index+1,b.default.sources.SILENT)}},"list empty enter":{key:C.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(z,H){this.quill.format("list",!1,b.default.sources.USER),H.format.indent&&this.quill.format("indent",!1,b.default.sources.USER)}},"checklist enter":{key:C.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(z){var H=this.quill.getLine(z.index),V=s(H,2),Q=V[0],re=V[1],se=(0,d.default)({},Q.formats(),{list:"checked"}),pe=new y.default().retain(z.index).insert(`
`,se).retain(Q.length()-re-1).retain(1,{list:"unchecked"});this.quill.updateContents(pe,b.default.sources.USER),this.quill.setSelection(z.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:C.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(z,H){var V=this.quill.getLine(z.index),Q=s(V,2),re=Q[0],se=Q[1],pe=new y.default().retain(z.index).insert(`
`,H.format).retain(re.length()-se-1).retain(1,{header:null});this.quill.updateContents(pe,b.default.sources.USER),this.quill.setSelection(z.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(z,H){var V=H.prefix.length,Q=this.quill.getLine(z.index),re=s(Q,2),se=re[0],pe=re[1];if(pe>V)return!0;var ge=void 0;switch(H.prefix.trim()){case"[]":case"[ ]":ge="unchecked";break;case"[x]":ge="checked";break;case"-":case"*":ge="bullet";break;default:ge="ordered"}this.quill.insertText(z.index," ",b.default.sources.USER),this.quill.history.cutoff();var fe=new y.default().retain(z.index-pe).delete(V+1).retain(se.length()-2-pe).retain(1,{list:ge});this.quill.updateContents(fe,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index-V,b.default.sources.SILENT)}},"code exit":{key:C.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(z){var H=this.quill.getLine(z.index),V=s(H,2),Q=V[0],re=V[1],se=new y.default().retain(z.index+Q.length()-re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(se,b.default.sources.USER)}},"embed left":B(C.keys.LEFT,!1),"embed left shift":B(C.keys.LEFT,!0),"embed right":B(C.keys.RIGHT,!1),"embed right shift":B(C.keys.RIGHT,!0)}};function B(U,z){var H,V=U===C.keys.LEFT?"prefix":"suffix";return H={key:U,shiftKey:z,altKey:null},S(H,V,/^$/),S(H,"handler",function(re){var se=re.index;U===C.keys.RIGHT&&(se+=re.length+1);var pe=this.quill.getLeaf(se),ge=s(pe,1),fe=ge[0];return fe instanceof w.default.Embed?(U===C.keys.LEFT?z?this.quill.setSelection(re.index-1,re.length+1,b.default.sources.USER):this.quill.setSelection(re.index-1,b.default.sources.USER):z?this.quill.setSelection(re.index,re.length+1,b.default.sources.USER):this.quill.setSelection(re.index+re.length+1,b.default.sources.USER),!1):!0}),H}function M(U,z){if(!(U.index===0||this.quill.getLength()<=1)){var H=this.quill.getLine(U.index),V=s(H,1),Q=V[0],re={};if(z.offset===0){var se=this.quill.getLine(U.index-1),pe=s(se,1),ge=pe[0];if(ge!=null&&ge.length()>1){var fe=Q.formats(),xe=this.quill.getFormat(U.index-1,1);re=p.default.attributes.diff(fe,xe)||{}}}var we=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(z.prefix)?2:1;this.quill.deleteText(U.index-we,we,b.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(U.index-we,we,re,b.default.sources.USER),this.quill.focus()}}function L(U,z){var H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(z.suffix)?2:1;if(!(U.index>=this.quill.getLength()-H)){var V={},Q=0,re=this.quill.getLine(U.index),se=s(re,1),pe=se[0];if(z.offset>=pe.length()-1){var ge=this.quill.getLine(U.index+1),fe=s(ge,1),xe=fe[0];if(xe){var we=pe.formats(),W=this.quill.getFormat(U.index,1);V=p.default.attributes.diff(we,W)||{},Q=xe.length()}}this.quill.deleteText(U.index,H,b.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(U.index+Q-1,H,V,b.default.sources.USER)}}function P(U){var z=this.quill.getLines(U),H={};if(z.length>1){var V=z[0].formats(),Q=z[z.length-1].formats();H=p.default.attributes.diff(Q,V)||{}}this.quill.deleteText(U,b.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(U.index,1,H,b.default.sources.USER),this.quill.setSelection(U.index,b.default.sources.SILENT),this.quill.focus()}function $(U,z){var H=this;U.length>0&&this.quill.scroll.deleteAt(U.index,U.length);var V=Object.keys(z.format).reduce(function(Q,re){return w.default.query(re,w.default.Scope.BLOCK)&&!Array.isArray(z.format[re])&&(Q[re]=z.format[re]),Q},{});this.quill.insertText(U.index,`
`,V,b.default.sources.USER),this.quill.setSelection(U.index+1,b.default.sources.SILENT),this.quill.focus(),Object.keys(z.format).forEach(function(Q){V[Q]==null&&(Array.isArray(z.format[Q])||Q!=="link"&&H.quill.format(Q,z.format[Q],b.default.sources.USER))})}function j(U){return{key:C.keys.TAB,shiftKey:!U,format:{"code-block":!0},handler:function(H){var V=w.default.query("code-block"),Q=H.index,re=H.length,se=this.quill.scroll.descendant(V,Q),pe=s(se,2),ge=pe[0],fe=pe[1];if(ge!=null){var xe=this.quill.getIndex(ge),we=ge.newlineIndex(fe,!0)+1,W=ge.newlineIndex(xe+fe+re),G=ge.domNode.textContent.slice(we,W).split(`
`);fe=0,G.forEach(function(te,ne){U?(ge.insertAt(we+fe,V.TAB),fe+=V.TAB.length,ne===0?Q+=V.TAB.length:re+=V.TAB.length):te.startsWith(V.TAB)&&(ge.deleteAt(we+fe,V.TAB.length),fe-=V.TAB.length,ne===0?Q-=V.TAB.length:re-=V.TAB.length),fe+=te.length+1}),this.quill.update(b.default.sources.USER),this.quill.setSelection(Q,re,b.default.sources.SILENT)}}}}function q(U){return{key:U[0].toUpperCase(),shortKey:!0,handler:function(H,V){this.quill.format(U,!V.format[U],b.default.sources.USER)}}}function F(U){if(typeof U=="string"||typeof U=="number")return F({key:U});if((typeof U>"u"?"undefined":o(U))==="object"&&(U=(0,h.default)(U,!1)),typeof U.key=="string")if(C.keys[U.key.toUpperCase()]!=null)U.key=C.keys[U.key.toUpperCase()];else if(U.key.length===1)U.key=U.key.toUpperCase().charCodeAt(0);else return null;return U.shortKey&&(U[R]=U.shortKey,delete U.shortKey),U}r.default=C,r.SHORTKEY=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(g,w){var m=[],b=!0,k=!1,I=void 0;try{for(var E=g[Symbol.iterator](),O;!(b=(O=E.next()).done)&&(m.push(O.value),!(w&&m.length===w));b=!0);}catch(T){k=!0,I=T}finally{try{!b&&E.return&&E.return()}finally{if(k)throw I}}return m}return function(g,w){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return p(g,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function p(g,w,m){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,w);if(b===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:p(k,w,m)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(m)}},a=function(){function p(g,w){for(var m=0;m<w.length;m++){var b=w[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,w,m){return w&&p(g.prototype,w),m&&p(g,m),g}}(),l=i(0),h=u(l),c=i(7),f=u(c);function u(p){return p&&p.__esModule?p:{default:p}}function d(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function v(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function y(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var _=function(p){y(g,p),a(g,null,[{key:"value",value:function(){}}]);function g(w,m){d(this,g);var b=v(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w));return b.selection=m,b.textNode=document.createTextNode(g.CONTENTS),b.domNode.appendChild(b.textNode),b._length=0,b}return a(g,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(m,b){if(this._length!==0)return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,m,b);for(var k=this,I=0;k!=null&&k.statics.scope!==h.default.Scope.BLOCK_BLOT;)I+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=g.CONTENTS.length,k.optimize(),k.formatAt(I,g.CONTENTS.length,m,b),this._length=0)}},{key:"index",value:function(m,b){return m===this.textNode?0:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,m,b)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var m=this.textNode,b=this.selection.getNativeRange(),k=void 0,I=void 0,E=void 0;if(b!=null&&b.start.node===m&&b.end.node===m){var O=[m,b.start.offset,b.end.offset];k=O[0],I=O[1],E=O[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==g.CONTENTS){var T=this.textNode.data.split(g.CONTENTS).join("");this.next instanceof f.default?(k=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=g.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(g.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),I!=null){var S=[I,E].map(function(N){return Math.max(0,Math.min(k.data.length,N-1))}),A=o(S,2);return I=A[0],E=A[1],{startNode:k,startOffset:I,endNode:k,endOffset:E}}}}},{key:"update",value:function(m,b){var k=this;if(m.some(function(E){return E.type==="characterData"&&E.target===k.textNode})){var I=this.restore();I&&(b.range=I)}}},{key:"value",value:function(){return""}}]),g}(h.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=h(o),a=i(4),l=h(a);function h(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function u(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var d=function(v){u(y,v);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(s.default.Container);d.allowedChildren=[l.default,a.BlockEmbed,d],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function _(p,g){for(var w=0;w<g.length;w++){var m=g[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,g,w){return g&&_(p.prototype,g),w&&_(p,w),p}}(),s=function _(p,g,w){p===null&&(p=Function.prototype);var m=Object.getOwnPropertyDescriptor(p,g);if(m===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:_(b,g,w)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(w)}},a=i(0),l=h(a);function h(_){return _&&_.__esModule?_:{default:_}}function c(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function f(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function u(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var d=function(_){u(p,_);function p(){return c(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(w){var m=s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,w);return m.startsWith("rgb(")?(m=m.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+m.split(",").map(function(b){return("00"+parseInt(b).toString(16)).slice(-2)}).join("")):m}}]),p}(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new d("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=d,r.ColorClass=v,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function y(_,p){for(var g=0;g<p.length;g++){var w=p[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,p,g){return p&&y(_.prototype,p),g&&y(_,g),_}}(),s=function y(_,p,g){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,p);if(w===void 0){var m=Object.getPrototypeOf(_);return m===null?void 0:y(m,p,g)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(g)}},a=i(6),l=h(a);function h(y){return y&&y.__esModule?y:{default:y}}function c(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function f(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function u(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var d=function(y){u(_,y);function _(){return c(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(g,w){if(g!==this.statics.blotName||!w)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,g,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(g){var w=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,g);return g=this.sanitize(g),w.setAttribute("href",g),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(g){return g.getAttribute("href")}},{key:"sanitize",value:function(g){return v(g,this.PROTOCOL_WHITELIST)?g:this.SANITIZED_URL}}]),_}(l.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(y,_){var p=document.createElement("a");p.href=y;var g=p.href.slice(0,p.href.indexOf(":"));return _.indexOf(g)>-1}r.default=d,r.sanitize=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=function(){function _(p,g){for(var w=0;w<g.length;w++){var m=g[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,g,w){return g&&_(p.prototype,g),w&&_(p,w),p}}(),a=i(23),l=f(a),h=i(107),c=f(h);function f(_){return _&&_.__esModule?_:{default:_}}function u(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}var d=0;function v(_,p){_.setAttribute(p,_.getAttribute(p)!=="true")}var y=function(){function _(p){var g=this;u(this,_),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){g.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:g.togglePicker();break;case l.default.keys.ESCAPE:g.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(g){var w=this,m=document.createElement("span");return m.tabIndex="0",m.setAttribute("role","button"),m.classList.add("ql-picker-item"),g.hasAttribute("value")&&m.setAttribute("data-value",g.getAttribute("value")),g.textContent&&m.setAttribute("data-label",g.textContent),m.addEventListener("click",function(){w.selectItem(m,!0)}),m.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:w.selectItem(m,!0),b.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),b.preventDefault();break}}),m}},{key:"buildLabel",value:function(){var g=document.createElement("span");return g.classList.add("ql-picker-label"),g.innerHTML=c.default,g.tabIndex="0",g.setAttribute("role","button"),g.setAttribute("aria-expanded","false"),this.container.appendChild(g),g}},{key:"buildOptions",value:function(){var g=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(m){var b=g.buildItem(m);w.appendChild(b),m.selected===!0&&g.selectItem(b)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var g=this;[].slice.call(this.select.attributes).forEach(function(w){g.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var g=this;this.close(),setTimeout(function(){return g.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=this.container.querySelector(".ql-selected");if(g!==m&&(m!=null&&m.classList.remove("ql-selected"),g!=null&&(g.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(g.parentNode.children,g),g.hasAttribute("data-value")?this.label.setAttribute("data-value",g.getAttribute("data-value")):this.label.removeAttribute("data-value"),g.hasAttribute("data-label")?this.label.setAttribute("data-label",g.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var b=document.createEvent("Event");b.initEvent("change",!0,!0),this.select.dispatchEvent(b)}this.close()}}},{key:"update",value:function(){var g=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];g=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var m=g!=null&&g!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",m)}}]),_}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=D(o),a=i(5),l=D(a),h=i(4),c=D(h),f=i(16),u=D(f),d=i(25),v=D(d),y=i(24),_=D(y),p=i(35),g=D(p),w=i(6),m=D(w),b=i(22),k=D(b),I=i(7),E=D(I),O=i(55),T=D(O),S=i(42),A=D(S),N=i(23),x=D(N);function D(R){return R&&R.__esModule?R:{default:R}}l.default.register({"blots/block":c.default,"blots/block/embed":h.BlockEmbed,"blots/break":u.default,"blots/container":v.default,"blots/cursor":_.default,"blots/embed":g.default,"blots/inline":m.default,"blots/scroll":k.default,"blots/text":E.default,"modules/clipboard":T.default,"modules/history":A.default,"modules/keyboard":x.default}),s.default.register(c.default,u.default,_.default,m.default,k.default,E.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var h;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?h=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?h=document.createElement(l):h=document.createElement(this.tagName[0])):h=document.createElement(this.tagName),this.className&&h.classList.add(this.className),h},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,h){var c=this.isolate(l,h);c.remove()},a.prototype.formatAt=function(l,h,c,f){var u=this.isolate(l,h);if(o.query(c,o.Scope.BLOT)!=null&&f)u.wrap(c,f);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var d=o.create(this.statics.scope);u.wrap(d),d.format(c,f)}},a.prototype.insertAt=function(l,h,c){var f=c==null?o.create("text",h):o.create(h,c),u=this.split(l);this.parent.insertBefore(f,u)},a.prototype.insertInto=function(l,h){h===void 0&&(h=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,h),h!=null&&(c=h.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,h){var c=this.split(l);return c.split(h),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,h){var c=typeof l=="string"?o.create(l,h):l;return c.replace(this),c},a.prototype.split=function(l,h){return l===0?this:this.next},a.prototype.update=function(l,h){},a.prototype.wrap=function(l,h){var c=typeof l=="string"?o.create(l,h):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),h=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,u){u?f.add(this.domNode,u)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var u=o.default.keys(this.domNode),d=s.default.keys(this.domNode),v=a.default.keys(this.domNode);u.concat(d).concat(v).forEach(function(y){var _=l.query(y,l.Scope.ATTRIBUTE);_ instanceof o.default&&(f.attributes[_.attrName]=_)})},c.prototype.copy=function(f){var u=this;Object.keys(this.attributes).forEach(function(d){var v=u.attributes[d].value(u.domNode);f.format(d,v)})},c.prototype.move=function(f){var u=this;this.copy(f),Object.keys(this.attributes).forEach(function(d){u.attributes[d].remove(u.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(u,d){return u[d]=f.attributes[d].value(f.domNode),u},{})},c}();r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var u in f)f.hasOwnProperty(u)&&(c[u]=f[u])};return function(c,f){h(c,f);function u(){this.constructor=c}c.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(h,c){var f=h.getAttribute("class")||"";return f.split(/\s+/).filter(function(u){return u.indexOf(c+"-")===0})}var l=function(h){o(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(u){return u.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,u){return this.canAdd(f,u)?(this.remove(f),f.classList.add(this.keyName+"-"+u),!0):!1},c.prototype.remove=function(f){var u=a(f,this.keyName);u.forEach(function(d){f.classList.remove(d)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var u=a(f,this.keyName)[0]||"",d=u.slice(this.keyName.length+1);return this.canAdd(f,d)?d:""},c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var u in f)f.hasOwnProperty(u)&&(c[u]=f[u])};return function(c,f){h(c,f);function u(){this.constructor=c}c.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(h){var c=h.split("-"),f=c.slice(1).map(function(u){return u[0].toUpperCase()+u.slice(1)}).join("");return c[0]+f}var l=function(h){o(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(u){var d=u.split(":");return d[0].trim()})},c.prototype.add=function(f,u){return this.canAdd(f,u)?(f.style[a(this.keyName)]=u,!0):!1},c.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var u=f.style[a(this.keyName)];return this.canAdd(f,u)?u:""},c}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(h,c){for(var f=0;f<c.length;f++){var u=c[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(h,u.key,u)}}return function(h,c,f){return c&&l(h.prototype,c),f&&l(h,f),h}}();function s(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(h,c){s(this,l),this.quill=h,this.options=c,this.modules={}}return o(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(g,w){for(var m=0;m<w.length;m++){var b=w[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,w,m){return w&&p(g.prototype,w),m&&p(g,m),g}}(),s=function p(g,w,m){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,w);if(b===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:p(k,w,m)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(m)}},a=i(0),l=f(a),h=i(7),c=f(h);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function v(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var y="\uFEFF",_=function(p){v(g,p);function g(w){u(this,g);var m=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w));return m.contentNode=document.createElement("span"),m.contentNode.setAttribute("contenteditable",!1),[].slice.call(m.domNode.childNodes).forEach(function(b){m.contentNode.appendChild(b)}),m.leftGuard=document.createTextNode(y),m.rightGuard=document.createTextNode(y),m.domNode.appendChild(m.leftGuard),m.domNode.appendChild(m.contentNode),m.domNode.appendChild(m.rightGuard),m}return o(g,[{key:"index",value:function(m,b){return m===this.leftGuard?0:m===this.rightGuard?1:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,m,b)}},{key:"restore",value:function(m){var b=void 0,k=void 0,I=m.data.split(y).join("");if(m===this.leftGuard)if(this.prev instanceof c.default){var E=this.prev.length();this.prev.insertAt(E,I),b={startNode:this.prev.domNode,startOffset:E+I.length}}else k=document.createTextNode(I),this.parent.insertBefore(l.default.create(k),this),b={startNode:k,startOffset:I.length};else m===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,I),b={startNode:this.next.domNode,startOffset:I.length}):(k=document.createTextNode(I),this.parent.insertBefore(l.default.create(k),this.next),b={startNode:k,startOffset:I.length}));return m.data=y,b}},{key:"update",value:function(m,b){var k=this;m.forEach(function(I){if(I.type==="characterData"&&(I.target===k.leftGuard||I.target===k.rightGuard)){var E=k.restore(I.target);E&&(b.range=E)}})}}]),g}(l.default.Embed);r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new s.default.Attributor.Attribute("align","align",l),c=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=h,r.AlignClass=c,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var h=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=h,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},h=new s.default.Attributor.Attribute("direction","dir",l),c=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=h,r.DirectionClass=c,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function p(g,w){for(var m=0;m<w.length;m++){var b=w[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,w,m){return w&&p(g.prototype,w),m&&p(g,m),g}}(),s=function p(g,w,m){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,w);if(b===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:p(k,w,m)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(m)}},a=i(0),l=h(a);function h(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function f(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function u(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var d={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",d),y=function(p){u(g,p);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(m){return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,m).replace(/["']/g,"")}}]),g}(l.default.Attributor.Style),_=new y("font","font-family",d);r.FontStyle=_,r.FontClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=h},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function w(m,b){for(var k=0;k<b.length;k++){var I=b[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(m,I.key,I)}}return function(m,b,k){return b&&w(m.prototype,b),k&&w(m,k),m}}(),s=i(0),a=u(s),l=i(5),h=u(l),c=i(9),f=u(c);function u(w){return w&&w.__esModule?w:{default:w}}function d(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function v(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function y(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var _=function(w){y(m,w);function m(b,k){d(this,m);var I=v(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,b,k));return I.lastRecorded=0,I.ignoreChange=!1,I.clear(),I.quill.on(h.default.events.EDITOR_CHANGE,function(E,O,T,S){E!==h.default.events.TEXT_CHANGE||I.ignoreChange||(!I.options.userOnly||S===h.default.sources.USER?I.record(O,T):I.transform(O))}),I.quill.keyboard.addBinding({key:"Z",shortKey:!0},I.undo.bind(I)),I.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},I.redo.bind(I)),/Win/i.test(navigator.platform)&&I.quill.keyboard.addBinding({key:"Y",shortKey:!0},I.redo.bind(I)),I}return o(m,[{key:"change",value:function(k,I){if(this.stack[k].length!==0){var E=this.stack[k].pop();this.stack[I].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[k],h.default.sources.USER),this.ignoreChange=!1;var O=g(E[k]);this.quill.setSelection(O)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,I){if(k.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(I),O=Date.now();if(this.lastRecorded+this.options.delay>O&&this.stack.undo.length>0){var T=this.stack.undo.pop();E=E.compose(T.undo),k=T.redo.compose(k)}else this.lastRecorded=O;this.stack.undo.push({redo:k,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(I){I.undo=k.transform(I.undo,!0),I.redo=k.transform(I.redo,!0)}),this.stack.redo.forEach(function(I){I.undo=k.transform(I.undo,!0),I.redo=k.transform(I.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),m}(f.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(w){var m=w.ops[w.ops.length-1];return m==null?!1:m.insert!=null?typeof m.insert=="string"&&m.insert.endsWith(`
`):m.attributes!=null?Object.keys(m.attributes).some(function(b){return a.default.query(b,a.default.Scope.BLOCK)!=null}):!1}function g(w){var m=w.reduce(function(k,I){return k+=I.delete||0,k},0),b=w.length()-m;return p(w)&&(b-=1),b}r.default=_,r.getLastChangeIndex=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function $(j,q){for(var F=0;F<q.length;F++){var U=q[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(j,U.key,U)}}return function(j,q,F){return q&&$(j.prototype,q),F&&$(j,F),j}}(),s=function $(j,q,F){j===null&&(j=Function.prototype);var U=Object.getOwnPropertyDescriptor(j,q);if(U===void 0){var z=Object.getPrototypeOf(j);return z===null?void 0:$(z,q,F)}else{if("value"in U)return U.value;var H=U.get;return H===void 0?void 0:H.call(F)}},a=i(3),l=O(a),h=i(2),c=O(h),f=i(8),u=O(f),d=i(23),v=O(d),y=i(34),_=O(y),p=i(59),g=O(p),w=i(60),m=O(w),b=i(28),k=O(b),I=i(61),E=O(I);function O($){return $&&$.__esModule?$:{default:$}}function T($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")}function S($,j){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:$}function A($,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);$.prototype=Object.create(j&&j.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf($,j):$.__proto__=j)}var N=[!1,"center","right","justify"],x=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],D=[!1,"serif","monospace"],R=["1","2","3",!1],C=["small",!1,"large","huge"],B=function($){A(j,$);function j(q,F){T(this,j);var U=S(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,q,F)),z=function H(V){if(!document.body.contains(q.root))return document.body.removeEventListener("click",H);U.tooltip!=null&&!U.tooltip.root.contains(V.target)&&document.activeElement!==U.tooltip.textbox&&!U.quill.hasFocus()&&U.tooltip.hide(),U.pickers!=null&&U.pickers.forEach(function(Q){Q.container.contains(V.target)||Q.close()})};return q.emitter.listenDOM("click",document.body,z),U}return o(j,[{key:"addModule",value:function(F){var U=s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"addModule",this).call(this,F);return F==="toolbar"&&this.extendToolbar(U),U}},{key:"buildButtons",value:function(F,U){F.forEach(function(z){var H=z.getAttribute("class")||"";H.split(/\s+/).forEach(function(V){if(V.startsWith("ql-")&&(V=V.slice(3),U[V]!=null))if(V==="direction")z.innerHTML=U[V][""]+U[V].rtl;else if(typeof U[V]=="string")z.innerHTML=U[V];else{var Q=z.value||"";Q!=null&&U[V][Q]&&(z.innerHTML=U[V][Q])}})})}},{key:"buildPickers",value:function(F,U){var z=this;this.pickers=F.map(function(V){if(V.classList.contains("ql-align"))return V.querySelector("option")==null&&P(V,N),new m.default(V,U.align);if(V.classList.contains("ql-background")||V.classList.contains("ql-color")){var Q=V.classList.contains("ql-background")?"background":"color";return V.querySelector("option")==null&&P(V,x,Q==="background"?"#ffffff":"#000000"),new g.default(V,U[Q])}else return V.querySelector("option")==null&&(V.classList.contains("ql-font")?P(V,D):V.classList.contains("ql-header")?P(V,R):V.classList.contains("ql-size")&&P(V,C)),new k.default(V)});var H=function(){z.pickers.forEach(function(Q){Q.update()})};this.quill.on(u.default.events.EDITOR_CHANGE,H)}}]),j}(_.default);B.DEFAULTS=(0,l.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var j=this,q=this.container.querySelector("input.ql-image[type=file]");q==null&&(q=document.createElement("input"),q.setAttribute("type","file"),q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),q.classList.add("ql-image"),q.addEventListener("change",function(){if(q.files!=null&&q.files[0]!=null){var F=new FileReader;F.onload=function(U){var z=j.quill.getSelection(!0);j.quill.updateContents(new c.default().retain(z.index).delete(z.length).insert({image:U.target.result}),u.default.sources.USER),j.quill.setSelection(z.index+1,u.default.sources.SILENT),q.value=""},F.readAsDataURL(q.files[0])}}),this.container.appendChild(q)),q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var M=function($){A(j,$);function j(q,F){T(this,j);var U=S(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,q,F));return U.textbox=U.root.querySelector('input[type="text"]'),U.listen(),U}return o(j,[{key:"listen",value:function(){var F=this;this.textbox.addEventListener("keydown",function(U){v.default.match(U,"enter")?(F.save(),U.preventDefault()):v.default.match(U,"escape")&&(F.cancel(),U.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),U!=null?this.textbox.value=U:F!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+F)||""),this.root.setAttribute("data-mode",F)}},{key:"restoreFocus",value:function(){var F=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=F}},{key:"save",value:function(){var F=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var U=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",F,u.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",F,u.default.sources.USER)),this.quill.root.scrollTop=U;break}case"video":F=L(F);case"formula":{if(!F)break;var z=this.quill.getSelection(!0);if(z!=null){var H=z.index+z.length;this.quill.insertEmbed(H,this.root.getAttribute("data-mode"),F,u.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(H+1," ",u.default.sources.USER),this.quill.setSelection(H+2,u.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),j}(E.default);function L($){var j=$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return j?(j[1]||"https")+"://www.youtube.com/embed/"+j[2]+"?showinfo=0":(j=$.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(j[1]||"https")+"://player.vimeo.com/video/"+j[2]+"/":$}function P($,j){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;j.forEach(function(F){var U=document.createElement("option");F===q?U.setAttribute("selected","selected"):U.setAttribute("value",F),$.appendChild(U)})}r.BaseTooltip=M,r.default=B},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,h=this.iterator();l=h();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,h=this.head;h!=null;){if(h===a)return l;l+=h.length(),h=h.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var h,c=this.iterator();h=c();){var f=h.length();if(a<f||l&&a===f&&(h.next==null||h.next.length()!==0))return[h,a];a-=f}return[null,0]},s.prototype.forEach=function(a){for(var l,h=this.iterator();l=h();)a(l)},s.prototype.forEachAt=function(a,l,h){if(!(l<=0))for(var c=this.find(a),f=c[0],u=c[1],d,v=a-u,y=this.iterator(f);(d=y())&&v<a+l;){var _=d.length();a>v?h(d,a-v,Math.min(l,v+_-a)):h(d,0,Math.min(_,a+l-v)),v+=_}},s.prototype.map=function(a){return this.reduce(function(l,h){return l.push(a(h)),l},[])},s.prototype.reduce=function(a,l){for(var h,c=this.iterator();h=c();)l=a(l,h);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var v in d)d.hasOwnProperty(v)&&(u[v]=d[v])};return function(u,d){f(u,d);function v(){this.constructor=u}u.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h=100,c=function(f){o(u,f);function u(d){var v=f.call(this,d)||this;return v.scroll=v,v.observer=new MutationObserver(function(y){v.update(y)}),v.observer.observe(v.domNode,l),v.attach(),v}return u.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},u.prototype.deleteAt=function(d,v){this.update(),d===0&&v===this.length()?this.children.forEach(function(y){y.remove()}):f.prototype.deleteAt.call(this,d,v)},u.prototype.formatAt=function(d,v,y,_){this.update(),f.prototype.formatAt.call(this,d,v,y,_)},u.prototype.insertAt=function(d,v,y){this.update(),f.prototype.insertAt.call(this,d,v,y)},u.prototype.optimize=function(d,v){var y=this;d===void 0&&(d=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)d.push(_.pop());for(var p=function(b,k){k===void 0&&(k=!0),!(b==null||b===y)&&b.domNode.parentNode!=null&&(b.domNode[a.DATA_KEY].mutations==null&&(b.domNode[a.DATA_KEY].mutations=[]),k&&p(b.parent))},g=function(b){b.domNode[a.DATA_KEY]==null||b.domNode[a.DATA_KEY].mutations==null||(b instanceof s.default&&b.children.forEach(g),b.optimize(v))},w=d,m=0;w.length>0;m+=1){if(m>=h)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(b){var k=a.find(b.target,!0);k!=null&&(k.domNode===b.target&&(b.type==="childList"?(p(a.find(b.previousSibling,!1)),[].forEach.call(b.addedNodes,function(I){var E=a.find(I,!1);p(E,!1),E instanceof s.default&&E.children.forEach(function(O){p(O,!1)})})):b.type==="attributes"&&p(k.prev)),p(k))}),this.children.forEach(g),w=[].slice.call(this.observer.takeRecords()),_=w.slice();_.length>0;)d.push(_.pop())}},u.prototype.update=function(d,v){var y=this;v===void 0&&(v={}),d=d||this.observer.takeRecords(),d.map(function(_){var p=a.find(_.target,!0);return p==null?null:p.domNode[a.DATA_KEY].mutations==null?(p.domNode[a.DATA_KEY].mutations=[_],p):(p.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===y||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],v)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,v),this.optimize(d,v)},u.blotName="scroll",u.defaultChild="block",u.scope=a.Scope.BLOCK_BLOT,u.tagName="DIV",u}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var d in u)u.hasOwnProperty(d)&&(f[d]=u[d])};return function(f,u){c(f,u);function d(){this.constructor=f}f.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var u in c)if(c[u]!==f[u])return!1;return!0}var h=function(c){o(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(u){if(u.tagName!==f.tagName)return c.formats.call(this,u)},f.prototype.format=function(u,d){var v=this;u===this.statics.blotName&&!d?(this.children.forEach(function(y){y instanceof s.default||(y=y.wrap(f.blotName,!0)),v.attributes.copy(y)}),this.unwrap()):c.prototype.format.call(this,u,d)},f.prototype.formatAt=function(u,d,v,y){if(this.formats()[v]!=null||a.query(v,a.Scope.ATTRIBUTE)){var _=this.isolate(u,d);_.format(v,y)}else c.prototype.formatAt.call(this,u,d,v,y)},f.prototype.optimize=function(u){c.prototype.optimize.call(this,u);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(d,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var u in f)f.hasOwnProperty(u)&&(c[u]=f[u])};return function(c,f){h(c,f);function u(){this.constructor=c}c.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(h){o(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.formats=function(f){var u=a.query(c.blotName).tagName;if(f.tagName!==u)return h.formats.call(this,f)},c.prototype.format=function(f,u){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!u?this.replaceWith(c.blotName):h.prototype.format.call(this,f,u))},c.prototype.formatAt=function(f,u,d,v){a.query(d,a.Scope.BLOCK)!=null?this.format(d,v):h.prototype.formatAt.call(this,f,u,d,v)},c.prototype.insertAt=function(f,u,d){if(d==null||a.query(u,a.Scope.INLINE)!=null)h.prototype.insertAt.call(this,f,u,d);else{var v=this.split(f),y=a.create(u,d);v.parent.insertBefore(y,v)}},c.prototype.update=function(f,u){navigator.userAgent.match(/Trident/)?this.build():h.prototype.update.call(this,f,u)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)c.hasOwnProperty(f)&&(h[f]=c[f])};return function(h,c){l(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(h,l);function h(){return l!==null&&l.apply(this,arguments)||this}return h.formats=function(c){},h.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},h.prototype.formatAt=function(c,f,u,d){c===0&&f===this.length()?this.format(u,d):l.prototype.formatAt.call(this,c,f,u,d)},h.prototype.formats=function(){return this.statics.formats(this.domNode)},h}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var u in f)f.hasOwnProperty(u)&&(c[u]=f[u])};return function(c,f){h(c,f);function u(){this.constructor=c}c.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(h){o(c,h);function c(f){var u=h.call(this,f)||this;return u.text=u.statics.value(u.domNode),u}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var u=f.data;return u.normalize&&(u=u.normalize()),u},c.prototype.deleteAt=function(f,u){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+u)},c.prototype.index=function(f,u){return this.domNode===f?u:-1},c.prototype.insertAt=function(f,u,d){d==null?(this.text=this.text.slice(0,f)+u+this.text.slice(f),this.domNode.data=this.text):h.prototype.insertAt.call(this,f,u,d)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){h.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,u){return[this.domNode,f]},c.prototype.split=function(f,u){if(u===void 0&&(u=!1),!u){if(f===0)return this;if(f===this.length())return this.next}var d=a.create(this.domNode.splitText(f));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},c.prototype.update=function(f,u){var d=this;f.some(function(v){return v.type==="characterData"&&v.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var h=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>h.length)&&(l=h.length),l-=a.length;var c=h.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var h=Object(this),c=h.length>>>0,f=arguments[1],u,d=0;d<c;d++)if(u=h[d],l.call(f,u,d,h))return u}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(m,b,k){if(m==b)return m?[[s,m]]:[];(k<0||m.length<k)&&(k=null);var I=f(m,b),E=m.substring(0,I);m=m.substring(I),b=b.substring(I),I=u(m,b);var O=m.substring(m.length-I);m=m.substring(0,m.length-I),b=b.substring(0,b.length-I);var T=l(m,b);return E&&T.unshift([s,E]),O&&T.push([s,O]),v(T),k!=null&&(T=p(T,k)),T=g(T),T}function l(m,b){var k;if(!m)return[[o,b]];if(!b)return[[i,m]];var I=m.length>b.length?m:b,E=m.length>b.length?b:m,O=I.indexOf(E);if(O!=-1)return k=[[o,I.substring(0,O)],[s,E],[o,I.substring(O+E.length)]],m.length>b.length&&(k[0][0]=k[2][0]=i),k;if(E.length==1)return[[i,m],[o,b]];var T=d(m,b);if(T){var S=T[0],A=T[1],N=T[2],x=T[3],D=T[4],R=a(S,N),C=a(A,x);return R.concat([[s,D]],C)}return h(m,b)}function h(m,b){for(var k=m.length,I=b.length,E=Math.ceil((k+I)/2),O=E,T=2*E,S=new Array(T),A=new Array(T),N=0;N<T;N++)S[N]=-1,A[N]=-1;S[O+1]=0,A[O+1]=0;for(var x=k-I,D=x%2!=0,R=0,C=0,B=0,M=0,L=0;L<E;L++){for(var P=-L+R;P<=L-C;P+=2){var $=O+P,j;P==-L||P!=L&&S[$-1]<S[$+1]?j=S[$+1]:j=S[$-1]+1;for(var q=j-P;j<k&&q<I&&m.charAt(j)==b.charAt(q);)j++,q++;if(S[$]=j,j>k)C+=2;else if(q>I)R+=2;else if(D){var F=O+x-P;if(F>=0&&F<T&&A[F]!=-1){var U=k-A[F];if(j>=U)return c(m,b,j,q)}}}for(var z=-L+B;z<=L-M;z+=2){var F=O+z,U;z==-L||z!=L&&A[F-1]<A[F+1]?U=A[F+1]:U=A[F-1]+1;for(var H=U-z;U<k&&H<I&&m.charAt(k-U-1)==b.charAt(I-H-1);)U++,H++;if(A[F]=U,U>k)M+=2;else if(H>I)B+=2;else if(!D){var $=O+x-z;if($>=0&&$<T&&S[$]!=-1){var j=S[$],q=O+j-$;if(U=k-U,j>=U)return c(m,b,j,q)}}}}return[[i,m],[o,b]]}function c(m,b,k,I){var E=m.substring(0,k),O=b.substring(0,I),T=m.substring(k),S=b.substring(I),A=a(E,O),N=a(T,S);return A.concat(N)}function f(m,b){if(!m||!b||m.charAt(0)!=b.charAt(0))return 0;for(var k=0,I=Math.min(m.length,b.length),E=I,O=0;k<E;)m.substring(O,E)==b.substring(O,E)?(k=E,O=k):I=E,E=Math.floor((I-k)/2+k);return E}function u(m,b){if(!m||!b||m.charAt(m.length-1)!=b.charAt(b.length-1))return 0;for(var k=0,I=Math.min(m.length,b.length),E=I,O=0;k<E;)m.substring(m.length-E,m.length-O)==b.substring(b.length-E,b.length-O)?(k=E,O=k):I=E,E=Math.floor((I-k)/2+k);return E}function d(m,b){var k=m.length>b.length?m:b,I=m.length>b.length?b:m;if(k.length<4||I.length*2<k.length)return null;function E(C,B,M){for(var L=C.substring(M,M+Math.floor(C.length/4)),P=-1,$="",j,q,F,U;(P=B.indexOf(L,P+1))!=-1;){var z=f(C.substring(M),B.substring(P)),H=u(C.substring(0,M),B.substring(0,P));$.length<H+z&&($=B.substring(P-H,P)+B.substring(P,P+z),j=C.substring(0,M-H),q=C.substring(M+z),F=B.substring(0,P-H),U=B.substring(P+z))}return $.length*2>=C.length?[j,q,F,U,$]:null}var O=E(k,I,Math.ceil(k.length/4)),T=E(k,I,Math.ceil(k.length/2)),S;if(!O&&!T)return null;T?O?S=O[4].length>T[4].length?O:T:S=T:S=O;var A,N,x,D;m.length>b.length?(A=S[0],N=S[1],x=S[2],D=S[3]):(x=S[0],D=S[1],A=S[2],N=S[3]);var R=S[4];return[A,N,x,D,R]}function v(m){m.push([s,""]);for(var b=0,k=0,I=0,E="",O="",T;b<m.length;)switch(m[b][0]){case o:I++,O+=m[b][1],b++;break;case i:k++,E+=m[b][1],b++;break;case s:k+I>1?(k!==0&&I!==0&&(T=f(O,E),T!==0&&(b-k-I>0&&m[b-k-I-1][0]==s?m[b-k-I-1][1]+=O.substring(0,T):(m.splice(0,0,[s,O.substring(0,T)]),b++),O=O.substring(T),E=E.substring(T)),T=u(O,E),T!==0&&(m[b][1]=O.substring(O.length-T)+m[b][1],O=O.substring(0,O.length-T),E=E.substring(0,E.length-T))),k===0?m.splice(b-I,k+I,[o,O]):I===0?m.splice(b-k,k+I,[i,E]):m.splice(b-k-I,k+I,[i,E],[o,O]),b=b-k-I+(k?1:0)+(I?1:0)+1):b!==0&&m[b-1][0]==s?(m[b-1][1]+=m[b][1],m.splice(b,1)):b++,I=0,k=0,E="",O="";break}m[m.length-1][1]===""&&m.pop();var S=!1;for(b=1;b<m.length-1;)m[b-1][0]==s&&m[b+1][0]==s&&(m[b][1].substring(m[b][1].length-m[b-1][1].length)==m[b-1][1]?(m[b][1]=m[b-1][1]+m[b][1].substring(0,m[b][1].length-m[b-1][1].length),m[b+1][1]=m[b-1][1]+m[b+1][1],m.splice(b-1,1),S=!0):m[b][1].substring(0,m[b+1][1].length)==m[b+1][1]&&(m[b-1][1]+=m[b+1][1],m[b][1]=m[b][1].substring(m[b+1][1].length)+m[b+1][1],m.splice(b+1,1),S=!0)),b++;S&&v(m)}var y=a;y.INSERT=o,y.DELETE=i,y.EQUAL=s,n.exports=y;function _(m,b){if(b===0)return[s,m];for(var k=0,I=0;I<m.length;I++){var E=m[I];if(E[0]===i||E[0]===s){var O=k+E[1].length;if(b===O)return[I+1,m];if(b<O){m=m.slice();var T=b-k,S=[E[0],E[1].slice(0,T)],A=[E[0],E[1].slice(T)];return m.splice(I,1,S,A),[I+1,m]}else k=O}}throw new Error("cursor_pos is out of bounds!")}function p(m,b){var k=_(m,b),I=k[1],E=k[0],O=I[E],T=I[E+1];if(O==null)return m;if(O[0]!==s)return m;if(T!=null&&O[1]+T[1]===T[1]+O[1])return I.splice(E,2,T,O),w(I,E,2);if(T!=null&&T[1].indexOf(O[1])===0){I.splice(E,2,[T[0],O[1]],[0,O[1]]);var S=T[1].slice(O[1].length);return S.length>0&&I.splice(E+2,0,[T[0],S]),w(I,E,3)}else return m}function g(m){for(var b=!1,k=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},I=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},E=2;E<m.length;E+=1)m[E-2][0]===s&&I(m[E-2][1])&&m[E-1][0]===i&&k(m[E-1][1])&&m[E][0]===o&&k(m[E][1])&&(b=!0,m[E-1][1]=m[E-2][1].slice(-1)+m[E-1][1],m[E][1]=m[E-2][1].slice(-1)+m[E][1],m[E-2][1]=m[E-2][1].slice(0,-1));if(!b)return m;for(var O=[],E=0;E<m.length;E+=1)m[E][1].length>0&&O.push(m[E]);return O}function w(m,b,k){for(var I=b+k-1;I>=0&&I>=b-1;I--)if(I+1<m.length){var E=m[I],O=m[I+1];E[0]===O[1]&&m.splice(I,2,[E[0],E[1]+O[1]])}return m}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(h,c,f){this.fn=h,this.context=c,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,u;if(this._eventsCount===0)return c;for(u in f=this._events)i.call(f,u)&&c.push(o?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var u=o?o+c:c,d=this._events[u];if(f)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var v=0,y=d.length,_=new Array(y);v<y;v++)_[v]=d[v].fn;return _},l.prototype.emit=function(c,f,u,d,v,y){var _=o?o+c:c;if(!this._events[_])return!1;var p=this._events[_],g=arguments.length,w,m;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),g){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,f),!0;case 3:return p.fn.call(p.context,f,u),!0;case 4:return p.fn.call(p.context,f,u,d),!0;case 5:return p.fn.call(p.context,f,u,d,v),!0;case 6:return p.fn.call(p.context,f,u,d,v,y),!0}for(m=1,w=new Array(g-1);m<g;m++)w[m-1]=arguments[m];p.fn.apply(p.context,w)}else{var b=p.length,k;for(m=0;m<b;m++)switch(p[m].once&&this.removeListener(c,p[m].fn,void 0,!0),g){case 1:p[m].fn.call(p[m].context);break;case 2:p[m].fn.call(p[m].context,f);break;case 3:p[m].fn.call(p[m].context,f,u);break;case 4:p[m].fn.call(p[m].context,f,u,d);break;default:if(!w)for(k=1,w=new Array(g-1);k<g;k++)w[k-1]=arguments[k];p[m].fn.apply(p[m].context,w)}}return!0},l.prototype.on=function(c,f,u){var d=new a(f,u||this),v=o?o+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],d]:this._events[v].push(d):(this._events[v]=d,this._eventsCount++),this},l.prototype.once=function(c,f,u){var d=new a(f,u||this,!0),v=o?o+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],d]:this._events[v].push(d):(this._events[v]=d,this._eventsCount++),this},l.prototype.removeListener=function(c,f,u,d){var v=o?o+c:c;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[v],this;var y=this._events[v];if(y.fn)y.fn===f&&(!d||y.once)&&(!u||y.context===u)&&(--this._eventsCount===0?this._events=new s:delete this._events[v]);else{for(var _=0,p=[],g=y.length;_<g;_++)(y[_].fn!==f||d&&!y[_].once||u&&y[_].context!==u)&&p.push(y[_]);p.length?this._events[v]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new s:delete this._events[v]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=o?o+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(G,te){var ne=[],Y=!0,le=!1,ae=void 0;try{for(var de=G[Symbol.iterator](),Ye;!(Y=(Ye=de.next()).done)&&(ne.push(Ye.value),!(te&&ne.length===te));Y=!0);}catch(jt){le=!0,ae=jt}finally{try{!Y&&de.return&&de.return()}finally{if(le)throw ae}}return ne}return function(G,te){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return W(G,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(G,te){for(var ne=0;ne<te.length;ne++){var Y=te[ne];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(G,Y.key,Y)}}return function(G,te,ne){return te&&W(G.prototype,te),ne&&W(G,ne),G}}(),l=i(3),h=A(l),c=i(2),f=A(c),u=i(0),d=A(u),v=i(5),y=A(v),_=i(10),p=A(_),g=i(9),w=A(g),m=i(36),b=i(37),k=i(13),I=A(k),E=i(26),O=i(38),T=i(39),S=i(40);function A(W){return W&&W.__esModule?W:{default:W}}function N(W,G,te){return G in W?Object.defineProperty(W,G,{value:te,enumerable:!0,configurable:!0,writable:!0}):W[G]=te,W}function x(W,G){if(!(W instanceof G))throw new TypeError("Cannot call a class as a function")}function D(W,G){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:W}function R(W,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);W.prototype=Object.create(G&&G.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(W,G):W.__proto__=G)}var C=(0,p.default)("quill:clipboard"),B="__ql-matcher",M=[[Node.TEXT_NODE,we],[Node.TEXT_NODE,ge],["br",re],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,xe],["li",pe],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["style",se]],L=[m.AlignAttribute,O.DirectionAttribute].reduce(function(W,G){return W[G.keyName]=G,W},{}),P=[m.AlignStyle,b.BackgroundStyle,E.ColorStyle,O.DirectionStyle,T.FontStyle,S.SizeStyle].reduce(function(W,G){return W[G.keyName]=G,W},{}),$=function(W){R(G,W);function G(te,ne){x(this,G);var Y=D(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,te,ne));return Y.quill.root.addEventListener("paste",Y.onPaste.bind(Y)),Y.container=Y.quill.addContainer("ql-clipboard"),Y.container.setAttribute("contenteditable",!0),Y.container.setAttribute("tabindex",-1),Y.matchers=[],M.concat(Y.options.matchers).forEach(function(le){var ae=s(le,2),de=ae[0],Ye=ae[1];!ne.matchVisual&&Ye===fe||Y.addMatcher(de,Ye)}),Y}return a(G,[{key:"addMatcher",value:function(ne,Y){this.matchers.push([ne,Y])}},{key:"convert",value:function(ne){if(typeof ne=="string")return this.container.innerHTML=ne.replace(/\>\r?\n +\</g,"><"),this.convert();var Y=this.quill.getFormat(this.quill.selection.savedRange.index);if(Y[I.default.blotName]){var le=this.container.innerText;return this.container.innerHTML="",new f.default().insert(le,N({},I.default.blotName,Y[I.default.blotName]))}var ae=this.prepareMatching(),de=s(ae,2),Ye=de[0],jt=de[1],be=z(this.container,Ye,jt);return F(be,`
`)&&be.ops[be.ops.length-1].attributes==null&&(be=be.compose(new f.default().retain(be.length()-1).delete(1))),C.log("convert",this.container.innerHTML,be),this.container.innerHTML="",be}},{key:"dangerouslyPasteHTML",value:function(ne,Y){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ne=="string")this.quill.setContents(this.convert(ne),Y),this.quill.setSelection(0,y.default.sources.SILENT);else{var ae=this.convert(Y);this.quill.updateContents(new f.default().retain(ne).concat(ae),le),this.quill.setSelection(ne+ae.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ne){var Y=this;if(!(ne.defaultPrevented||!this.quill.isEnabled())){var le=this.quill.getSelection(),ae=new f.default().retain(le.index),de=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){ae=ae.concat(Y.convert()).delete(le.length),Y.quill.updateContents(ae,y.default.sources.USER),Y.quill.setSelection(ae.length()-le.length,y.default.sources.SILENT),Y.quill.scrollingContainer.scrollTop=de,Y.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ne=this,Y=[],le=[];return this.matchers.forEach(function(ae){var de=s(ae,2),Ye=de[0],jt=de[1];switch(Ye){case Node.TEXT_NODE:le.push(jt);break;case Node.ELEMENT_NODE:Y.push(jt);break;default:[].forEach.call(ne.container.querySelectorAll(Ye),function(be){be[B]=be[B]||[],be[B].push(jt)});break}}),[Y,le]}}]),G}(w.default);$.DEFAULTS={matchers:[],matchVisual:!0};function j(W,G,te){return(typeof G>"u"?"undefined":o(G))==="object"?Object.keys(G).reduce(function(ne,Y){return j(ne,Y,G[Y])},W):W.reduce(function(ne,Y){return Y.attributes&&Y.attributes[G]?ne.push(Y):ne.insert(Y.insert,(0,h.default)({},N({},G,te),Y.attributes))},new f.default)}function q(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var G="__ql-computed-style";return W[G]||(W[G]=window.getComputedStyle(W))}function F(W,G){for(var te="",ne=W.ops.length-1;ne>=0&&te.length<G.length;--ne){var Y=W.ops[ne];if(typeof Y.insert!="string")break;te=Y.insert+te}return te.slice(-1*G.length)===G}function U(W){if(W.childNodes.length===0)return!1;var G=q(W);return["block","list-item"].indexOf(G.display)>-1}function z(W,G,te){return W.nodeType===W.TEXT_NODE?te.reduce(function(ne,Y){return Y(W,ne)},new f.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(ne,Y){var le=z(Y,G,te);return Y.nodeType===W.ELEMENT_NODE&&(le=G.reduce(function(ae,de){return de(Y,ae)},le),le=(Y[B]||[]).reduce(function(ae,de){return de(Y,ae)},le)),ne.concat(le)},new f.default):new f.default}function H(W,G,te){return j(te,W,!0)}function V(W,G){var te=d.default.Attributor.Attribute.keys(W),ne=d.default.Attributor.Class.keys(W),Y=d.default.Attributor.Style.keys(W),le={};return te.concat(ne).concat(Y).forEach(function(ae){var de=d.default.query(ae,d.default.Scope.ATTRIBUTE);de!=null&&(le[de.attrName]=de.value(W),le[de.attrName])||(de=L[ae],de!=null&&(de.attrName===ae||de.keyName===ae)&&(le[de.attrName]=de.value(W)||void 0),de=P[ae],de!=null&&(de.attrName===ae||de.keyName===ae)&&(de=P[ae],le[de.attrName]=de.value(W)||void 0))}),Object.keys(le).length>0&&(G=j(G,le)),G}function Q(W,G){var te=d.default.query(W);if(te==null)return G;if(te.prototype instanceof d.default.Embed){var ne={},Y=te.value(W);Y!=null&&(ne[te.blotName]=Y,G=new f.default().insert(ne,te.formats(W)))}else typeof te.formats=="function"&&(G=j(G,te.blotName,te.formats(W)));return G}function re(W,G){return F(G,`
`)||G.insert(`
`),G}function se(){return new f.default}function pe(W,G){var te=d.default.query(W);if(te==null||te.blotName!=="list-item"||!F(G,`
`))return G;for(var ne=-1,Y=W.parentNode;!Y.classList.contains("ql-clipboard");)(d.default.query(Y)||{}).blotName==="list"&&(ne+=1),Y=Y.parentNode;return ne<=0?G:G.compose(new f.default().retain(G.length()-1).retain(1,{indent:ne}))}function ge(W,G){return F(G,`
`)||(U(W)||G.length()>0&&W.nextSibling&&U(W.nextSibling))&&G.insert(`
`),G}function fe(W,G){if(U(W)&&W.nextElementSibling!=null&&!F(G,`

`)){var te=W.offsetHeight+parseFloat(q(W).marginTop)+parseFloat(q(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+te*1.5&&G.insert(`
`)}return G}function xe(W,G){var te={},ne=W.style||{};return ne.fontStyle&&q(W).fontStyle==="italic"&&(te.italic=!0),ne.fontWeight&&(q(W).fontWeight.startsWith("bold")||parseInt(q(W).fontWeight)>=700)&&(te.bold=!0),Object.keys(te).length>0&&(G=j(G,te)),parseFloat(ne.textIndent||0)>0&&(G=new f.default().insert("	").concat(G)),G}function we(W,G){var te=W.data;if(W.parentNode.tagName==="O:P")return G.insert(te.trim());if(te.trim().length===0&&W.parentNode.classList.contains("ql-clipboard"))return G;if(!q(W.parentNode).whiteSpace.startsWith("pre")){var ne=function(le,ae){return ae=ae.replace(/[^\u00a0]/g,""),ae.length<1&&le?" ":ae};te=te.replace(/\r\n/g," ").replace(/\n/g," "),te=te.replace(/\s\s+/g,ne.bind(ne,!0)),(W.previousSibling==null&&U(W.parentNode)||W.previousSibling!=null&&U(W.previousSibling))&&(te=te.replace(/^\s+/,ne.bind(ne,!1))),(W.nextSibling==null&&U(W.parentNode)||W.nextSibling!=null&&U(W.nextSibling))&&(te=te.replace(/\s+$/,ne.bind(ne,!1)))}return G.insert(te)}r.default=$,r.matchAttributor=V,r.matchBlot=Q,r.matchNewline=ge,r.matchSpacing=fe,r.matchText=we},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,_){for(var p=0;p<_.length;p++){var g=_[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,_,p){return _&&v(y.prototype,_),p&&v(y,p),y}}(),s=function v(y,_,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,_);if(g===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,_,p)}else{if("value"in g)return g.value;var m=g.get;return m===void 0?void 0:m.call(p)}},a=i(6),l=h(a);function h(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function u(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var d=function(v){u(y,v);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"optimize",value:function(p){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);d.blotName="bold",d.tagName=["STRONG","B"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function S(A,N){var x=[],D=!0,R=!1,C=void 0;try{for(var B=A[Symbol.iterator](),M;!(D=(M=B.next()).done)&&(x.push(M.value),!(N&&x.length===N));D=!0);}catch(L){R=!0,C=L}finally{try{!D&&B.return&&B.return()}finally{if(R)throw C}}return x}return function(A,N){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return S(A,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(A,N){for(var x=0;x<N.length;x++){var D=N[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(A,D.key,D)}}return function(A,N,x){return N&&S(A.prototype,N),x&&S(A,x),A}}(),a=i(2),l=p(a),h=i(0),c=p(h),f=i(5),u=p(f),d=i(10),v=p(d),y=i(9),_=p(y);function p(S){return S&&S.__esModule?S:{default:S}}function g(S,A,N){return A in S?Object.defineProperty(S,A,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[A]=N,S}function w(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function m(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function b(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var k=(0,v.default)("quill:toolbar"),I=function(S){b(A,S);function A(N,x){w(this,A);var D=m(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,N,x));if(Array.isArray(D.options.container)){var R=document.createElement("div");O(R,D.options.container),N.container.parentNode.insertBefore(R,N.container),D.container=R}else typeof D.options.container=="string"?D.container=document.querySelector(D.options.container):D.container=D.options.container;if(!(D.container instanceof HTMLElement)){var C;return C=k.error("Container required for toolbar",D.options),m(D,C)}return D.container.classList.add("ql-toolbar"),D.controls=[],D.handlers={},Object.keys(D.options.handlers).forEach(function(B){D.addHandler(B,D.options.handlers[B])}),[].forEach.call(D.container.querySelectorAll("button, select"),function(B){D.attach(B)}),D.quill.on(u.default.events.EDITOR_CHANGE,function(B,M){B===u.default.events.SELECTION_CHANGE&&D.update(M)}),D.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){var B=D.quill.selection.getRange(),M=o(B,1),L=M[0];D.update(L)}),D}return s(A,[{key:"addHandler",value:function(x,D){this.handlers[x]=D}},{key:"attach",value:function(x){var D=this,R=[].find.call(x.classList,function(B){return B.indexOf("ql-")===0});if(R){if(R=R.slice(3),x.tagName==="BUTTON"&&x.setAttribute("type","button"),this.handlers[R]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[R]==null){k.warn("ignoring attaching to disabled format",R,x);return}if(c.default.query(R)==null){k.warn("ignoring attaching to nonexistent format",R,x);return}}var C=x.tagName==="SELECT"?"change":"click";x.addEventListener(C,function(B){var M=void 0;if(x.tagName==="SELECT"){if(x.selectedIndex<0)return;var L=x.options[x.selectedIndex];L.hasAttribute("selected")?M=!1:M=L.value||!1}else x.classList.contains("ql-active")?M=!1:M=x.value||!x.hasAttribute("value"),B.preventDefault();D.quill.focus();var P=D.quill.selection.getRange(),$=o(P,1),j=$[0];if(D.handlers[R]!=null)D.handlers[R].call(D,M);else if(c.default.query(R).prototype instanceof c.default.Embed){if(M=prompt("Enter "+R),!M)return;D.quill.updateContents(new l.default().retain(j.index).delete(j.length).insert(g({},R,M)),u.default.sources.USER)}else D.quill.format(R,M,u.default.sources.USER);D.update(j)}),this.controls.push([R,x])}}},{key:"update",value:function(x){var D=x==null?{}:this.quill.getFormat(x);this.controls.forEach(function(R){var C=o(R,2),B=C[0],M=C[1];if(M.tagName==="SELECT"){var L=void 0;if(x==null)L=null;else if(D[B]==null)L=M.querySelector("option[selected]");else if(!Array.isArray(D[B])){var P=D[B];typeof P=="string"&&(P=P.replace(/\"/g,'\\"')),L=M.querySelector('option[value="'+P+'"]')}L==null?(M.value="",M.selectedIndex=-1):L.selected=!0}else if(x==null)M.classList.remove("ql-active");else if(M.hasAttribute("value")){var $=D[B]===M.getAttribute("value")||D[B]!=null&&D[B].toString()===M.getAttribute("value")||D[B]==null&&!M.getAttribute("value");M.classList.toggle("ql-active",$)}else M.classList.toggle("ql-active",D[B]!=null)})}}]),A}(_.default);I.DEFAULTS={};function E(S,A,N){var x=document.createElement("button");x.setAttribute("type","button"),x.classList.add("ql-"+A),N!=null&&(x.value=N),S.appendChild(x)}function O(S,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(N){var x=document.createElement("span");x.classList.add("ql-formats"),N.forEach(function(D){if(typeof D=="string")E(x,D);else{var R=Object.keys(D)[0],C=D[R];Array.isArray(C)?T(x,R,C):E(x,R,C)}}),S.appendChild(x)})}function T(S,A,N){var x=document.createElement("select");x.classList.add("ql-"+A),N.forEach(function(D){var R=document.createElement("option");D!==!1?R.setAttribute("value",D):R.setAttribute("selected","selected"),x.appendChild(R)}),S.appendChild(x)}I.DEFAULTS={container:null,handlers:{clean:function(){var A=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var x=this.quill.getFormat();Object.keys(x).forEach(function(D){c.default.query(D,c.default.Scope.INLINE)!=null&&A.quill.format(D,!1)})}else this.quill.removeFormat(N,u.default.sources.USER)},direction:function(A){var N=this.quill.getFormat().align;A==="rtl"&&N==null?this.quill.format("align","right",u.default.sources.USER):!A&&N==="right"&&this.quill.format("align",!1,u.default.sources.USER),this.quill.format("direction",A,u.default.sources.USER)},indent:function(A){var N=this.quill.getSelection(),x=this.quill.getFormat(N),D=parseInt(x.indent||0);if(A==="+1"||A==="-1"){var R=A==="+1"?1:-1;x.direction==="rtl"&&(R*=-1),this.quill.format("indent",D+R,u.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,u.default.sources.USER)},list:function(A){var N=this.quill.getSelection(),x=this.quill.getFormat(N);A==="check"?x.list==="checked"||x.list==="unchecked"?this.quill.format("list",!1,u.default.sources.USER):this.quill.format("list","unchecked",u.default.sources.USER):this.quill.format("list",A,u.default.sources.USER)}}},r.default=I,r.addControls=O},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,_){for(var p=0;p<_.length;p++){var g=_[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,_,p){return _&&v(y.prototype,_),p&&v(y,p),y}}(),s=function v(y,_,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,_);if(g===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,_,p)}else{if("value"in g)return g.value;var m=g.get;return m===void 0?void 0:m.call(p)}},a=i(28),l=h(a);function h(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function u(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var d=function(v){u(y,v);function y(_,p){c(this,y);var g=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return g.label.innerHTML=p,g.container.classList.add("ql-color-picker"),[].slice.call(g.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),g}return o(y,[{key:"buildItem",value:function(p){var g=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,p);return g.style.backgroundColor=p.getAttribute("value")||"",g}},{key:"selectItem",value:function(p,g){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,p,g);var w=this.label.querySelector(".ql-color-label"),m=p&&p.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=m:w.style.fill=m)}}]),y}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,_){for(var p=0;p<_.length;p++){var g=_[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,_,p){return _&&v(y.prototype,_),p&&v(y,p),y}}(),s=function v(y,_,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,_);if(g===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,_,p)}else{if("value"in g)return g.value;var m=g.get;return m===void 0?void 0:m.call(p)}},a=i(28),l=h(a);function h(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function u(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var d=function(v){u(y,v);function y(_,p){c(this,y);var g=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return g.container.classList.add("ql-icon-picker"),[].forEach.call(g.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=p[w.getAttribute("data-value")||""]}),g.defaultItem=g.container.querySelector(".ql-selected"),g.selectItem(g.defaultItem),g}return o(y,[{key:"selectItem",value:function(p,g){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,p,g),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),y}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(h,c){for(var f=0;f<c.length;f++){var u=c[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(h,u.key,u)}}return function(h,c,f){return c&&l(h.prototype,c),f&&l(h,f),h}}();function s(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(h,c){var f=this;s(this,l),this.quill=h,this.boundsContainer=c||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,u=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=u+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),y=0;if(v.right>d.right&&(y=d.right-v.right,this.root.style.left=f+y+"px"),v.left<d.left&&(y=d.left-v.left,this.root.style.left=f+y+"px"),v.bottom>d.bottom){var _=v.bottom-v.top,p=c.bottom-c.top+_;this.root.style.top=u-p+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(S,A){var N=[],x=!0,D=!1,R=void 0;try{for(var C=S[Symbol.iterator](),B;!(x=(B=C.next()).done)&&(N.push(B.value),!(A&&N.length===A));x=!0);}catch(M){D=!0,R=M}finally{try{!x&&C.return&&C.return()}finally{if(D)throw R}}return N}return function(S,A){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return T(S,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function T(S,A,N){S===null&&(S=Function.prototype);var x=Object.getOwnPropertyDescriptor(S,A);if(x===void 0){var D=Object.getPrototypeOf(S);return D===null?void 0:T(D,A,N)}else{if("value"in x)return x.value;var R=x.get;return R===void 0?void 0:R.call(N)}},a=function(){function T(S,A){for(var N=0;N<A.length;N++){var x=A[N];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}return function(S,A,N){return A&&T(S.prototype,A),N&&T(S,N),S}}(),l=i(3),h=w(l),c=i(8),f=w(c),u=i(43),d=w(u),v=i(27),y=w(v),_=i(15),p=i(41),g=w(p);function w(T){return T&&T.__esModule?T:{default:T}}function m(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function b(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function k(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}var I=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(T){k(S,T);function S(A,N){m(this,S),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=I);var x=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A,N));return x.quill.container.classList.add("ql-snow"),x}return a(S,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),g.default),this.tooltip=new O(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(x,D){N.handlers.link.call(N,!D.format.link)})}}]),S}(d.default);E.DEFAULTS=(0,h.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var A=this.quill.getSelection();if(A==null||A.length==0)return;var N=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var x=this.quill.theme.tooltip;x.edit("link",N)}else this.quill.format("link",!1)}}}}});var O=function(T){k(S,T);function S(A,N){m(this,S);var x=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A,N));return x.preview=x.root.querySelector("a.ql-preview"),x}return a(S,[{key:"listen",value:function(){var N=this;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(x){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),x.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(x){if(N.linkRange!=null){var D=N.linkRange;N.restoreFocus(),N.quill.formatText(D,"link",!1,f.default.sources.USER),delete N.linkRange}x.preventDefault(),N.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(x,D,R){if(x!=null){if(x.length===0&&R===f.default.sources.USER){var C=N.quill.scroll.descendant(y.default,x.index),B=o(C,2),M=B[0],L=B[1];if(M!=null){N.linkRange=new _.Range(x.index-L,M.length());var P=y.default.formats(M.domNode);N.preview.textContent=P,N.preview.setAttribute("href",P),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(u.BaseTooltip);O.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=Y(o),a=i(36),l=i(38),h=i(64),c=i(65),f=Y(c),u=i(66),d=Y(u),v=i(67),y=Y(v),_=i(37),p=i(26),g=i(39),w=i(40),m=i(56),b=Y(m),k=i(68),I=Y(k),E=i(27),O=Y(E),T=i(69),S=Y(T),A=i(70),N=Y(A),x=i(71),D=Y(x),R=i(72),C=Y(R),B=i(73),M=Y(B),L=i(13),P=Y(L),$=i(74),j=Y($),q=i(75),F=Y(q),U=i(57),z=Y(U),H=i(41),V=Y(H),Q=i(28),re=Y(Q),se=i(59),pe=Y(se),ge=i(60),fe=Y(ge),xe=i(61),we=Y(xe),W=i(108),G=Y(W),te=i(62),ne=Y(te);function Y(le){return le&&le.__esModule?le:{default:le}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":w.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":h.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":g.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":P.default,"formats/header":d.default,"formats/list":y.default,"formats/bold":b.default,"formats/code":L.Code,"formats/italic":I.default,"formats/link":O.default,"formats/script":S.default,"formats/strike":N.default,"formats/underline":D.default,"formats/image":C.default,"formats/video":M.default,"formats/list/item":v.ListItem,"modules/formula":j.default,"modules/syntax":F.default,"modules/toolbar":z.default,"themes/bubble":G.default,"themes/snow":ne.default,"ui/icons":V.default,"ui/picker":re.default,"ui/icon-picker":fe.default,"ui/color-picker":pe.default,"ui/tooltip":we.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function y(_,p){for(var g=0;g<p.length;g++){var w=p[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,p,g){return p&&y(_.prototype,p),g&&y(_,g),_}}(),s=function y(_,p,g){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,p);if(w===void 0){var m=Object.getPrototypeOf(_);return m===null?void 0:y(m,p,g)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(g)}},a=i(0),l=h(a);function h(y){return y&&y.__esModule?y:{default:y}}function c(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function f(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function u(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var d=function(y){u(_,y);function _(){return c(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"add",value:function(g,w){if(w==="+1"||w==="-1"){var m=this.value(g)||0;w=w==="+1"?m+1:m-1}return w===0?(this.remove(g),!0):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,g,w)}},{key:"canAdd",value:function(g,w){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,g,w)||s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,g,parseInt(w))}},{key:"value",value:function(g){return parseInt(s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,g))||void 0}}]),_}(l.default.Attributor.Class),v=new d("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}function l(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function h(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function c(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var f=function(u){c(d,u);function d(){return l(this,d),h(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function d(v,y){for(var _=0;_<y.length;_++){var p=y[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,y,_){return y&&d(v.prototype,y),_&&d(v,_),v}}(),s=i(4),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}function h(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}function c(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:d}function f(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}var u=function(d){f(v,d);function v(){return h(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),v}(a.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],r.default=u},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function m(b,k){for(var I=0;I<k.length;I++){var E=k[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}return function(b,k,I){return k&&m(b.prototype,k),I&&m(b,I),b}}(),s=function m(b,k,I){b===null&&(b=Function.prototype);var E=Object.getOwnPropertyDescriptor(b,k);if(E===void 0){var O=Object.getPrototypeOf(b);return O===null?void 0:m(O,k,I)}else{if("value"in E)return E.value;var T=E.get;return T===void 0?void 0:T.call(I)}},a=i(0),l=d(a),h=i(4),c=d(h),f=i(25),u=d(f);function d(m){return m&&m.__esModule?m:{default:m}}function v(m,b,k){return b in m?Object.defineProperty(m,b,{value:k,enumerable:!0,configurable:!0,writable:!0}):m[b]=k,m}function y(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function _(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function p(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var g=function(m){p(b,m);function b(){return y(this,b),_(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(I,E){I===w.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,I,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(I,E){return this.parent.isolate(this.offset(this.parent),this.length()),I===this.parent.statics.blotName?(this.parent.replaceWith(I,E),this):(this.parent.unwrap(),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,I,E))}}],[{key:"formats",value:function(I){return I.tagName===this.tagName?void 0:s(b.__proto__||Object.getPrototypeOf(b),"formats",this).call(this,I)}}]),b}(c.default);g.blotName="list-item",g.tagName="LI";var w=function(m){p(b,m),o(b,null,[{key:"create",value:function(I){var E=I==="ordered"?"OL":"UL",O=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,E);return(I==="checked"||I==="unchecked")&&O.setAttribute("data-checked",I==="checked"),O}},{key:"formats",value:function(I){if(I.tagName==="OL")return"ordered";if(I.tagName==="UL")return I.hasAttribute("data-checked")?I.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function b(k){y(this,b);var I=_(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,k)),E=function(T){if(T.target.parentNode===k){var S=I.statics.formats(k),A=l.default.find(T.target);S==="checked"?A.format("list","unchecked"):S==="unchecked"&&A.format("list","checked")}};return k.addEventListener("touchstart",E),k.addEventListener("mousedown",E),I}return o(b,[{key:"format",value:function(I,E){this.children.length>0&&this.children.tail.format(I,E)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(I,E){if(I instanceof g)s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,I,E);else{var O=E==null?this.length():E.offset(this),T=this.split(O);T.parent.insertBefore(I,T)}}},{key:"optimize",value:function(I){s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,I);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(I){if(I.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);I.moveChildren(E),this.appendChild(E)}s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replace",this).call(this,I)}}]),b}(u.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[g],r.ListItem=g,r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}function l(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function h(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function c(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var f=function(u){c(d,u);function d(){return l(this,d),h(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,_){for(var p=0;p<_.length;p++){var g=_[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,_,p){return _&&v(y.prototype,_),p&&v(y,p),y}}(),s=function v(y,_,p){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,_);if(g===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,_,p)}else{if("value"in g)return g.value;var m=g.get;return m===void 0?void 0:m.call(p)}},a=i(6),l=h(a);function h(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function u(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var d=function(v){u(y,v);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),y}(l.default);d.blotName="script",d.tagName=["SUB","SUP"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}function l(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function h(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function c(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var f=function(u){c(d,u);function d(){return l(this,d),h(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}function l(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function h(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function c(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var f=function(u){c(d,u);function d(){return l(this,d),h(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(p,g){for(var w=0;w<g.length;w++){var m=g[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,g,w){return g&&_(p.prototype,g),w&&_(p,w),p}}(),s=function _(p,g,w){p===null&&(p=Function.prototype);var m=Object.getOwnPropertyDescriptor(p,g);if(m===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:_(b,g,w)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(w)}},a=i(0),l=c(a),h=i(27);function c(_){return _&&_.__esModule?_:{default:_}}function f(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function u(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function d(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var v=["alt","height","width"],y=function(_){d(p,_);function p(){return f(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(w,m){v.indexOf(w)>-1?m?this.domNode.setAttribute(w,m):this.domNode.removeAttribute(w):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,w,m)}}],[{key:"create",value:function(w){var m=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,w);return typeof w=="string"&&m.setAttribute("src",this.sanitize(w)),m}},{key:"formats",value:function(w){return v.reduce(function(m,b){return w.hasAttribute(b)&&(m[b]=w.getAttribute(b)),m},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,h.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),p}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(p,g){for(var w=0;w<g.length;w++){var m=g[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,g,w){return g&&_(p.prototype,g),w&&_(p,w),p}}(),s=function _(p,g,w){p===null&&(p=Function.prototype);var m=Object.getOwnPropertyDescriptor(p,g);if(m===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:_(b,g,w)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(w)}},a=i(4),l=i(27),h=c(l);function c(_){return _&&_.__esModule?_:{default:_}}function f(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function u(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function d(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var v=["height","width"],y=function(_){d(p,_);function p(){return f(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(w,m){v.indexOf(w)>-1?m?this.domNode.setAttribute(w,m):this.domNode.removeAttribute(w):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,w,m)}}],[{key:"create",value:function(w){var m=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,w);return m.setAttribute("frameborder","0"),m.setAttribute("allowfullscreen",!0),m.setAttribute("src",this.sanitize(w)),m}},{key:"formats",value:function(w){return v.reduce(function(m,b){return w.hasAttribute(b)&&(m[b]=w.getAttribute(b)),m},{})}},{key:"sanitize",value:function(w){return h.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),p}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function w(m,b){for(var k=0;k<b.length;k++){var I=b[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(m,I.key,I)}}return function(m,b,k){return b&&w(m.prototype,b),k&&w(m,k),m}}(),s=function w(m,b,k){m===null&&(m=Function.prototype);var I=Object.getOwnPropertyDescriptor(m,b);if(I===void 0){var E=Object.getPrototypeOf(m);return E===null?void 0:w(E,b,k)}else{if("value"in I)return I.value;var O=I.get;return O===void 0?void 0:O.call(k)}},a=i(35),l=d(a),h=i(5),c=d(h),f=i(9),u=d(f);function d(w){return w&&w.__esModule?w:{default:w}}function v(w,m){if(!(w instanceof m))throw new TypeError("Cannot call a class as a function")}function y(w,m){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:w}function _(w,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);w.prototype=Object.create(m&&m.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(w,m):w.__proto__=m)}var p=function(w){_(m,w);function m(){return v(this,m),y(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"create",value:function(k){var I=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,I,{throwOnError:!1,errorColor:"#f00"}),I.setAttribute("data-value",k)),I}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),m}(l.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var g=function(w){_(m,w),o(m,null,[{key:"register",value:function(){c.default.register(p,!0)}}]);function m(){v(this,m);var b=y(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return b}return m}(u.default);r.FormulaBlot=p,r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function k(I,E){for(var O=0;O<E.length;O++){var T=E[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(I,T.key,T)}}return function(I,E,O){return E&&k(I.prototype,E),O&&k(I,O),I}}(),s=function k(I,E,O){I===null&&(I=Function.prototype);var T=Object.getOwnPropertyDescriptor(I,E);if(T===void 0){var S=Object.getPrototypeOf(I);return S===null?void 0:k(S,E,O)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(O)}},a=i(0),l=y(a),h=i(5),c=y(h),f=i(9),u=y(f),d=i(13),v=y(d);function y(k){return k&&k.__esModule?k:{default:k}}function _(k,I){if(!(k instanceof I))throw new TypeError("Cannot call a class as a function")}function p(k,I){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:k}function g(k,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);k.prototype=Object.create(I&&I.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(k,I):k.__proto__=I)}var w=function(k){g(I,k);function I(){return _(this,I),p(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),I}(v.default);w.className="ql-syntax";var m=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),b=function(k){g(I,k),o(I,null,[{key:"register",value:function(){c.default.register(m,!0),c.default.register(w,!0)}}]);function I(E,O){_(this,I);var T=p(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,E,O));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return T.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){T.highlight(),S=null},T.options.interval)}),T.highlight(),T}return o(I,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(S){S.highlight(O.options.highlight)}),this.quill.update(c.default.sources.SILENT),T!=null&&this.quill.setSelection(T,c.default.sources.SILENT)}}}]),I}(u.default);b.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var I=window.hljs.highlightAuto(k);return I.value}}(),interval:1e3},r.CodeBlock=w,r.CodeToken=m,r.default=b},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function I(E,O,T){E===null&&(E=Function.prototype);var S=Object.getOwnPropertyDescriptor(E,O);if(S===void 0){var A=Object.getPrototypeOf(E);return A===null?void 0:I(A,O,T)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(T)}},s=function(){function I(E,O){for(var T=0;T<O.length;T++){var S=O[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,O,T){return O&&I(E.prototype,O),T&&I(E,T),E}}(),a=i(3),l=_(a),h=i(8),c=_(h),f=i(43),u=_(f),d=i(15),v=i(41),y=_(v);function _(I){return I&&I.__esModule?I:{default:I}}function p(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function g(I,E){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:I}function w(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(I,E):I.__proto__=E)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(I){w(E,I);function E(O,T){p(this,E),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=m);var S=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O,T));return S.quill.container.classList.add("ql-bubble"),S}return s(E,[{key:"extendToolbar",value:function(T){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),y.default)}}]),E}(u.default);b.DEFAULTS=(0,l.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(I){w(E,I);function E(O,T){p(this,E);var S=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O,T));return S.quill.on(c.default.events.EDITOR_CHANGE,function(A,N,x,D){if(A===c.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&D===c.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var R=S.quill.getLines(N.index,N.length);if(R.length===1)S.position(S.quill.getBounds(N));else{var C=R[R.length-1],B=S.quill.getIndex(C),M=Math.min(C.length()-1,N.index+N.length-B),L=S.quill.getBounds(new d.Range(B,M));S.position(L)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return s(E,[{key:"listen",value:function(){var T=this;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var S=T.quill.getSelection();S!=null&&T.position(T.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var S=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,T),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",S===0)return S;A.style.marginLeft=-1*S-A.offsetWidth/2+"px"}}]),E}(f.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=k,r.default=b},function(n,r,i){n.exports=i(63)}]).default})})(dT);var $9=dT.exports,U9=Qt&&Qt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ic=Qt&&Qt.__assign||function(){return ic=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ic.apply(this,arguments)},j9=Qt&&Qt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},vf=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},On=vf(X),F9=vf(l_),gs=vf(M9),z1=vf($9),B9=function(t){U9(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var h,c,f,u;o==="text-change"?(c=(h=r).onEditorChangeText)===null||c===void 0||c.call(h,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((u=(f=r).onEditorChangeSelection)===null||u===void 0||u.call(f,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(On.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(On.default.Children.count(n.children)){var i=On.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),j9(this.cleanProps,this.dirtyProps).some(function(l){return!gs.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!gs.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var h=this.editor;h.setContents(o),V1(function(){return i.setEditorSelection(h,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new z1.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?gs.default(n.ops,r.ops):gs.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),V1(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=F9.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return On.default.Children.count(i)?On.default.cloneElement(On.default.Children.only(i),a):o?On.default.createElement("pre",ic({},a)):On.default.createElement("div",ic({},a))},e.prototype.render=function(){var n;return On.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,h,c;if(this.editor){var f=this.getEditorSelection(),u=!f&&n,d=f&&!n;gs.default(n,f)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),u?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):d&&((c=(h=this.props).onBlur)===null||c===void 0||c.call(h,f,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=z1.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(On.default.Component);function V1(t){Promise.resolve().then(t)}var q9=B9;const pT=W1(q9);let Cl;const z9=new Uint8Array(16);function V9(){if(!Cl&&(Cl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Cl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cl(z9)}const dt=[];for(let t=0;t<256;++t)dt.push((t+256).toString(16).slice(1));function H9(t,e=0){return(dt[t[e+0]]+dt[t[e+1]]+dt[t[e+2]]+dt[t[e+3]]+"-"+dt[t[e+4]]+dt[t[e+5]]+"-"+dt[t[e+6]]+dt[t[e+7]]+"-"+dt[t[e+8]]+dt[t[e+9]]+"-"+dt[t[e+10]]+dt[t[e+11]]+dt[t[e+12]]+dt[t[e+13]]+dt[t[e+14]]+dt[t[e+15]]).toLowerCase()}const K9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),H1={randomUUID:K9};function gT(t,e,n){if(H1.randomUUID&&!e&&!t)return H1.randomUUID();t=t||{};const r=t.random||(t.rng||V9)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return H9(r)}function W9(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function mT(t,e){return new Promise(function(n,r){let i;return G9(t).then(function(o){try{return i=o,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(s){return r(s)}},r)})}const G9=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let s=0;if(o.getUint16(s)!==65496)return n("not a valid JPEG");for(s+=2;;){const a=o.getUint16(s);if(a===65498)break;const l=o.getUint16(s+2);if(a===65505&&o.getUint32(s+4)===1165519206){const h=s+10;let c;switch(o.getUint16(h)){case 18761:c=!0;break;case 19789:c=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(h+2,c)!==42)return n("TIFF header contains invalid version");const f=o.getUint32(h+4,c),u=h+f+2+12*o.getUint16(h+f,c);for(let d=h+f+2;d<u;d+=12)if(o.getUint16(d,c)==274){if(o.getUint16(d+2,c)!==3)return n("Orientation data type is invalid");if(o.getUint32(d+4,c)!==1)return n("Orientation data count is invalid");o.setUint16(d+8,1,c);break}return e(i.slice(s,s+2+l))}s+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var oc={},Q9={get exports(){return oc},set exports(t){oc=t}};(function(t){var e,n,r={};Q9.exports=r,r.parse=function(i,o){for(var s=r.bin.readUshort,a=r.bin.readUint,l=0,h={},c=new Uint8Array(i),f=c.length-4;a(c,f)!=101010256;)f--;l=f,l+=4;var u=s(c,l+=4);s(c,l+=2);var d=a(c,l+=2),v=a(c,l+=4);l+=4,l=v;for(var y=0;y<u;y++){a(c,l),l+=4,l+=4,l+=4,a(c,l+=4),d=a(c,l+=4);var _=a(c,l+=4),p=s(c,l+=4),g=s(c,l+2),w=s(c,l+4);l+=6;var m=a(c,l+=8);l+=4,l+=p+g+w,r._readLocal(c,m,h,d,_,o)}return h},r._readLocal=function(i,o,s,a,l,h){var c=r.bin.readUshort,f=r.bin.readUint;f(i,o),c(i,o+=4),c(i,o+=2);var u=c(i,o+=2);f(i,o+=2),f(i,o+=4),o+=4;var d=c(i,o+=8),v=c(i,o+=2);o+=2;var y=r.bin.readUTF8(i,o,d);if(o+=d,o+=v,h)s[y]={size:l,csize:a};else{var _=new Uint8Array(i.buffer,o);if(u==0)s[y]=new Uint8Array(_.buffer.slice(o,o+a));else{if(u!=8)throw"unknown compression method: "+u;var p=new Uint8Array(l);r.inflateRaw(_,p),s[y]=p}}},r.inflateRaw=function(i,o){return r.F.inflate(i,o)},r.inflate=function(i,o){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},r.deflate=function(i,o){o==null&&(o={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[s]=120,a[s+1]=156,s+=2,s=r.F.deflateRaw(i,a,s,o.level);var l=r.adler(i,0,i.length);return a[s+0]=l>>>24&255,a[s+1]=l>>>16&255,a[s+2]=l>>>8&255,a[s+3]=l>>>0&255,new Uint8Array(a.buffer,0,s+4)},r.deflateRaw=function(i,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,s,a,o.level);return new Uint8Array(s.buffer,0,a)},r.encode=function(i,o){o==null&&(o=!1);var s=0,a=r.bin.writeUint,l=r.bin.writeUshort,h={};for(var c in i){var f=!r._noNeed(c)&&!o,u=i[c],d=r.crc.crc(u,0,u.length);h[c]={cpr:f,usize:u.length,crc:d,file:f?r.deflateRaw(u):u}}for(var c in h)s+=h[c].file.length+30+46+2*r.bin.sizeUTF8(c);s+=22;var v=new Uint8Array(s),y=0,_=[];for(var c in h){var p=h[c];_.push(y),y=r._writeHeader(v,y,c,p,0)}var g=0,w=y;for(var c in h)p=h[c],_.push(y),y=r._writeHeader(v,y,c,p,1,_[g++]);var m=y-w;return a(v,y,101010256),y+=4,l(v,y+=4,g),l(v,y+=2,g),a(v,y+=2,m),a(v,y+=4,w),y+=4,y+=2,v.buffer},r._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},r._writeHeader=function(i,o,s,a,l,h){var c=r.bin.writeUint,f=r.bin.writeUshort,u=a.file;return c(i,o,l==0?67324752:33639248),o+=4,l==1&&(o+=2),f(i,o,20),f(i,o+=2,0),f(i,o+=2,a.cpr?8:0),c(i,o+=2,0),c(i,o+=4,a.crc),c(i,o+=4,u.length),c(i,o+=4,a.usize),f(i,o+=4,r.bin.sizeUTF8(s)),f(i,o+=2,0),o+=2,l==1&&(o+=2,o+=2,c(i,o+=6,h),o+=4),o+=r.bin.writeUTF8(i,o,s),l==0&&(i.set(u,o),o+=u.length),o},r.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var s=o,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;i[o]=s}return i}(),update:function(i,o,s,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^o[s+l])]^i>>>8;return i},crc:function(i,o,s){return 4294967295^r.crc.update(4294967295,i,o,s)}},r.adler=function(i,o,s){for(var a=1,l=0,h=o,c=o+s;h<c;){for(var f=Math.min(h+5552,c);h<f;)l+=a+=i[h++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255,i[o+2]=s>>16&255,i[o+3]=s>>24&255},readASCII:function(i,o,s){for(var a="",l=0;l<s;l++)a+=String.fromCharCode(i[o+l]);return a},writeASCII:function(i,o,s){for(var a=0;a<s.length;a++)i[o+a]=s.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,s){for(var a,l="",h=0;h<s;h++)l+="%"+r.bin.pad(i[o+h].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,o,s)}return a},writeUTF8:function(i,o,s){for(var a=s.length,l=0,h=0;h<a;h++){var c=s.charCodeAt(h);if(!(4294967168&c))i[o+l]=c,l++;else if(!(4294965248&c))i[o+l]=192|c>>6,i[o+l+1]=128|c>>0&63,l+=2;else if(!(4294901760&c))i[o+l]=224|c>>12,i[o+l+1]=128|c>>6&63,i[o+l+2]=128|c>>0&63,l+=3;else{if(4292870144&c)throw"e";i[o+l]=240|c>>18,i[o+l+1]=128|c>>12&63,i[o+l+2]=128|c>>6&63,i[o+l+3]=128|c>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var o=i.length,s=0,a=0;a<o;a++){var l=i.charCodeAt(a);if(!(4294967168&l))s++;else if(!(4294965248&l))s+=2;else if(!(4294901760&l))s+=3;else{if(4292870144&l)throw"e";s+=4}}return s}},r.F={},r.F.deflateRaw=function(i,o,s,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],h=r.F.U,c=r.F._goodIndex;r.F._hash;var f=r.F._putsE,u=0,d=s<<3,v=0,y=i.length;if(a==0){for(;u<y;)f(o,d,u+(S=Math.min(65535,y-u))==y?1:0),d=r.F._copyExact(i,u,S,o,d+8),u+=S;return d>>>3}var _=h.lits,p=h.strt,g=h.prev,w=0,m=0,b=0,k=0,I=0,E=0;for(y>2&&(p[E=r.F._hash(i,0)]=0),u=0;u<y;u++){if(I=E,u+1<y-2){E=r.F._hash(i,u+1);var O=u+1&32767;g[O]=p[E],p[E]=O}if(v<=u){(w>14e3||m>26697)&&y-u>100&&(v<u&&(_[w]=u-v,w+=2,v=u),d=r.F._writeBlock(u==y-1||v==y?1:0,_,w,k,i,b,u-b,o,d),w=m=k=0,b=u);var T=0;u<y-2&&(T=r.F._bestMatch(i,u,g,I,Math.min(l[2],y-u),l[3]));var S=T>>>16,A=65535&T;if(T!=0){A=65535&T;var N=c(S=T>>>16,h.of0);h.lhst[257+N]++;var x=c(A,h.df0);h.dhst[x]++,k+=h.exb[N]+h.dxb[x],_[w]=S<<23|u-v,_[w+1]=A<<16|N<<8|x,w+=2,v=u+S}else h.lhst[i[u]]++;m++}}for(b==u&&i.length!=0||(v<u&&(_[w]=u-v,w+=2,v=u),d=r.F._writeBlock(1,_,w,k,i,b,u-b,o,d),w=0,m=0,w=m=k=0,b=u);7&d;)d++;return d>>>3},r.F._bestMatch=function(i,o,s,a,l,h){var c=32767&o,f=s[c],u=c-f+32768&32767;if(f==c||a!=r.F._hash(i,o-u))return 0;for(var d=0,v=0,y=Math.min(32767,o);u<=y&&--h!=0&&f!=c;){if(d==0||i[o+d]==i[o+d-u]){var _=r.F._howLong(i,o,u);if(_>d){if(v=u,(d=_)>=l)break;u+2<_&&(_=u+2);for(var p=0,g=0;g<_-2;g++){var w=o-u+g+32768&32767,m=w-s[w]+32768&32767;m>p&&(p=m,f=w)}}}u+=(c=f)-(f=s[c])+32768&32767}return d<<16|v},r.F._howLong=function(i,o,s){if(i[o]!=i[o-s]||i[o+1]!=i[o+1-s]||i[o+2]!=i[o+2-s])return 0;var a=o,l=Math.min(i.length,o+258);for(o+=3;o<l&&i[o]==i[o-s];)o++;return o-a},r.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,o,s,a,l,h,c,f,u){var d,v,y,_,p,g,w,m,b,k=r.F.U,I=r.F._putsF,E=r.F._putsE;k.lhst[256]++,v=(d=r.F.getTrees())[0],y=d[1],_=d[2],p=d[3],g=d[4],w=d[5],m=d[6],b=d[7];var O=32+(u+3&7?8-(u+3&7):0)+(c<<3),T=a+r.F.contSize(k.fltree,k.lhst)+r.F.contSize(k.fdtree,k.dhst),S=a+r.F.contSize(k.ltree,k.lhst)+r.F.contSize(k.dtree,k.dhst);S+=14+3*w+r.F.contSize(k.itree,k.ihst)+(2*k.ihst[16]+3*k.ihst[17]+7*k.ihst[18]);for(var A=0;A<286;A++)k.lhst[A]=0;for(A=0;A<30;A++)k.dhst[A]=0;for(A=0;A<19;A++)k.ihst[A]=0;var N=O<T&&O<S?0:T<S?1:2;if(I(f,u,i),I(f,u+1,N),u+=3,N==0){for(;7&u;)u++;u=r.F._copyExact(l,h,c,f,u)}else{var x,D;if(N==1&&(x=k.fltree,D=k.fdtree),N==2){r.F.makeCodes(k.ltree,v),r.F.revCodes(k.ltree,v),r.F.makeCodes(k.dtree,y),r.F.revCodes(k.dtree,y),r.F.makeCodes(k.itree,_),r.F.revCodes(k.itree,_),x=k.ltree,D=k.dtree,E(f,u,p-257),E(f,u+=5,g-1),E(f,u+=5,w-4),u+=4;for(var R=0;R<w;R++)E(f,u+3*R,k.itree[1+(k.ordr[R]<<1)]);u+=3*w,u=r.F._codeTiny(m,k.itree,f,u),u=r.F._codeTiny(b,k.itree,f,u)}for(var C=h,B=0;B<s;B+=2){for(var M=o[B],L=M>>>23,P=C+(8388607&M);C<P;)u=r.F._writeLit(l[C++],x,f,u);if(L!=0){var $=o[B+1],j=$>>16,q=$>>8&255,F=255&$;E(f,u=r.F._writeLit(257+q,x,f,u),L-k.of0[q]),u+=k.exb[q],I(f,u=r.F._writeLit(F,D,f,u),j-k.df0[F]),u+=k.dxb[F],C+=L}}u=r.F._writeLit(256,x,f,u)}return u},r.F._copyExact=function(i,o,s,a,l){var h=l>>>3;return a[h]=s,a[h+1]=s>>>8,a[h+2]=255-a[h],a[h+3]=255-a[h+1],h+=4,a.set(new Uint8Array(i.buffer,o,s),h),l+(s+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,o=r.F._hufTree(i.lhst,i.ltree,15),s=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),h=[],c=r.F._lenCodes(i.dtree,h),f=0;f<a.length;f+=2)i.ihst[a[f]]++;for(f=0;f<h.length;f+=2)i.ihst[h[f]]++;for(var u=r.F._hufTree(i.ihst,i.itree,7),d=19;d>4&&i.itree[1+(i.ordr[d-1]<<1)]==0;)d--;return[o,s,u,l,c,d,a,h]},r.F.getSecond=function(i){for(var o=[],s=0;s<i.length;s+=2)o.push(i[s+1]);return o},r.F.nonZero=function(i){for(var o="",s=0;s<i.length;s+=2)i[s+1]!=0&&(o+=(s>>1)+",");return o},r.F.contSize=function(i,o){for(var s=0,a=0;a<o.length;a++)s+=o[a]*i[1+(a<<1)];return s},r.F._codeTiny=function(i,o,s,a){for(var l=0;l<i.length;l+=2){var h=i[l],c=i[l+1];a=r.F._writeLit(h,o,s,a);var f=h==16?2:h==17?3:7;h>15&&(r.F._putsE(s,a,c,f),a+=f)}return a},r.F._lenCodes=function(i,o){for(var s=i.length;s!=2&&i[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var l=i[a+1],h=a+3<s?i[a+3]:-1,c=a+5<s?i[a+5]:-1,f=a==0?-1:i[a-1];if(l==0&&h==l&&c==l){for(var u=a+5;u+2<s&&i[u+2]==l;)u+=2;(d=Math.min(u+1-a>>>1,138))<11?o.push(17,d-3):o.push(18,d-11),a+=2*d-2}else if(l==f&&h==l&&c==l){for(u=a+5;u+2<s&&i[u+2]==l;)u+=2;var d=Math.min(u+1-a>>>1,6);o.push(16,d-3),a+=2*d-2}else o.push(l,0)}return s>>>1},r.F._hufTree=function(i,o,s){var a=[],l=i.length,h=o.length,c=0;for(c=0;c<h;c+=2)o[c]=0,o[c+1]=0;for(c=0;c<l;c++)i[c]!=0&&a.push({lit:c,f:i[c]});var f=a.length,u=a.slice(0);if(f==0)return 0;if(f==1){var d=a[0].lit;return u=d==0?1:0,o[1+(d<<1)]=1,o[1+(u<<1)]=1,1}a.sort(function(m,b){return m.f-b.f});var v=a[0],y=a[1],_=0,p=1,g=2;for(a[0]={lit:-1,f:v.f+y.f,l:v,r:y,d:0};p!=f-1;)v=_!=p&&(g==f||a[_].f<a[g].f)?a[_++]:a[g++],y=_!=p&&(g==f||a[_].f<a[g].f)?a[_++]:a[g++],a[p++]={lit:-1,f:v.f+y.f,l:v,r:y};var w=r.F.setDepth(a[p-1],0);for(w>s&&(r.F.restrictDepth(u,s,w),w=s),c=0;c<f;c++)o[1+(u[c].lit<<1)]=u[c].d;return w},r.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(r.F.setDepth(i.l,o+1),r.F.setDepth(i.r,o+1))},r.F.restrictDepth=function(i,o,s){var a=0,l=1<<s-o,h=0;for(i.sort(function(f,u){return u.d==f.d?f.f-u.f:u.d-f.d}),a=0;a<i.length&&i[a].d>o;a++){var c=i[a].d;i[a].d=o,h+=l-(1<<s-c)}for(h>>>=s-o;h>0;)(c=i[a].d)<o?(i[a].d++,h-=1<<o-c-1):a++;for(;a>=0;a--)i[a].d==o&&h<0&&(i[a].d--,h++);h!=0&&console.log("debt left")},r.F._goodIndex=function(i,o){var s=0;return o[16|s]<=i&&(s|=16),o[8|s]<=i&&(s|=8),o[4|s]<=i&&(s|=4),o[2|s]<=i&&(s|=2),o[1|s]<=i&&(s|=1),s},r.F._writeLit=function(i,o,s,a){return r.F._putsF(s,a,o[i<<1]),a+o[1+(i<<1)]},r.F.inflate=function(i,o){var s=Uint8Array;if(i[0]==3&&i[1]==0)return o||new s(0);var a=r.F,l=a._bitsF,h=a._bitsE,c=a._decodeTiny,f=a.makeCodes,u=a.codes2map,d=a._get17,v=a.U,y=o==null;y&&(o=new s(i.length>>>2<<3));for(var _,p,g=0,w=0,m=0,b=0,k=0,I=0,E=0,O=0,T=0;g==0;)if(g=l(i,T,1),w=l(i,T+1,2),T+=3,w!=0){if(y&&(o=r.F._check(o,O+(1<<17))),w==1&&(_=v.flmap,p=v.fdmap,I=511,E=31),w==2){m=h(i,T,5)+257,b=h(i,T+5,5)+1,k=h(i,T+10,4)+4,T+=14;for(var S=0;S<38;S+=2)v.itree[S]=0,v.itree[S+1]=0;var A=1;for(S=0;S<k;S++){var N=h(i,T+3*S,3);v.itree[1+(v.ordr[S]<<1)]=N,N>A&&(A=N)}T+=3*k,f(v.itree,A),u(v.itree,A,v.imap),_=v.lmap,p=v.dmap,T=c(v.imap,(1<<A)-1,m+b,i,T,v.ttree);var x=a._copyOut(v.ttree,0,m,v.ltree);I=(1<<x)-1;var D=a._copyOut(v.ttree,m,b,v.dtree);E=(1<<D)-1,f(v.ltree,x),u(v.ltree,x,_),f(v.dtree,D),u(v.dtree,D,p)}for(;;){var R=_[d(i,T)&I];T+=15&R;var C=R>>>4;if(!(C>>>8))o[O++]=C;else{if(C==256)break;var B=O+C-254;if(C>264){var M=v.ldef[C-257];B=O+(M>>>3)+h(i,T,7&M),T+=7&M}var L=p[d(i,T)&E];T+=15&L;var P=L>>>4,$=v.ddef[P],j=($>>>4)+l(i,T,15&$);for(T+=15&$,y&&(o=r.F._check(o,O+(1<<17)));O<B;)o[O]=o[O++-j],o[O]=o[O++-j],o[O]=o[O++-j],o[O]=o[O++-j];O=B}}}else{7&T&&(T+=8-(7&T));var q=4+(T>>>3),F=i[q-4]|i[q-3]<<8;y&&(o=r.F._check(o,O+F)),o.set(new s(i.buffer,i.byteOffset+q,F),O),T=q+F<<3,O+=F}return o.length==O?o:o.slice(0,O)},r.F._check=function(i,o){var s=i.length;if(o<=s)return i;var a=new Uint8Array(Math.max(s<<1,o));return a.set(i,0),a},r.F._decodeTiny=function(i,o,s,a,l,h){for(var c=r.F._bitsE,f=r.F._get17,u=0;u<s;){var d=i[f(a,l)&o];l+=15&d;var v=d>>>4;if(v<=15)h[u]=v,u++;else{var y=0,_=0;v==16?(_=3+c(a,l,2),l+=2,y=h[u-1]):v==17?(_=3+c(a,l,3),l+=3):v==18&&(_=11+c(a,l,7),l+=7);for(var p=u+_;u<p;)h[u]=y,u++}}return l},r.F._copyOut=function(i,o,s,a){for(var l=0,h=0,c=a.length>>>1;h<s;){var f=i[h+o];a[h<<1]=0,a[1+(h<<1)]=f,f>l&&(l=f),h++}for(;h<c;)a[h<<1]=0,a[1+(h<<1)]=0,h++;return l},r.F.makeCodes=function(i,o){for(var s,a,l,h,c=r.F.U,f=i.length,u=c.bl_count,d=0;d<=o;d++)u[d]=0;for(d=1;d<f;d+=2)u[i[d]]++;var v=c.next_code;for(s=0,u[0]=0,a=1;a<=o;a++)s=s+u[a-1]<<1,v[a]=s;for(l=0;l<f;l+=2)(h=i[l+1])!=0&&(i[l]=v[h],v[h]++)},r.F.codes2map=function(i,o,s){for(var a=i.length,l=r.F.U.rev15,h=0;h<a;h+=2)if(i[h+1]!=0)for(var c=h>>1,f=i[h+1],u=c<<4|f,d=o-f,v=i[h]<<d,y=v+(1<<d);v!=y;)s[l[v]>>>15-o]=u,v++},r.F.revCodes=function(i,o){for(var s=r.F.U.rev15,a=15-o,l=0;l<i.length;l+=2){var h=i[l]<<o-i[l+1];i[l]=s[h]>>>a}},r.F._putsE=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8},r.F._putsF=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8,i[a+2]|=s>>>16},r.F._bitsE=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},r.F._bitsF=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},r.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},r.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,i.rev15[o]=(s>>>16|s<<16)>>>17}function a(l,h,c){for(;h--!=0;)l.push(0,c)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var Y9=W9({__proto__:null,default:oc},[oc]);const gn=function(){var t={nextZero(c,f){for(;c[f]!=0;)f++;return f},readUshort:(c,f)=>c[f]<<8|c[f+1],writeUshort(c,f,u){c[f]=u>>8&255,c[f+1]=255&u},readUint:(c,f)=>16777216*c[f]+(c[f+1]<<16|c[f+2]<<8|c[f+3]),writeUint(c,f,u){c[f]=u>>24&255,c[f+1]=u>>16&255,c[f+2]=u>>8&255,c[f+3]=255&u},readASCII(c,f,u){let d="";for(let v=0;v<u;v++)d+=String.fromCharCode(c[f+v]);return d},writeASCII(c,f,u){for(let d=0;d<u.length;d++)c[f+d]=u.charCodeAt(d)},readBytes(c,f,u){const d=[];for(let v=0;v<u;v++)d.push(c[f+v]);return d},pad:c=>c.length<2?`0${c}`:c,readUTF8(c,f,u){let d,v="";for(let y=0;y<u;y++)v+=`%${t.pad(c[f+y].toString(16))}`;try{d=decodeURIComponent(v)}catch{return t.readASCII(c,f,u)}return d}};function e(c,f,u,d){const v=f*u,y=o(d),_=Math.ceil(f*y/8),p=new Uint8Array(4*v),g=new Uint32Array(p.buffer),{ctype:w}=d,{depth:m}=d,b=t.readUshort;if(w==6){const M=v<<2;if(m==8)for(var k=0;k<M;k+=4)p[k]=c[k],p[k+1]=c[k+1],p[k+2]=c[k+2],p[k+3]=c[k+3];if(m==16)for(k=0;k<M;k++)p[k]=c[k<<1]}else if(w==2){const M=d.tabs.tRNS;if(M==null){if(m==8)for(k=0;k<v;k++){var I=3*k;g[k]=255<<24|c[I+2]<<16|c[I+1]<<8|c[I]}if(m==16)for(k=0;k<v;k++)I=6*k,g[k]=255<<24|c[I+4]<<16|c[I+2]<<8|c[I]}else{var E=M[0];const L=M[1],P=M[2];if(m==8)for(k=0;k<v;k++){var O=k<<2;I=3*k,g[k]=255<<24|c[I+2]<<16|c[I+1]<<8|c[I],c[I]==E&&c[I+1]==L&&c[I+2]==P&&(p[O+3]=0)}if(m==16)for(k=0;k<v;k++)O=k<<2,I=6*k,g[k]=255<<24|c[I+4]<<16|c[I+2]<<8|c[I],b(c,I)==E&&b(c,I+2)==L&&b(c,I+4)==P&&(p[O+3]=0)}}else if(w==3){const M=d.tabs.PLTE,L=d.tabs.tRNS,P=L?L.length:0;if(m==1)for(var T=0;T<u;T++){var S=T*_,A=T*f;for(k=0;k<f;k++){O=A+k<<2;var N=3*(x=c[S+(k>>3)]>>7-((7&k)<<0)&1);p[O]=M[N],p[O+1]=M[N+1],p[O+2]=M[N+2],p[O+3]=x<P?L[x]:255}}if(m==2)for(T=0;T<u;T++)for(S=T*_,A=T*f,k=0;k<f;k++)O=A+k<<2,N=3*(x=c[S+(k>>2)]>>6-((3&k)<<1)&3),p[O]=M[N],p[O+1]=M[N+1],p[O+2]=M[N+2],p[O+3]=x<P?L[x]:255;if(m==4)for(T=0;T<u;T++)for(S=T*_,A=T*f,k=0;k<f;k++)O=A+k<<2,N=3*(x=c[S+(k>>1)]>>4-((1&k)<<2)&15),p[O]=M[N],p[O+1]=M[N+1],p[O+2]=M[N+2],p[O+3]=x<P?L[x]:255;if(m==8)for(k=0;k<v;k++){var x;O=k<<2,N=3*(x=c[k]),p[O]=M[N],p[O+1]=M[N+1],p[O+2]=M[N+2],p[O+3]=x<P?L[x]:255}}else if(w==4){if(m==8)for(k=0;k<v;k++){O=k<<2;var D=c[R=k<<1];p[O]=D,p[O+1]=D,p[O+2]=D,p[O+3]=c[R+1]}if(m==16)for(k=0;k<v;k++){var R;O=k<<2,D=c[R=k<<2],p[O]=D,p[O+1]=D,p[O+2]=D,p[O+3]=c[R+2]}}else if(w==0)for(E=d.tabs.tRNS?d.tabs.tRNS:-1,T=0;T<u;T++){const M=T*_,L=T*f;if(m==1)for(var C=0;C<f;C++){var B=(D=255*(c[M+(C>>>3)]>>>7-(7&C)&1))==255*E?0:255;g[L+C]=B<<24|D<<16|D<<8|D}else if(m==2)for(C=0;C<f;C++)B=(D=85*(c[M+(C>>>2)]>>>6-((3&C)<<1)&3))==85*E?0:255,g[L+C]=B<<24|D<<16|D<<8|D;else if(m==4)for(C=0;C<f;C++)B=(D=17*(c[M+(C>>>1)]>>>4-((1&C)<<2)&15))==17*E?0:255,g[L+C]=B<<24|D<<16|D<<8|D;else if(m==8)for(C=0;C<f;C++)B=(D=c[M+C])==E?0:255,g[L+C]=B<<24|D<<16|D<<8|D;else if(m==16)for(C=0;C<f;C++)D=c[M+(C<<1)],B=b(c,M+(C<<1))==E?0:255,g[L+C]=B<<24|D<<16|D<<8|D}return p}function n(c,f,u,d){const v=o(c),y=Math.ceil(u*v/8),_=new Uint8Array((y+1+c.interlace)*d);return f=c.tabs.CgBI?i(f,_):r(f,_),c.interlace==0?f=s(f,c,0,u,d):c.interlace==1&&(f=function(g,w){const m=w.width,b=w.height,k=o(w),I=k>>3,E=Math.ceil(m*k/8),O=new Uint8Array(b*E);let T=0;const S=[0,0,4,0,2,0,1],A=[0,4,0,2,0,1,0],N=[8,8,8,4,4,2,2],x=[8,8,4,4,2,2,1];let D=0;for(;D<7;){const C=N[D],B=x[D];let M=0,L=0,P=S[D];for(;P<b;)P+=C,L++;let $=A[D];for(;$<m;)$+=B,M++;const j=Math.ceil(M*k/8);s(g,w,T,M,L);let q=0,F=S[D];for(;F<b;){let U=A[D],z=T+q*j<<3;for(;U<m;){var R;if(k==1&&(R=(R=g[z>>3])>>7-(7&z)&1,O[F*E+(U>>3)]|=R<<7-((7&U)<<0)),k==2&&(R=(R=g[z>>3])>>6-(7&z)&3,O[F*E+(U>>2)]|=R<<6-((3&U)<<1)),k==4&&(R=(R=g[z>>3])>>4-(7&z)&15,O[F*E+(U>>1)]|=R<<4-((1&U)<<2)),k>=8){const H=F*E+U*I;for(let V=0;V<I;V++)O[H+V]=g[(z>>3)+V]}z+=k,U+=B}q++,F+=C}M*L!=0&&(T+=L*(1+j)),D+=1}return O}(f,c)),f}function r(c,f){return i(new Uint8Array(c.buffer,2,c.length-6),f)}var i=function(){const c={H:{}};return c.H.N=function(f,u){const d=Uint8Array;let v,y,_=0,p=0,g=0,w=0,m=0,b=0,k=0,I=0,E=0;if(f[0]==3&&f[1]==0)return u||new d(0);const O=c.H,T=O.b,S=O.e,A=O.R,N=O.n,x=O.A,D=O.Z,R=O.m,C=u==null;for(C&&(u=new d(f.length>>>2<<5));_==0;)if(_=T(f,E,1),p=T(f,E+1,2),E+=3,p!=0){if(C&&(u=c.H.W(u,I+(1<<17))),p==1&&(v=R.J,y=R.h,b=511,k=31),p==2){g=S(f,E,5)+257,w=S(f,E+5,5)+1,m=S(f,E+10,4)+4,E+=14;let M=1;for(var B=0;B<38;B+=2)R.Q[B]=0,R.Q[B+1]=0;for(B=0;B<m;B++){const $=S(f,E+3*B,3);R.Q[1+(R.X[B]<<1)]=$,$>M&&(M=$)}E+=3*m,N(R.Q,M),x(R.Q,M,R.u),v=R.w,y=R.d,E=A(R.u,(1<<M)-1,g+w,f,E,R.v);const L=O.V(R.v,0,g,R.C);b=(1<<L)-1;const P=O.V(R.v,g,w,R.D);k=(1<<P)-1,N(R.C,L),x(R.C,L,v),N(R.D,P),x(R.D,P,y)}for(;;){const M=v[D(f,E)&b];E+=15&M;const L=M>>>4;if(!(L>>>8))u[I++]=L;else{if(L==256)break;{let P=I+L-254;if(L>264){const U=R.q[L-257];P=I+(U>>>3)+S(f,E,7&U),E+=7&U}const $=y[D(f,E)&k];E+=15&$;const j=$>>>4,q=R.c[j],F=(q>>>4)+T(f,E,15&q);for(E+=15&q;I<P;)u[I]=u[I++-F],u[I]=u[I++-F],u[I]=u[I++-F],u[I]=u[I++-F];I=P}}}}else{7&E&&(E+=8-(7&E));const M=4+(E>>>3),L=f[M-4]|f[M-3]<<8;C&&(u=c.H.W(u,I+L)),u.set(new d(f.buffer,f.byteOffset+M,L),I),E=M+L<<3,I+=L}return u.length==I?u:u.slice(0,I)},c.H.W=function(f,u){const d=f.length;if(u<=d)return f;const v=new Uint8Array(d<<1);return v.set(f,0),v},c.H.R=function(f,u,d,v,y,_){const p=c.H.e,g=c.H.Z;let w=0;for(;w<d;){const m=f[g(v,y)&u];y+=15&m;const b=m>>>4;if(b<=15)_[w]=b,w++;else{let k=0,I=0;b==16?(I=3+p(v,y,2),y+=2,k=_[w-1]):b==17?(I=3+p(v,y,3),y+=3):b==18&&(I=11+p(v,y,7),y+=7);const E=w+I;for(;w<E;)_[w]=k,w++}}return y},c.H.V=function(f,u,d,v){let y=0,_=0;const p=v.length>>>1;for(;_<d;){const g=f[_+u];v[_<<1]=0,v[1+(_<<1)]=g,g>y&&(y=g),_++}for(;_<p;)v[_<<1]=0,v[1+(_<<1)]=0,_++;return y},c.H.n=function(f,u){const d=c.H.m,v=f.length;let y,_,p,g;const w=d.j;for(var m=0;m<=u;m++)w[m]=0;for(m=1;m<v;m+=2)w[f[m]]++;const b=d.K;for(y=0,w[0]=0,_=1;_<=u;_++)y=y+w[_-1]<<1,b[_]=y;for(p=0;p<v;p+=2)g=f[p+1],g!=0&&(f[p]=b[g],b[g]++)},c.H.A=function(f,u,d){const v=f.length,y=c.H.m.r;for(let _=0;_<v;_+=2)if(f[_+1]!=0){const p=_>>1,g=f[_+1],w=p<<4|g,m=u-g;let b=f[_]<<m;const k=b+(1<<m);for(;b!=k;)d[y[b]>>>15-u]=w,b++}},c.H.l=function(f,u){const d=c.H.m.r,v=15-u;for(let y=0;y<f.length;y+=2){const _=f[y]<<u-f[y+1];f[y]=d[_]>>>v}},c.H.M=function(f,u,d){d<<=7&u;const v=u>>>3;f[v]|=d,f[v+1]|=d>>>8},c.H.I=function(f,u,d){d<<=7&u;const v=u>>>3;f[v]|=d,f[v+1]|=d>>>8,f[v+2]|=d>>>16},c.H.e=function(f,u,d){return(f[u>>>3]|f[1+(u>>>3)]<<8)>>>(7&u)&(1<<d)-1},c.H.b=function(f,u,d){return(f[u>>>3]|f[1+(u>>>3)]<<8|f[2+(u>>>3)]<<16)>>>(7&u)&(1<<d)-1},c.H.Z=function(f,u){return(f[u>>>3]|f[1+(u>>>3)]<<8|f[2+(u>>>3)]<<16)>>>(7&u)},c.H.i=function(f,u){return(f[u>>>3]|f[1+(u>>>3)]<<8|f[2+(u>>>3)]<<16|f[3+(u>>>3)]<<24)>>>(7&u)},c.H.m=function(){const f=Uint16Array,u=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new u(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new u(286),Y:new u(30),a:new u(19),t:new u(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=c.H.m;for(var u=0;u<32768;u++){let v=u;v=(2863311530&v)>>>1|(1431655765&v)<<1,v=(3435973836&v)>>>2|(858993459&v)<<2,v=(4042322160&v)>>>4|(252645135&v)<<4,v=(4278255360&v)>>>8|(16711935&v)<<8,f.r[u]=(v>>>16|v<<16)>>>17}function d(v,y,_){for(;y--!=0;)v.push(0,_)}for(u=0;u<32;u++)f.q[u]=f.S[u]<<3|f.T[u],f.c[u]=f.p[u]<<4|f.z[u];d(f._,144,8),d(f._,112,9),d(f._,24,7),d(f._,8,8),c.H.n(f._,9),c.H.A(f._,9,f.J),c.H.l(f._,9),d(f.$,32,5),c.H.n(f.$,5),c.H.A(f.$,5,f.h),c.H.l(f.$,5),d(f.Q,19,0),d(f.C,286,0),d(f.D,30,0),d(f.v,320,0)}(),c.H.N}();function o(c){return[1,null,3,1,2,null,4][c.ctype]*c.depth}function s(c,f,u,d,v){let y=o(f);const _=Math.ceil(d*y/8);let p,g;y=Math.ceil(y/8);let w=c[u],m=0;if(w>1&&(c[u]=[0,0,1][w-2]),w==3)for(m=y;m<_;m++)c[m+1]=c[m+1]+(c[m+1-y]>>>1)&255;for(let b=0;b<v;b++)if(p=u+b*_,g=p+b+1,w=c[g-1],m=0,w==0)for(;m<_;m++)c[p+m]=c[g+m];else if(w==1){for(;m<y;m++)c[p+m]=c[g+m];for(;m<_;m++)c[p+m]=c[g+m]+c[p+m-y]}else if(w==2)for(;m<_;m++)c[p+m]=c[g+m]+c[p+m-_];else if(w==3){for(;m<y;m++)c[p+m]=c[g+m]+(c[p+m-_]>>>1);for(;m<_;m++)c[p+m]=c[g+m]+(c[p+m-_]+c[p+m-y]>>>1)}else{for(;m<y;m++)c[p+m]=c[g+m]+a(0,c[p+m-_],0);for(;m<_;m++)c[p+m]=c[g+m]+a(c[p+m-y],c[p+m-_],c[p+m-y-_])}return c}function a(c,f,u){const d=c+f-u,v=d-c,y=d-f,_=d-u;return v*v<=y*y&&v*v<=_*_?c:y*y<=_*_?f:u}function l(c,f,u){u.width=t.readUint(c,f),f+=4,u.height=t.readUint(c,f),f+=4,u.depth=c[f],f++,u.ctype=c[f],f++,u.compress=c[f],f++,u.filter=c[f],f++,u.interlace=c[f],f++}function h(c,f,u,d,v,y,_,p,g){const w=Math.min(f,v),m=Math.min(u,y);let b=0,k=0;for(let D=0;D<m;D++)for(let R=0;R<w;R++)if(_>=0&&p>=0?(b=D*f+R<<2,k=(p+D)*v+_+R<<2):(b=(-p+D)*f-_+R<<2,k=D*v+R<<2),g==0)d[k]=c[b],d[k+1]=c[b+1],d[k+2]=c[b+2],d[k+3]=c[b+3];else if(g==1){var I=c[b+3]*.00392156862745098,E=c[b]*I,O=c[b+1]*I,T=c[b+2]*I,S=d[k+3]*(1/255),A=d[k]*S,N=d[k+1]*S,x=d[k+2]*S;const C=1-I,B=I+S*C,M=B==0?0:1/B;d[k+3]=255*B,d[k+0]=(E+A*C)*M,d[k+1]=(O+N*C)*M,d[k+2]=(T+x*C)*M}else if(g==2)I=c[b+3],E=c[b],O=c[b+1],T=c[b+2],S=d[k+3],A=d[k],N=d[k+1],x=d[k+2],I==S&&E==A&&O==N&&T==x?(d[k]=0,d[k+1]=0,d[k+2]=0,d[k+3]=0):(d[k]=E,d[k+1]=O,d[k+2]=T,d[k+3]=I);else if(g==3){if(I=c[b+3],E=c[b],O=c[b+1],T=c[b+2],S=d[k+3],A=d[k],N=d[k+1],x=d[k+2],I==S&&E==A&&O==N&&T==x)continue;if(I<220&&S>20)return!1}return!0}return{decode:function(f){const u=new Uint8Array(f);let d=8;const v=t,y=v.readUshort,_=v.readUint,p={tabs:{},frames:[]},g=new Uint8Array(u.length);let w,m=0,b=0;const k=[137,80,78,71,13,10,26,10];for(var I=0;I<8;I++)if(u[I]!=k[I])throw"The input is not a PNG file!";for(;d<u.length;){const D=v.readUint(u,d);d+=4;const R=v.readASCII(u,d,4);if(d+=4,R=="IHDR")l(u,d,p);else if(R=="iCCP"){for(var E=d;u[E]!=0;)E++;v.readASCII(u,d,E-d),u[E+1];const C=u.slice(E+2,d+D);let B=null;try{B=r(C)}catch{B=i(C)}p.tabs[R]=B}else if(R=="CgBI")p.tabs[R]=u.slice(d,d+4);else if(R=="IDAT"){for(I=0;I<D;I++)g[m+I]=u[d+I];m+=D}else if(R=="acTL")p.tabs[R]={num_frames:_(u,d),num_plays:_(u,d+4)},w=new Uint8Array(u.length);else if(R=="fcTL"){b!=0&&((x=p.frames[p.frames.length-1]).data=n(p,w.slice(0,b),x.rect.width,x.rect.height),b=0);const C={x:_(u,d+12),y:_(u,d+16),width:_(u,d+4),height:_(u,d+8)};let B=y(u,d+22);B=y(u,d+20)/(B==0?100:B);const M={rect:C,delay:Math.round(1e3*B),dispose:u[d+24],blend:u[d+25]};p.frames.push(M)}else if(R=="fdAT"){for(I=0;I<D-4;I++)w[b+I]=u[d+I+4];b+=D-4}else if(R=="pHYs")p.tabs[R]=[v.readUint(u,d),v.readUint(u,d+4),u[d+8]];else if(R=="cHRM")for(p.tabs[R]=[],I=0;I<8;I++)p.tabs[R].push(v.readUint(u,d+4*I));else if(R=="tEXt"||R=="zTXt"){p.tabs[R]==null&&(p.tabs[R]={});var O=v.nextZero(u,d),T=v.readASCII(u,d,O-d),S=d+D-O-1;if(R=="tEXt")N=v.readASCII(u,O+1,S);else{var A=r(u.slice(O+2,O+2+S));N=v.readUTF8(A,0,A.length)}p.tabs[R][T]=N}else if(R=="iTXt"){p.tabs[R]==null&&(p.tabs[R]={}),O=0,E=d,O=v.nextZero(u,E),T=v.readASCII(u,E,O-E);const C=u[E=O+1];var N;u[E+1],E+=2,O=v.nextZero(u,E),v.readASCII(u,E,O-E),E=O+1,O=v.nextZero(u,E),v.readUTF8(u,E,O-E),S=D-((E=O+1)-d),C==0?N=v.readUTF8(u,E,S):(A=r(u.slice(E,E+S)),N=v.readUTF8(A,0,A.length)),p.tabs[R][T]=N}else if(R=="PLTE")p.tabs[R]=v.readBytes(u,d,D);else if(R=="hIST"){const C=p.tabs.PLTE.length/3;for(p.tabs[R]=[],I=0;I<C;I++)p.tabs[R].push(y(u,d+2*I))}else if(R=="tRNS")p.ctype==3?p.tabs[R]=v.readBytes(u,d,D):p.ctype==0?p.tabs[R]=y(u,d):p.ctype==2&&(p.tabs[R]=[y(u,d),y(u,d+2),y(u,d+4)]);else if(R=="gAMA")p.tabs[R]=v.readUint(u,d)/1e5;else if(R=="sRGB")p.tabs[R]=u[d];else if(R=="bKGD")p.ctype==0||p.ctype==4?p.tabs[R]=[y(u,d)]:p.ctype==2||p.ctype==6?p.tabs[R]=[y(u,d),y(u,d+2),y(u,d+4)]:p.ctype==3&&(p.tabs[R]=u[d]);else if(R=="IEND")break;d+=D,v.readUint(u,d),d+=4}var x;return b!=0&&((x=p.frames[p.frames.length-1]).data=n(p,w.slice(0,b),x.rect.width,x.rect.height)),p.data=n(p,g,p.width,p.height),delete p.compress,delete p.interlace,delete p.filter,p},toRGBA8:function(f){const u=f.width,d=f.height;if(f.tabs.acTL==null)return[e(f.data,u,d,f).buffer];const v=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const y=u*d*4,_=new Uint8Array(y),p=new Uint8Array(y),g=new Uint8Array(y);for(let m=0;m<f.frames.length;m++){const b=f.frames[m],k=b.rect.x,I=b.rect.y,E=b.rect.width,O=b.rect.height,T=e(b.data,E,O,f);if(m!=0)for(var w=0;w<y;w++)g[w]=_[w];if(b.blend==0?h(T,E,O,_,u,d,k,I,0):b.blend==1&&h(T,E,O,_,u,d,k,I,1),v.push(_.buffer.slice(0)),b.dispose!=0){if(b.dispose==1)h(p,E,O,_,u,d,k,I,0);else if(b.dispose==2)for(w=0;w<y;w++)_[w]=g[w]}}return v},_paeth:a,_copyTile:h,_bin:t}}();(function(){const{_copyTile:t}=gn,{_bin:e}=gn,n=gn._paeth;var r={table:function(){const E=new Uint32Array(256);for(let O=0;O<256;O++){let T=O;for(let S=0;S<8;S++)1&T?T=3988292384^T>>>1:T>>>=1;E[O]=T}return E}(),update(E,O,T,S){for(let A=0;A<S;A++)E=r.table[255&(E^O[T+A])]^E>>>8;return E},crc:(E,O,T)=>4294967295^r.update(4294967295,E,O,T)};function i(E,O,T,S){O[T]+=E[0]*S>>4,O[T+1]+=E[1]*S>>4,O[T+2]+=E[2]*S>>4,O[T+3]+=E[3]*S>>4}function o(E){return Math.max(0,Math.min(255,E))}function s(E,O){const T=E[0]-O[0],S=E[1]-O[1],A=E[2]-O[2],N=E[3]-O[3];return T*T+S*S+A*A+N*N}function a(E,O,T,S,A,N,x){x==null&&(x=1);const D=S.length,R=[];for(var C=0;C<D;C++){const F=S[C];R.push([F>>>0&255,F>>>8&255,F>>>16&255,F>>>24&255])}for(C=0;C<D;C++){let F=4294967295;for(var B=0,M=0;M<D;M++){var L=s(R[C],R[M]);M!=C&&L<F&&(F=L,B=M)}}const P=new Uint32Array(A.buffer),$=new Int16Array(O*T*4),j=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(C=0;C<j.length;C++)j[C]=255*((j[C]+.5)/16-.5);for(let F=0;F<T;F++)for(let U=0;U<O;U++){var q;C=4*(F*O+U),x!=2?q=[o(E[C]+$[C]),o(E[C+1]+$[C+1]),o(E[C+2]+$[C+2]),o(E[C+3]+$[C+3])]:(L=j[4*(3&F)+(3&U)],q=[o(E[C]+L),o(E[C+1]+L),o(E[C+2]+L),o(E[C+3]+L)]),B=0;let z=16777215;for(M=0;M<D;M++){const Q=s(q,R[M]);Q<z&&(z=Q,B=M)}const H=R[B],V=[q[0]-H[0],q[1]-H[1],q[2]-H[2],q[3]-H[3]];x==1&&(U!=O-1&&i(V,$,C+4,7),F!=T-1&&(U!=0&&i(V,$,C+4*O-4,3),i(V,$,C+4*O,5),U!=O-1&&i(V,$,C+4*O+4,1))),N[C>>2]=B,P[C>>2]=S[B]}}function l(E,O,T,S,A){A==null&&(A={});const{crc:N}=r,x=e.writeUint,D=e.writeUshort,R=e.writeASCII;let C=8;const B=E.frames.length>1;let M,L=!1,P=33+(B?20:0);if(A.sRGB!=null&&(P+=13),A.pHYs!=null&&(P+=21),A.iCCP!=null&&(M=pako.deflate(A.iCCP),P+=21+M.length+4),E.ctype==3){for(var $=E.plte.length,j=0;j<$;j++)E.plte[j]>>>24!=255&&(L=!0);P+=8+3*$+4+(L?8+1*$+4:0)}for(var q=0;q<E.frames.length;q++)B&&(P+=38),P+=(H=E.frames[q]).cimg.length+12,q!=0&&(P+=4);P+=12;const F=new Uint8Array(P),U=[137,80,78,71,13,10,26,10];for(j=0;j<8;j++)F[j]=U[j];if(x(F,C,13),C+=4,R(F,C,"IHDR"),C+=4,x(F,C,O),C+=4,x(F,C,T),C+=4,F[C]=E.depth,C++,F[C]=E.ctype,C++,F[C]=0,C++,F[C]=0,C++,F[C]=0,C++,x(F,C,N(F,C-17,17)),C+=4,A.sRGB!=null&&(x(F,C,1),C+=4,R(F,C,"sRGB"),C+=4,F[C]=A.sRGB,C++,x(F,C,N(F,C-5,5)),C+=4),A.iCCP!=null){const V=13+M.length;x(F,C,V),C+=4,R(F,C,"iCCP"),C+=4,R(F,C,"ICC profile"),C+=11,C+=2,F.set(M,C),C+=M.length,x(F,C,N(F,C-(V+4),V+4)),C+=4}if(A.pHYs!=null&&(x(F,C,9),C+=4,R(F,C,"pHYs"),C+=4,x(F,C,A.pHYs[0]),C+=4,x(F,C,A.pHYs[1]),C+=4,F[C]=A.pHYs[2],C++,x(F,C,N(F,C-13,13)),C+=4),B&&(x(F,C,8),C+=4,R(F,C,"acTL"),C+=4,x(F,C,E.frames.length),C+=4,x(F,C,A.loop!=null?A.loop:0),C+=4,x(F,C,N(F,C-12,12)),C+=4),E.ctype==3){for(x(F,C,3*($=E.plte.length)),C+=4,R(F,C,"PLTE"),C+=4,j=0;j<$;j++){const V=3*j,Q=E.plte[j],re=255&Q,se=Q>>>8&255,pe=Q>>>16&255;F[C+V+0]=re,F[C+V+1]=se,F[C+V+2]=pe}if(C+=3*$,x(F,C,N(F,C-3*$-4,3*$+4)),C+=4,L){for(x(F,C,$),C+=4,R(F,C,"tRNS"),C+=4,j=0;j<$;j++)F[C+j]=E.plte[j]>>>24&255;C+=$,x(F,C,N(F,C-$-4,$+4)),C+=4}}let z=0;for(q=0;q<E.frames.length;q++){var H=E.frames[q];B&&(x(F,C,26),C+=4,R(F,C,"fcTL"),C+=4,x(F,C,z++),C+=4,x(F,C,H.rect.width),C+=4,x(F,C,H.rect.height),C+=4,x(F,C,H.rect.x),C+=4,x(F,C,H.rect.y),C+=4,D(F,C,S[q]),C+=2,D(F,C,1e3),C+=2,F[C]=H.dispose,C++,F[C]=H.blend,C++,x(F,C,N(F,C-30,30)),C+=4);const V=H.cimg;x(F,C,($=V.length)+(q==0?0:4)),C+=4;const Q=C;R(F,C,q==0?"IDAT":"fdAT"),C+=4,q!=0&&(x(F,C,z++),C+=4),F.set(V,C),C+=$,x(F,C,N(F,Q,C-Q)),C+=4}return x(F,C,0),C+=4,R(F,C,"IEND"),C+=4,x(F,C,N(F,C-4,4)),C+=4,F.buffer}function h(E,O,T){for(let S=0;S<E.frames.length;S++){const A=E.frames[S];A.rect.width;const N=A.rect.height,x=new Uint8Array(N*A.bpl+N);A.cimg=d(A.img,N,A.bpp,A.bpl,x,O,T)}}function c(E,O,T,S,A){const N=A[0],x=A[1],D=A[2],R=A[3],C=A[4],B=A[5];let M=6,L=8,P=255;for(var $=0;$<E.length;$++){const xe=new Uint8Array(E[$]);for(var j=xe.length,q=0;q<j;q+=4)P&=xe[q+3]}const F=P!=255,U=function(we,W,G,te,ne,Y){const le=[];for(var ae=0;ae<we.length;ae++){const Te=new Uint8Array(we[ae]),Je=new Uint32Array(Te.buffer);var de;let sn=0,Vn=0,kn=W,ti=G,wf=te?1:0;if(ae!=0){const OT=Y||te||ae==1||le[ae-2].dispose!=0?1:2;let _f=0,km=1e9;for(let ts=0;ts<OT;ts++){var Ye=new Uint8Array(we[ae-1-ts]);const IT=new Uint32Array(we[ae-1-ts]);let pr=W,gr=G,Fi=-1,ns=-1;for(let ni=0;ni<G;ni++)for(let ri=0;ri<W;ri++)Je[be=ni*W+ri]!=IT[be]&&(ri<pr&&(pr=ri),ri>Fi&&(Fi=ri),ni<gr&&(gr=ni),ni>ns&&(ns=ni));Fi==-1&&(pr=gr=Fi=ns=0),ne&&((1&pr)==1&&pr--,(1&gr)==1&&gr--);const Am=(Fi-pr+1)*(ns-gr+1);Am<km&&(km=Am,_f=ts,sn=pr,Vn=gr,kn=Fi-pr+1,ti=ns-gr+1)}Ye=new Uint8Array(we[ae-1-_f]),_f==1&&(le[ae-1].dispose=2),de=new Uint8Array(kn*ti*4),t(Ye,W,G,de,kn,ti,-sn,-Vn,0),wf=t(Te,W,G,de,kn,ti,-sn,-Vn,3)?1:0,wf==1?u(Te,W,G,de,{x:sn,y:Vn,width:kn,height:ti}):t(Te,W,G,de,kn,ti,-sn,-Vn,0)}else de=Te.slice(0);le.push({rect:{x:sn,y:Vn,width:kn,height:ti},img:de,blend:wf,dispose:0})}if(te)for(ae=0;ae<le.length;ae++){if((zn=le[ae]).blend==1)continue;const Te=zn.rect,Je=le[ae-1].rect,sn=Math.min(Te.x,Je.x),Vn=Math.min(Te.y,Je.y),kn={x:sn,y:Vn,width:Math.max(Te.x+Te.width,Je.x+Je.width)-sn,height:Math.max(Te.y+Te.height,Je.y+Je.height)-Vn};le[ae-1].dispose=1,ae-1!=0&&f(we,W,G,le,ae-1,kn,ne),f(we,W,G,le,ae,kn,ne)}let jt=0;if(we.length!=1)for(var be=0;be<le.length;be++){var zn;jt+=(zn=le[be]).rect.width*zn.rect.height}return le}(E,O,T,N,x,D),z={},H=[],V=[];if(S!=0){const xe=[];for(q=0;q<U.length;q++)xe.push(U[q].img.buffer);const we=function(ne){let Y=0;for(var le=0;le<ne.length;le++)Y+=ne[le].byteLength;const ae=new Uint8Array(Y);let de=0;for(le=0;le<ne.length;le++){const Ye=new Uint8Array(ne[le]),jt=Ye.length;for(let be=0;be<jt;be+=4){let zn=Ye[be],Te=Ye[be+1],Je=Ye[be+2];const sn=Ye[be+3];sn==0&&(zn=Te=Je=0),ae[de+be]=zn,ae[de+be+1]=Te,ae[de+be+2]=Je,ae[de+be+3]=sn}de+=jt}return ae.buffer}(xe),W=y(we,S);for(q=0;q<W.plte.length;q++)H.push(W.plte[q].est.rgba);let G=0;for(q=0;q<U.length;q++){const te=(re=U[q]).img.length;var Q=new Uint8Array(W.inds.buffer,G>>2,te>>2);V.push(Q);const ne=new Uint8Array(W.abuf,G,te);B&&a(re.img,re.rect.width,re.rect.height,H,ne,Q),re.img.set(ne),G+=te}}else for($=0;$<U.length;$++){var re=U[$];const xe=new Uint32Array(re.img.buffer);var se=re.rect.width;for(j=xe.length,Q=new Uint8Array(j),V.push(Q),q=0;q<j;q++){const we=xe[q];if(q!=0&&we==xe[q-1])Q[q]=Q[q-1];else if(q>se&&we==xe[q-se])Q[q]=Q[q-se];else{let W=z[we];if(W==null&&(z[we]=W=H.length,H.push(we),H.length>=300))break;Q[q]=W}}}const pe=H.length;for(pe<=256&&C==0&&(L=pe<=2?1:pe<=4?2:pe<=16?4:8,L=Math.max(L,R)),$=0;$<U.length;$++){(re=U[$]).rect.x,re.rect.y,se=re.rect.width;const xe=re.rect.height;let we=re.img;new Uint32Array(we.buffer);let W=4*se,G=4;if(pe<=256&&C==0){W=Math.ceil(L*se/8);var ge=new Uint8Array(W*xe);const te=V[$];for(let ne=0;ne<xe;ne++){q=ne*W;const Y=ne*se;if(L==8)for(var fe=0;fe<se;fe++)ge[q+fe]=te[Y+fe];else if(L==4)for(fe=0;fe<se;fe++)ge[q+(fe>>1)]|=te[Y+fe]<<4-4*(1&fe);else if(L==2)for(fe=0;fe<se;fe++)ge[q+(fe>>2)]|=te[Y+fe]<<6-2*(3&fe);else if(L==1)for(fe=0;fe<se;fe++)ge[q+(fe>>3)]|=te[Y+fe]<<7-1*(7&fe)}we=ge,M=3,G=1}else if(F==0&&U.length==1){ge=new Uint8Array(se*xe*3);const te=se*xe;for(q=0;q<te;q++){const ne=3*q,Y=4*q;ge[ne]=we[Y],ge[ne+1]=we[Y+1],ge[ne+2]=we[Y+2]}we=ge,M=2,G=3,W=3*se}re.img=we,re.bpl=W,re.bpp=G}return{ctype:M,depth:L,plte:H,frames:U}}function f(E,O,T,S,A,N,x){const D=Uint8Array,R=Uint32Array,C=new D(E[A-1]),B=new R(E[A-1]),M=A+1<E.length?new D(E[A+1]):null,L=new D(E[A]),P=new R(L.buffer);let $=O,j=T,q=-1,F=-1;for(let z=0;z<N.height;z++)for(let H=0;H<N.width;H++){const V=N.x+H,Q=N.y+z,re=Q*O+V,se=P[re];se==0||S[A-1].dispose==0&&B[re]==se&&(M==null||M[4*re+3]!=0)||(V<$&&($=V),V>q&&(q=V),Q<j&&(j=Q),Q>F&&(F=Q))}q==-1&&($=j=q=F=0),x&&((1&$)==1&&$--,(1&j)==1&&j--),N={x:$,y:j,width:q-$+1,height:F-j+1};const U=S[A];U.rect=N,U.blend=1,U.img=new Uint8Array(N.width*N.height*4),S[A-1].dispose==0?(t(C,O,T,U.img,N.width,N.height,-N.x,-N.y,0),u(L,O,T,U.img,N)):t(L,O,T,U.img,N.width,N.height,-N.x,-N.y,0)}function u(E,O,T,S,A){t(E,O,T,S,A.width,A.height,-A.x,-A.y,2)}function d(E,O,T,S,A,N,x){const D=[];let R,C=[0,1,2,3,4];N!=-1?C=[N]:(O*S>5e5||T==1)&&(C=[0]),x&&(R={level:0});const B=Y9;for(var M=0;M<C.length;M++){for(let $=0;$<O;$++)v(A,E,$,S,T,C[M]);D.push(B.deflate(A,R))}let L,P=1e9;for(M=0;M<D.length;M++)D[M].length<P&&(L=M,P=D[M].length);return D[L]}function v(E,O,T,S,A,N){const x=T*S;let D=x+T;if(E[D]=N,D++,N==0)if(S<500)for(var R=0;R<S;R++)E[D+R]=O[x+R];else E.set(new Uint8Array(O.buffer,x,S),D);else if(N==1){for(R=0;R<A;R++)E[D+R]=O[x+R];for(R=A;R<S;R++)E[D+R]=O[x+R]-O[x+R-A]+256&255}else if(T==0){for(R=0;R<A;R++)E[D+R]=O[x+R];if(N==2)for(R=A;R<S;R++)E[D+R]=O[x+R];if(N==3)for(R=A;R<S;R++)E[D+R]=O[x+R]-(O[x+R-A]>>1)+256&255;if(N==4)for(R=A;R<S;R++)E[D+R]=O[x+R]-n(O[x+R-A],0,0)+256&255}else{if(N==2)for(R=0;R<S;R++)E[D+R]=O[x+R]+256-O[x+R-S]&255;if(N==3){for(R=0;R<A;R++)E[D+R]=O[x+R]+256-(O[x+R-S]>>1)&255;for(R=A;R<S;R++)E[D+R]=O[x+R]+256-(O[x+R-S]+O[x+R-A]>>1)&255}if(N==4){for(R=0;R<A;R++)E[D+R]=O[x+R]+256-n(0,O[x+R-S],0)&255;for(R=A;R<S;R++)E[D+R]=O[x+R]+256-n(O[x+R-A],O[x+R-S],O[x+R-A-S])&255}}}function y(E,O){const T=new Uint8Array(E),S=T.slice(0),A=new Uint32Array(S.buffer),N=_(S,O),x=N[0],D=N[1],R=T.length,C=new Uint8Array(R>>2);let B;if(T.length<2e7)for(var M=0;M<R;M+=4)B=p(x,L=T[M]*(1/255),P=T[M+1]*(1/255),$=T[M+2]*(1/255),j=T[M+3]*(1/255)),C[M>>2]=B.ind,A[M>>2]=B.est.rgba;else for(M=0;M<R;M+=4){var L=T[M]*.00392156862745098,P=T[M+1]*(1/255),$=T[M+2]*(1/255),j=T[M+3]*(1/255);for(B=x;B.left;)B=g(B.est,L,P,$,j)<=0?B.left:B.right;C[M>>2]=B.ind,A[M>>2]=B.est.rgba}return{abuf:S.buffer,inds:C,plte:D}}function _(E,O,T){T==null&&(T=1e-4);const S=new Uint32Array(E.buffer),A={i0:0,i1:E.length,bst:null,est:null,tdst:0,left:null,right:null};A.bst=b(E,A.i0,A.i1),A.est=k(A.bst);const N=[A];for(;N.length<O;){let D=0,R=0;for(var x=0;x<N.length;x++)N[x].est.L>D&&(D=N[x].est.L,R=x);if(D<T)break;const C=N[R],B=w(E,S,C.i0,C.i1,C.est.e,C.est.eMq255);if(C.i0>=B||C.i1<=B){C.est.L=0;continue}const M={i0:C.i0,i1:B,bst:null,est:null,tdst:0,left:null,right:null};M.bst=b(E,M.i0,M.i1),M.est=k(M.bst);const L={i0:B,i1:C.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:C.bst.N-M.bst.N},x=0;x<16;x++)L.bst.R[x]=C.bst.R[x]-M.bst.R[x];for(x=0;x<4;x++)L.bst.m[x]=C.bst.m[x]-M.bst.m[x];L.est=k(L.bst),C.left=M,C.right=L,N[R]=M,N.push(L)}for(N.sort((D,R)=>R.bst.N-D.bst.N),x=0;x<N.length;x++)N[x].ind=x;return[A,N]}function p(E,O,T,S,A){if(E.left==null)return E.tdst=function(M,L,P,$,j){const q=L-M[0],F=P-M[1],U=$-M[2],z=j-M[3];return q*q+F*F+U*U+z*z}(E.est.q,O,T,S,A),E;const N=g(E.est,O,T,S,A);let x=E.left,D=E.right;N>0&&(x=E.right,D=E.left);const R=p(x,O,T,S,A);if(R.tdst<=N*N)return R;const C=p(D,O,T,S,A);return C.tdst<R.tdst?C:R}function g(E,O,T,S,A){const{e:N}=E;return N[0]*O+N[1]*T+N[2]*S+N[3]*A-E.eMq}function w(E,O,T,S,A,N){for(S-=4;T<S;){for(;m(E,T,A)<=N;)T+=4;for(;m(E,S,A)>N;)S-=4;if(T>=S)break;const x=O[T>>2];O[T>>2]=O[S>>2],O[S>>2]=x,T+=4,S-=4}for(;m(E,T,A)>N;)T-=4;return T+4}function m(E,O,T){return E[O]*T[0]+E[O+1]*T[1]+E[O+2]*T[2]+E[O+3]*T[3]}function b(E,O,T){const S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=[0,0,0,0],N=T-O>>2;for(let x=O;x<T;x+=4){const D=E[x]*.00392156862745098,R=E[x+1]*(1/255),C=E[x+2]*(1/255),B=E[x+3]*(1/255);A[0]+=D,A[1]+=R,A[2]+=C,A[3]+=B,S[0]+=D*D,S[1]+=D*R,S[2]+=D*C,S[3]+=D*B,S[5]+=R*R,S[6]+=R*C,S[7]+=R*B,S[10]+=C*C,S[11]+=C*B,S[15]+=B*B}return S[4]=S[1],S[8]=S[2],S[9]=S[6],S[12]=S[3],S[13]=S[7],S[14]=S[11],{R:S,m:A,N}}function k(E){const{R:O}=E,{m:T}=E,{N:S}=E,A=T[0],N=T[1],x=T[2],D=T[3],R=S==0?0:1/S,C=[O[0]-A*A*R,O[1]-A*N*R,O[2]-A*x*R,O[3]-A*D*R,O[4]-N*A*R,O[5]-N*N*R,O[6]-N*x*R,O[7]-N*D*R,O[8]-x*A*R,O[9]-x*N*R,O[10]-x*x*R,O[11]-x*D*R,O[12]-D*A*R,O[13]-D*N*R,O[14]-D*x*R,O[15]-D*D*R],B=C,M=I;let L=[Math.random(),Math.random(),Math.random(),Math.random()],P=0,$=0;if(S!=0)for(let q=0;q<16&&(L=M.multVec(B,L),$=Math.sqrt(M.dot(L,L)),L=M.sml(1/$,L),!(q!=0&&Math.abs($-P)<1e-9));q++)P=$;const j=[A*R,N*R,x*R,D*R];return{Cov:C,q:j,e:L,L:P,eMq255:M.dot(M.sml(255,j),L),eMq:M.dot(L,j),rgba:(Math.round(255*j[3])<<24|Math.round(255*j[2])<<16|Math.round(255*j[1])<<8|Math.round(255*j[0])<<0)>>>0}}var I={multVec:(E,O)=>[E[0]*O[0]+E[1]*O[1]+E[2]*O[2]+E[3]*O[3],E[4]*O[0]+E[5]*O[1]+E[6]*O[2]+E[7]*O[3],E[8]*O[0]+E[9]*O[1]+E[10]*O[2]+E[11]*O[3],E[12]*O[0]+E[13]*O[1]+E[14]*O[2]+E[15]*O[3]],dot:(E,O)=>E[0]*O[0]+E[1]*O[1]+E[2]*O[2]+E[3]*O[3],sml:(E,O)=>[E*O[0],E*O[1],E*O[2],E*O[3]]};gn.encode=function(O,T,S,A,N,x,D){A==null&&(A=0),D==null&&(D=!1);const R=c(O,T,S,A,[!1,!1,!1,0,D,!1]);return h(R,-1),l(R,T,S,N,x)},gn.encodeLL=function(O,T,S,A,N,x,D,R){const C={ctype:0+(A==1?0:2)+(N==0?0:4),depth:x,frames:[]},B=(A+N)*x,M=B*T;for(let L=0;L<O.length;L++)C.frames.push({rect:{x:0,y:0,width:T,height:S},img:new Uint8Array(O[L]),blend:0,dispose:1,bpp:Math.ceil(B/8),bpl:Math.ceil(M/8)});return h(C,0,!0),l(C,T,S,D,R)},gn.encode.compress=c,gn.encode.dither=a,gn.quantize=y,gn.quantize.getKDtree=_,gn.quantize.getNearest=p})();const vT={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,o=t.getContext("2d").getImageData(0,0,n,r),s=new Uint32Array(o.data.buffer),a=(32*n+31)/32<<2,l=a*r,h=122+l,c=new ArrayBuffer(h),f=new DataView(c),u=1<<20;let d,v,y,_,p=u,g=0,w=0,m=0;function b(E){f.setUint16(w,E,!0),w+=2}function k(E){f.setUint32(w,E,!0),w+=4}function I(E){w+=E}b(19778),k(h),I(4),k(122),k(108),k(n),k(-r>>>0),b(1),b(32),k(3),k(l),k(2835),k(2835),I(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),function E(){for(;g<r&&p>0;){for(_=122+g*a,d=0;d<i;)p--,v=s[m++],y=v>>>24,f.setUint32(_+d,v<<8|y),d+=4;g++}m<s.length?(p=u,setTimeout(E,vT._dly)):e(c)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Bt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},X9={[Bt.CHROME]:16384,[Bt.FIREFOX]:11180,[Bt.DESKTOP_SAFARI]:16384,[Bt.IE]:8192,[Bt.IOS]:4096,[Bt.ETC]:8192};const Tm=typeof window<"u",yT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,sc=Tm&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),J9=(Tm||yT)&&(sc&&sc.getOriginalSymbol(window,"File")||typeof File<"u"&&File),wT=(Tm||yT)&&(sc&&sc.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Sm(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=globalThis.atob(i[1]);let a=s.length;const l=new Uint8Array(a);for(;a--;)l[a]=s.charCodeAt(a);const h=new Blob([l],{type:o});h.name=e,h.lastModified=n,r(h)})}function _T(t){return new Promise((e,n)=>{const r=new wT;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function ET(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function pi(){if(pi.cachedResult!==void 0)return pi.cachedResult;let t=Bt.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Bt.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Bt.IOS:/Safari/i.test(e)?t=Bt.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Bt.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Bt.IE),pi.cachedResult=t,pi.cachedResult}function bT(t,e){const n=pi(),r=X9[n];let i=t,o=e,s=i*o;const a=i>o?o/i:i/o;for(;s>r*r;){const l=(r+i)/2,h=(r+o)/2;l<h?(o=h,i=h*a):(o=l*a,i=l),s=i*o}return{width:i,height:o}}function yf(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function TT(t,e){const{width:n,height:r}=bT(t.width,t.height),[i,o]=yf(n,r);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function Jl(){return Jl.cachedResult!==void 0||(Jl.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Jl.cachedResult}function ac(t,e={}){return new Promise(function(n,r){let i,o;var s=function(){try{return o=TT(i,e.fileType||t.type),n([i,o])}catch(l){return r(l)}},a=function(l){try{var h=function(c){try{throw c}catch(f){return r(f)}};try{let c;return _T(t).then(function(f){try{return c=f,ET(c).then(function(u){try{return i=u,function(){try{return s()}catch(d){return r(d)}}()}catch(d){return h(d)}},h)}catch(u){return h(u)}},h)}catch(c){h(c)}}catch(c){return r(c)}};try{if(Jl()||[Bt.DESKTOP_SAFARI,Bt.MOBILE_SAFARI].includes(pi()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,s()}catch{return a()}},a)}catch{a()}})}function lc(t,e,n,r,i=1){return new Promise(function(o,s){let a;if(e==="image/png"){let f,u,d;return f=t.getContext("2d"),{data:u}=f.getImageData(0,0,t.width,t.height),d=gn.encode([u.buffer],t.width,t.height,4096*i),a=new Blob([d],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let f=function(){return l.call(this)};var h=f;if(e==="image/bmp")return new Promise(u=>vT.toBlob(t,u)).then(function(u){try{return a=u,a.name=n,a.lastModified=r,f.call(this)}catch(d){return s(d)}}.bind(this),s);{let u=function(){return f.call(this)};var c=u;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then(function(d){try{return a=d,a.name=n,a.lastModified=r,u.call(this)}catch(v){return s(v)}}.bind(this),s);{let d;return d=t.toDataURL(e,i),Sm(d,n,r).then(function(v){try{return a=v,u.call(this)}catch(y){return s(y)}}.bind(this),s)}}}function l(){return o(a)}})}function xn(t){t.width=0,t.height=0}function so(){return new Promise(function(t,e){let n,r,i,o;return so.cachedResult!==void 0?t(so.cachedResult):Sm("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return n=s,ac(n).then(function(a){try{return r=a[1],lc(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,xn(r),ac(i).then(function(h){try{return o=h[0],so.cachedResult=o.width===1&&o.height===2,t(so.cachedResult)}catch(c){return e(c)}},e)}catch(h){return e(h)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function ST(t){return new Promise((e,n)=>{const r=new wT;r.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const s=o.byteLength;let a=2;for(;a<s;){if(o.getUint16(a+2,!1)<=8)return e(-1);const l=o.getUint16(a,!1);if(a+=2,l==65505){if(o.getUint32(a+=2,!1)!=1165519206)return e(-1);const h=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,h);const c=o.getUint16(a,h);a+=2;for(let f=0;f<c;f++)if(o.getUint16(a+12*f,h)==274)return e(o.getUint16(a+12*f+8,h))}else{if((65280&l)!=65280)break;a+=o.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function kT(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let o,s=t;return isFinite(i)&&(n>i||r>i)&&([s,o]=yf(n,r),n>r?(s.width=i,s.height=r/n*i):(s.width=n/r*i,s.height=i),o.drawImage(t,0,0,s.width,s.height),xn(t)),s}function AT(t,e){const{width:n}=t,{height:r}=t,[i,o]=yf(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(t,0,0,n,r),xn(t),i}function K1(t,e,n=0){return new Promise(function(r,i){let o,s,a,l,h,c,f,u,d,v,y,_,p,g,w,m,b,k,I,E;function O(S=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=S,e.onProgress(Math.min(o,100))}function T(S){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(S,o),100),e.onProgress(o)}return o=n,s=e.maxIteration||10,a=1024*e.maxSizeMB*1024,O(),ac(t,e).then(function(S){try{return[,l]=S,O(),h=kT(l,e),O(),new Promise(function(A,N){var x;if(!(x=e.exifOrientation))return ST(t).then(function(R){try{return x=R,D.call(this)}catch(C){return N(C)}}.bind(this),N);function D(){return A(x)}return D.call(this)}).then(function(A){try{return c=A,O(),so().then(function(N){try{return f=N?h:AT(h,c),O(),u=e.initialQuality||1,d=e.fileType||t.type,lc(f,d,t.name,t.lastModified,u).then(function(x){try{{let B=function(){if(s--&&(w>a||w>p)){let L,P;return L=E?.95*I.width:I.width,P=E?.95*I.height:I.height,[b,k]=yf(L,P),k.drawImage(I,0,0,L,P),u*=d==="image/png"?.85:.95,lc(b,d,t.name,t.lastModified,u).then(function($){try{return m=$,xn(I),I=b,w=m.size,T(Math.min(99,Math.floor((g-w)/(g-a)*100))),B}catch(j){return i(j)}},i)}return[1]},M=function(){return xn(I),xn(b),xn(h),xn(f),xn(l),T(100),r(m)};var R=B,C=M;if(v=x,O(),y=v.size>a,_=v.size>t.size,!y&&!_)return T(100),r(v);var D;return p=t.size,g=v.size,w=g,I=f,E=!e.alwaysKeepResolution&&y,(D=function(L){for(;L;){if(L.then)return void L.then(D,i);try{if(L.pop){if(L.length)return L.pop()?M.call(this):L;L=B}else L=L.call(this)}catch(P){return i(P)}}}.bind(this))(B)}}catch(B){return i(B)}}.bind(this),i)}catch(x){return i(x)}}.bind(this),i)}catch(N){return i(N)}}.bind(this),i)}catch(A){return i(A)}}.bind(this),i)})}const Z9=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Eh;function eU(t,e){return new Promise((n,r)=>{Eh||(Eh=function(s){const a=[];return typeof s=="function"?a.push(`(${s})()`):a.push(s),URL.createObjectURL(new Blob(a))}(Z9));const i=new Worker(Eh);i.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)i.terminate();else if(s.data.progress===void 0){if(s.data.error)return r(new Error(s.data.error)),void i.terminate();n(s.data.file),i.terminate()}else e.onProgress(s.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function rt(t,e){return new Promise(function(n,r){let i,o,s,a,l,h;if(i={...e},s=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=d=>{s=d,typeof a=="function"&&a(s)},!(t instanceof Blob||t instanceof J9))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||h)return K1(t,i).then(function(d){try{return o=d,u.call(this)}catch(v){return r(v)}}.bind(this),r);var c=function(){try{return u.call(this)}catch(d){return r(d)}}.bind(this),f=function(d){try{return K1(t,i).then(function(v){try{return o=v,c()}catch(y){return r(y)}},r)}catch(v){return r(v)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",eU(t,i).then(function(d){try{return o=d,c()}catch{return f()}},f)}catch{f()}function u(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=mT(t,o))}catch{}return n(o)}})}rt.getDataUrlFromFile=_T,rt.getFilefromDataUrl=Sm,rt.loadImage=ET,rt.drawImageInCanvas=TT,rt.drawFileInCanvas=ac,rt.canvasToFile=lc,rt.getExifOrientation=ST,rt.handleMaxWidthOrHeight=kT,rt.followExifOrientation=AT,rt.cleanupCanvasMemory=xn,rt.isAutoOrientationInBrowser=so,rt.approximateBelowMaximumCanvasSizeOfBrowser=bT,rt.copyExifWithoutOrientation=mT,rt.getBrowserName=pi,rt.version="2.0.2";function tU({isAuth:t}){const[e,n]=X.useState(""),[r,i]=X.useState(""),[o,s]=X.useState(null),[a,l]=X.useState(""),[h,c]=X.useState(""),[f,u]=X.useState(null),[d,v]=X.useState(null),[y,_]=X.useState(null),[p,g]=X.useState(null),w=Fo(),m={toolbar:[["bold","italic","underline","strike"],["blockquote"],[{list:"ordered"},{list:"bullet"}],["link"]]},b=["bold","italic","underline","strike","blockquote","link","list"],k=z2(Sa,"posts"),I=A=>{i(A)},E=A=>{O(A),T(A)},O=A=>{const N=A.target.files[0],x={maxSizeMB:.7,maxWidthOrHeight:2e3,useWebWorker:!0};(async()=>{try{const R=await rt(N,x);s(R)}catch(R){console.log(R)}})()},T=async A=>{const N=A.target.files[0],x={maxSizeMB:.4,maxWidthOrHeight:400,useWebWorker:!0};try{const D=await rt(N,x),R=new FileReader;R.readAsDataURL(D),R.onloadend=()=>{const C=R.result;c(C)}}catch(D){console.log(D)}},S=async()=>{const A=e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"");if(console.log("imgCompressed +  + + ",h),(!e||!r||!o||!h||!t)&&a==="recipe"&&(!f||!y||!d)||a==="post"&&!p){alert("Veuillez remplir tous les champs et soyez connect");return}const N=Zu(ec,`images/post_image/${gT()}`),x=await Qb(N,o),D=await Yb(x.ref),R=await jR(k,{category:a,title:e,content:r,slug:A,readTime:p,dessertCategory:f,tempsDePreparation:d,numberOfPersons:y,imageUrl:D,imgCompressed:h});await Qd(R,{id:R.id}),w("/")};return K.jsxs("div",{className:"flex flex-col gap-10",children:[K.jsx("p",{className:" font-bold text-lg",children:"RECETTE"}),K.jsx("div",{className:"flex flex-col gap-2",children:K.jsxs("div",{className:" flex flex-col gap-2",children:[K.jsxs("span",{children:[K.jsxs("span",{className:"font-semibold text-red-600",children:["RECETTE UNIQUEMENT :"," "]}),`Recette pour combien de personnes ou pour combien d'units (exemple : "Pour 4 personnes" ou "Pour 20 chouquettes") :`]}),K.jsx("input",{type:"text",className:"border-2 px-2 max-w-[300px] border-black rounded-md",onChange:A=>{_(A.target.value)}})]})}),K.jsxs("div",{className:" flex flex-col gap-2",children:[K.jsxs("span",{children:[K.jsxs("span",{className:"font-semibold text-red-600",children:["RECETTE UNIQUEMENT :"," "]}),"Temps de preparation :"]}),K.jsx("input",{className:"",onChange:A=>{v(A.target.value)},type:"time"})]}),K.jsxs("div",{className:"flex flex-col gap-2",children:[K.jsxs("span",{children:[K.jsxs("span",{className:"font-semibold text-red-600",children:["RECETTE UNIQUEMENT :"," "]}),"Temps de preparation :"]}),K.jsxs("select",{onChange:A=>{u(A.target.value)},className:"border-2 border-gray-500 max-w-[300px]  rounded-sm",name:"",id:"",placeholder:"Slectionner la catgorie",children:[K.jsx("option",{value:""}),K.jsx("option",{value:"Gteau",children:"Gteau"}),K.jsx("option",{value:"Tarte",children:"Tarte"}),K.jsx("option",{value:"Djeuner/Goter",children:"Djeuner/Goter"})]})]}),K.jsxs("div",{className:" flex flex-col gap-2",children:[K.jsxs("span",{children:[K.jsxs("span",{className:"font-semibold text-blue-600",children:["POST UNIQUEMENT :"," "]}),"Temps de lecture approximatif (en minutes ):"]}),K.jsx("input",{className:"border-2 border-black rounded-md w-14",onChange:A=>{g(A.target.value)},type:"number"})]}),K.jsxs("div",{className:"flex flex-col gap-2",children:[K.jsx("span",{children:"Catgorie ( recette ou post ?)"}),K.jsxs("select",{onChange:A=>{l(A.target.value)},className:"border-2 border-gray-500 max-w-[300px]  rounded-sm",name:"",id:"",placeholder:"Slectionner la catgorie",children:[K.jsx("option",{value:""}),K.jsx("option",{value:"post",children:"Post"}),K.jsx("option",{value:"recipe",children:"Recette"})]})]}),K.jsxs("div",{className:"flex flex-col gap-2",children:[K.jsx("span",{children:"Image : "}),K.jsx("input",{className:"",onChange:A=>E(A),type:"file",name:"",id:""})]}),K.jsxs("div",{className:"flex flex-col gap-2",children:[K.jsx("span",{className:"font-semibold",children:"Titre:"}),K.jsx("input",{className:"border-2 border-gray-500  rounded-sm px-2",type:"text",value:e,onChange:A=>{n(A.target.value)}})]}),K.jsxs("div",{className:"flex flex-col gap-2",children:[K.jsx("p",{className:"font-semibold",children:"Contenu : "}),K.jsx(pT,{modules:m,value:r,formats:b,onChange:I})]}),K.jsx("button",{onClick:S,className:"bg-[#4B6BFB] text-white px-3 py-2 rounded-md",type:"submit",children:"Publier"})]})}function nU({setIsAuth:t,isAuth:e}){const n=Fo();X.useEffect(()=>{e||n("/")},[]);const r=()=>{LP(Jb).then(()=>{localStorage.clear(),t(!1)}),n("/")};return K.jsx("div",{className:"max-w-[1200px] m-auto",children:e?K.jsxs("div",{className:"flex flex-col gap-[10rem] ",children:[K.jsxs("div",{className:"flex justify-center gap-4",children:[K.jsx("span",{className:"cursor-pointer  duration-75 px-3 py-1 rounded-md bg-[#4B6BFB] text-white ",children:"Crer une recette/post"}),K.jsx("span",{onClick:()=>r(),className:"cursor-pointer px-3 py-1 rounded-md hover:outline-2 hover:outline outline-red-500 duration-75  bg-red-500 bg-opacity-5 text-red-500",children:"Se dconnecter"})]}),K.jsx(tU,{isAuth:e})]}):null})}function rU({setIsAuth:t,isAuth:e}){const[n,r]=X.useState(""),[i,o]=X.useState(""),[s,a]=X.useState(""),l=Fo(),h=async c=>{c.preventDefault();try{await RP(Jb,n,i),localStorage.setItem("isAuth",!0),t(!0),l("/")}catch(f){if(f.code==="auth/user-not-found"){f.message="Le mot de passe est incorrect. Veuillez ressayer.",a(f.message);return}f.code==="auth/wrong-password"&&(f.message="Le mot de passe est incorrect. Veuillez ressayer."),a(f.message)}};return X.useEffect(()=>{e&&l("/admin-management")},[]),K.jsxs("div",{className:"flex flex-col gap-1 bg-white p-6 shadow-md rounded-lg  max-w-[390px] mx-auto",children:[K.jsx("span",{className:"font-semibold text-[18px] text-center",children:"Connexion"}),K.jsxs("form",{className:"flex flex-col gap-2 mt-3",onSubmit:h,action:"",children:[s&&K.jsx("p",{children:s}),K.jsx("input",{placeholder:"Votre Email",className:"py-2 px-3 border-2",type:"email",value:n,onChange:c=>r(c.target.value)}),K.jsx("input",{placeholder:"Votre mot de passe",className:"py-2 px-3 border-2",type:"password",value:i,onChange:c=>o(c.target.value)}),K.jsx("input",{className:"cursor-pointer bg-[#4B6BFB] font-medium py-3 rounded-md text-white ",type:"submit",value:"Se connecter"})]})]})}function iU(){const t=Li();return X.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function oU({isAuth:t}){const[e,n]=X.useState(""),[r,i]=X.useState(""),[o,s]=X.useState(null),[a,l]=X.useState(null),[h,c]=X.useState(null),[f,u]=X.useState(null),[d,v]=X.useState(""),[y,_]=X.useState(null),[p,g]=X.useState(""),{editId:w}=v_();let m;const b=Fo();X.useEffect(()=>{t||b("/")},[]),X.useEffect(()=>{(async()=>{const D=Ku(Sa,"posts",w),R=await MR(D);if(R.exists()){const C=R.data();_(C.readTime),n(C.title),i(C.content),l(C.dessertCategory),c(C.tempsDePreparation),u(C.numberOfPersons),g(C.imageUrl)}})()},[w]);const k=x=>{i(x)},I=x=>{E(x),O(x)},E=x=>{const D=x.target.files[0],R={maxSizeMB:.7,maxWidthOrHeight:2e3,useWebWorker:!0};(async()=>{try{const B=await rt(D,R);s(B)}catch(B){console.log(B)}})()},O=async x=>{const D=x.target.files[0],R={maxSizeMB:.4,maxWidthOrHeight:400,useWebWorker:!0};try{const C=await rt(D,R),B=new FileReader;B.readAsDataURL(C),B.onloadend=()=>{const M=B.result;v(M)}}catch(C){console.log(C)}},T=async x=>{const D=Zu(ec,x);console.log("oldImageUrl = = "+x);try{(await rD(D)).size>0?(await Xb(D),console.log("Image supprime avec succs")):console.log("L'image n'existe pas dans le stockage")}catch(R){console.log("Une erreur s'est produite lors de la suppression de l'image :",R)}},S=async()=>{const x=Ku(Sa,"posts",w),D=e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"");if(console.log(D),o){await T(p);const R=Zu(ec,`images/post_image/${gT()}`),C=await Qb(R,o);m=await Yb(C.ref),await Qd(x,{title:e,content:r,slug:D,readTime:y,dessertCategory:a,tempsDePreparation:h,numberOfPersons:f,imageUrl:m,imgCompressed:d})}else await Qd(x,{title:e,content:r,slug:D,readTime:y,dessertCategory:a,tempsDePreparation:h,numberOfPersons:f});b("/")},A={toolbar:[["bold","italic","underline","strike"],["blockquote"],[{list:"ordered"},{list:"bullet"}],["link"]]},N=["bold","italic","underline","strike","blockquote","link","list"];return K.jsx("div",{className:"max-w-[1200px] m-auto",children:K.jsxs("div",{className:"flex flex-col gap-5",children:[K.jsx("p",{className:"mb-8 font-bold text-lg",children:"EDIT RECIPE"}),K.jsxs("div",{className:"flex flex-col gap-2",children:[K.jsxs("span",{children:[K.jsxs("span",{className:"font-semibold text-red-600",children:["RECETTE UNIQUEMENT :"," "]}),"Categorie du dessert"]}),K.jsxs("select",{onChange:x=>{l(x.target.value)},className:"border-2 border-gray-500 max-w-[300px]  rounded-sm",name:"",id:"",placeholder:"Slectionner la catgorie",value:a,children:[K.jsx("option",{value:""}),K.jsx("option",{value:"Gteau",children:"Gteau"}),K.jsx("option",{value:"Tarte",children:"Tarte"}),K.jsx("option",{value:"Djeuner/Goter",children:"Djeuner/Goter"})]})]}),K.jsxs("div",{className:" flex flex-col gap-2",children:[K.jsxs("span",{children:[K.jsxs("span",{className:"font-semibold text-red-600",children:["RECETTE UNIQUEMENT :"," "]}),`Recette pour combien de personnes ou pour combien d'units (exemple : "Pour 4 personnes" ou "Pour 20 chouquettes") :`]}),K.jsx("input",{type:"text",className:"border-2 px-2 max-w-[300px] border-black rounded-md",onChange:x=>{u(x.target.value)},value:f})]}),K.jsxs("div",{className:" flex flex-col gap-2",children:[K.jsxs("span",{children:[K.jsxs("span",{className:"font-semibold text-red-600",children:["RECETTE UNIQUEMENT :"," "]}),"Temps de preparation"]}),K.jsx("input",{className:"",onChange:x=>{c(x.target.value)},type:"time",value:h})]}),K.jsxs("div",{className:" flex flex-col gap-2",children:[K.jsxs("span",{children:[K.jsxs("span",{className:"font-semibold text-blue-600",children:["POST UNIQUEMENT :"," "]}),"Temps de lecture approximatif (en minutes ):"]}),K.jsx("input",{value:y,className:"border-2 border-black rounded-md w-14",onChange:x=>{_(x.target.value)},type:"number"})]}),K.jsxs("div",{className:"flex flex-col gap-2",children:[K.jsx("span",{children:"Photo du dessert:"}),K.jsx("input",{type:"file",onChange:I})]}),K.jsxs("div",{className:"flex flex-col gap-2",children:[K.jsx("span",{className:"font-semibold",children:"Titre:"}),K.jsx("input",{className:"border-2 border-gray-500  rounded-sm px-2",type:"text",value:e,onChange:x=>{n(x.target.value)}})]}),K.jsxs("div",{className:"flex flex-col gap-2",children:[K.jsx("p",{className:"font-semibold",children:"Contenu :"}),K.jsx(pT,{className:"custom-editor",modules:A,formats:N,value:r,onChange:k})]}),K.jsx("button",{onClick:S,className:"bg-[#4B6BFB] text-white px-3 py-2 rounded-md",type:"submit",children:"Save Changes"})]})})}function sU(){const[t,e]=X.useState(localStorage.getItem("isAuth")),[n,r]=X.useState([]),i=z2(Sa,"posts"),o=async()=>{try{const s=await $R(i);r(s.docs.map(a=>({...a.data(),id:a.id})))}catch(s){console.log(s)}};return X.useEffect(()=>{o()},[]),K.jsxs(VA,{children:[K.jsx(iU,{}),K.jsx(QA,{isAuth:t}),K.jsx("main",{className:"mt-16  mb-36   ",children:K.jsxs(jA,{children:[K.jsx(zi,{path:"/lecoindesdesserts/",element:K.jsx(aO,{postList:n})}),K.jsx(zi,{path:"/lecoindesdesserts/desserts/:slugName",element:K.jsx(uD,{postList:n,isAuth:t})}),K.jsx(zi,{path:"/lecoindesdesserts/admin-login",element:K.jsx(rU,{setIsAuth:e,isAuth:t})}),K.jsx(zi,{path:"/lecoindesdesserts/admin-management",element:K.jsx(nU,{isAuth:t})}),K.jsx(zi,{path:"/lecoindesdesserts/admin-edit/:editId",element:K.jsx(oU,{isAuth:t})})]})}),K.jsx(YA,{})]})}bh.createRoot(document.getElementById("root")).render(K.jsx(r0.StrictMode,{children:K.jsx(sU,{})}));
